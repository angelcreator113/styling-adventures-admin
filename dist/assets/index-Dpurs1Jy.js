const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomeSwitcher-DBkigiYO.js","assets/HomeSwitcher-DtnPXkgb.css","assets/UploadClosetPage-Cx0ULQbU.js","assets/upload-page-yXbAKKa7.js","assets/firebase-helpers-C5EXP52w.js","assets/image-pipeline-NuN-Pp6Y.js","assets/index.esm-Cclw387c.js","assets/theme-service-yZ4BYXBV.js","assets/board-helpers-BSw2y6wO.js","assets/upload-page-D0czorOJ.css","assets/useUserRole-xi4rwFu_.js","assets/UploadVoicePage-BXwQwM7M.js","assets/UploadEpisodePage-tifiiNrV.js","assets/ForumPage-BnEkT94O.js","assets/ForumPage-x5Rh2izg.css","assets/BoardsPage-C2N0bRyA.js","assets/AdminBoardsAnalytics-CDcbF0Mi.js","assets/BarChart-K5O1mw2L.js","assets/ThemesAdmin-B9wayaVN.js","assets/AdminUsers-CXw35Tqj.js","assets/AdminContentCloset-eaTok-xb.js","assets/AdminContentEpisodes-CIxkrkTX.js","assets/CreatorBoardsAnalytics-CCalL9dD.js","assets/CreatorSpacesIndex-CkySZeK0.js","assets/CreatorSpaceDetail-BFCIm73v.js","assets/SpaceUpload-DFWjTq71.js","assets/CreatorSpaceDetail-fQayJ5nU.css"])))=>i.map(i=>d[i]);
function QS(i,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in i)){const u=Object.getOwnPropertyDescriptor(s,o);u&&Object.defineProperty(i,o,u.get?u:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();function n1(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var op={exports:{}},fu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE;function YS(){if(QE)return fu;QE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return fu.Fragment=e,fu.jsx=t,fu.jsxs=t,fu}var YE;function XS(){return YE||(YE=1,op.exports=YS()),op.exports}var S=XS(),lp={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XE;function WS(){if(XE)return Ie;XE=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),A=Symbol.iterator;function T(k){return k===null||typeof k!="object"?null:(k=A&&k[A]||k["@@iterator"],typeof k=="function"?k:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,$={};function q(k,te,le){this.props=k,this.context=te,this.refs=$,this.updater=le||D}q.prototype.isReactComponent={},q.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},q.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function se(k,te,le){this.props=k,this.context=te,this.refs=$,this.updater=le||D}var ne=se.prototype=new Y;ne.constructor=se,L(ne,q.prototype),ne.isPureReactComponent=!0;var fe=Array.isArray,ce={H:null,A:null,T:null,S:null,V:null},Re=Object.prototype.hasOwnProperty;function V(k,te,le,ie,ge,De){return le=De.ref,{$$typeof:i,type:k,key:te,ref:le!==void 0?le:null,props:De}}function R(k,te){return V(k.type,te,void 0,void 0,void 0,k.props)}function I(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function P(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return te[le]})}var O=/\/+/g;function U(k,te){return typeof k=="object"&&k!==null&&k.key!=null?P(""+k.key):te.toString(36)}function N(){}function At(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(N,N):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function mt(k,te,le,ie,ge){var De=typeof k;(De==="undefined"||De==="boolean")&&(k=null);var Ae=!1;if(k===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(k.$$typeof){case i:case e:Ae=!0;break;case _:return Ae=k._init,mt(Ae(k._payload),te,le,ie,ge)}}if(Ae)return ge=ge(k),Ae=ie===""?"."+U(k,0):ie,fe(ge)?(le="",Ae!=null&&(le=Ae.replace(O,"$&/")+"/"),mt(ge,te,le,"",function(fi){return fi})):ge!=null&&(I(ge)&&(ge=R(ge,le+(ge.key==null||k&&k.key===ge.key?"":(""+ge.key).replace(O,"$&/")+"/")+Ae)),te.push(ge)),1;Ae=0;var Lt=ie===""?".":ie+":";if(fe(k))for(var it=0;it<k.length;it++)ie=k[it],De=Lt+U(ie,it),Ae+=mt(ie,te,le,De,ge);else if(it=T(k),typeof it=="function")for(k=it.call(k),it=0;!(ie=k.next()).done;)ie=ie.value,De=Lt+U(ie,it++),Ae+=mt(ie,te,le,De,ge);else if(De==="object"){if(typeof k.then=="function")return mt(At(k),te,le,ie,ge);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(k,te,le){if(k==null)return k;var ie=[],ge=0;return mt(k,ie,"","",function(De){return te.call(le,De,ge++)}),ie}function oe(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function He(){}return Ie.Children={map:X,forEach:function(k,te,le){X(k,function(){te.apply(this,arguments)},le)},count:function(k){var te=0;return X(k,function(){te++}),te},toArray:function(k){return X(k,function(te){return te})||[]},only:function(k){if(!I(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ie.Component=q,Ie.Fragment=t,Ie.Profiler=o,Ie.PureComponent=se,Ie.StrictMode=s,Ie.Suspense=p,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ce,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(k){return ce.H.useMemoCache(k)}},Ie.cache=function(k){return function(){return k.apply(null,arguments)}},Ie.cloneElement=function(k,te,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ie=L({},k.props),ge=k.key,De=void 0;if(te!=null)for(Ae in te.ref!==void 0&&(De=void 0),te.key!==void 0&&(ge=""+te.key),te)!Re.call(te,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&te.ref===void 0||(ie[Ae]=te[Ae]);var Ae=arguments.length-2;if(Ae===1)ie.children=le;else if(1<Ae){for(var Lt=Array(Ae),it=0;it<Ae;it++)Lt[it]=arguments[it+2];ie.children=Lt}return V(k.type,ge,void 0,void 0,De,ie)},Ie.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ie.createElement=function(k,te,le){var ie,ge={},De=null;if(te!=null)for(ie in te.key!==void 0&&(De=""+te.key),te)Re.call(te,ie)&&ie!=="key"&&ie!=="__self"&&ie!=="__source"&&(ge[ie]=te[ie]);var Ae=arguments.length-2;if(Ae===1)ge.children=le;else if(1<Ae){for(var Lt=Array(Ae),it=0;it<Ae;it++)Lt[it]=arguments[it+2];ge.children=Lt}if(k&&k.defaultProps)for(ie in Ae=k.defaultProps,Ae)ge[ie]===void 0&&(ge[ie]=Ae[ie]);return V(k,De,void 0,void 0,null,ge)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(k){return{$$typeof:m,render:k}},Ie.isValidElement=I,Ie.lazy=function(k){return{$$typeof:_,_payload:{_status:-1,_result:k},_init:oe}},Ie.memo=function(k,te){return{$$typeof:g,type:k,compare:te===void 0?null:te}},Ie.startTransition=function(k){var te=ce.T,le={};ce.T=le;try{var ie=k(),ge=ce.S;ge!==null&&ge(le,ie),typeof ie=="object"&&ie!==null&&typeof ie.then=="function"&&ie.then(He,pe)}catch(De){pe(De)}finally{ce.T=te}},Ie.unstable_useCacheRefresh=function(){return ce.H.useCacheRefresh()},Ie.use=function(k){return ce.H.use(k)},Ie.useActionState=function(k,te,le){return ce.H.useActionState(k,te,le)},Ie.useCallback=function(k,te){return ce.H.useCallback(k,te)},Ie.useContext=function(k){return ce.H.useContext(k)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(k,te){return ce.H.useDeferredValue(k,te)},Ie.useEffect=function(k,te,le){var ie=ce.H;if(typeof le=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ie.useEffect(k,te)},Ie.useId=function(){return ce.H.useId()},Ie.useImperativeHandle=function(k,te,le){return ce.H.useImperativeHandle(k,te,le)},Ie.useInsertionEffect=function(k,te){return ce.H.useInsertionEffect(k,te)},Ie.useLayoutEffect=function(k,te){return ce.H.useLayoutEffect(k,te)},Ie.useMemo=function(k,te){return ce.H.useMemo(k,te)},Ie.useOptimistic=function(k,te){return ce.H.useOptimistic(k,te)},Ie.useReducer=function(k,te,le){return ce.H.useReducer(k,te,le)},Ie.useRef=function(k){return ce.H.useRef(k)},Ie.useState=function(k){return ce.H.useState(k)},Ie.useSyncExternalStore=function(k,te,le){return ce.H.useSyncExternalStore(k,te,le)},Ie.useTransition=function(){return ce.H.useTransition()},Ie.version="19.1.1",Ie}var WE;function mg(){return WE||(WE=1,lp.exports=WS()),lp.exports}var x=mg();const Ce=n1(x),b6=QS({__proto__:null,default:Ce},[x]);var up={exports:{}},du={},cp={exports:{}},hp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE;function ZS(){return ZE||(ZE=1,function(i){function e(X,oe){var pe=X.length;X.push(oe);e:for(;0<pe;){var He=pe-1>>>1,k=X[He];if(0<o(k,oe))X[He]=oe,X[pe]=k,pe=He;else break e}}function t(X){return X.length===0?null:X[0]}function s(X){if(X.length===0)return null;var oe=X[0],pe=X.pop();if(pe!==oe){X[0]=pe;e:for(var He=0,k=X.length,te=k>>>1;He<te;){var le=2*(He+1)-1,ie=X[le],ge=le+1,De=X[ge];if(0>o(ie,pe))ge<k&&0>o(De,ie)?(X[He]=De,X[ge]=pe,He=ge):(X[He]=ie,X[le]=pe,He=le);else if(ge<k&&0>o(De,pe))X[He]=De,X[ge]=pe,He=ge;else break e}}return oe}function o(X,oe){var pe=X.sortIndex-oe.sortIndex;return pe!==0?pe:X.id-oe.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],_=1,A=null,T=3,D=!1,L=!1,$=!1,q=!1,Y=typeof setTimeout=="function"?setTimeout:null,se=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function fe(X){for(var oe=t(g);oe!==null;){if(oe.callback===null)s(g);else if(oe.startTime<=X)s(g),oe.sortIndex=oe.expirationTime,e(p,oe);else break;oe=t(g)}}function ce(X){if($=!1,fe(X),!L)if(t(p)!==null)L=!0,Re||(Re=!0,U());else{var oe=t(g);oe!==null&&mt(ce,oe.startTime-X)}}var Re=!1,V=-1,R=5,I=-1;function P(){return q?!0:!(i.unstable_now()-I<R)}function O(){if(q=!1,Re){var X=i.unstable_now();I=X;var oe=!0;try{e:{L=!1,$&&($=!1,se(V),V=-1),D=!0;var pe=T;try{t:{for(fe(X),A=t(p);A!==null&&!(A.expirationTime>X&&P());){var He=A.callback;if(typeof He=="function"){A.callback=null,T=A.priorityLevel;var k=He(A.expirationTime<=X);if(X=i.unstable_now(),typeof k=="function"){A.callback=k,fe(X),oe=!0;break t}A===t(p)&&s(p),fe(X)}else s(p);A=t(p)}if(A!==null)oe=!0;else{var te=t(g);te!==null&&mt(ce,te.startTime-X),oe=!1}}break e}finally{A=null,T=pe,D=!1}oe=void 0}}finally{oe?U():Re=!1}}}var U;if(typeof ne=="function")U=function(){ne(O)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,At=N.port2;N.port1.onmessage=O,U=function(){At.postMessage(null)}}else U=function(){Y(O,0)};function mt(X,oe){V=Y(function(){X(i.unstable_now())},oe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(X){X.callback=null},i.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<X?Math.floor(1e3/X):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(X){switch(T){case 1:case 2:case 3:var oe=3;break;default:oe=T}var pe=T;T=oe;try{return X()}finally{T=pe}},i.unstable_requestPaint=function(){q=!0},i.unstable_runWithPriority=function(X,oe){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pe=T;T=X;try{return oe()}finally{T=pe}},i.unstable_scheduleCallback=function(X,oe,pe){var He=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?He+pe:He):pe=He,X){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=pe+k,X={id:_++,callback:oe,priorityLevel:X,startTime:pe,expirationTime:k,sortIndex:-1},pe>He?(X.sortIndex=pe,e(g,X),t(p)===null&&X===t(g)&&($?(se(V),V=-1):$=!0,mt(ce,pe-He))):(X.sortIndex=k,e(p,X),L||D||(L=!0,Re||(Re=!0,U()))),X},i.unstable_shouldYield=P,i.unstable_wrapCallback=function(X){var oe=T;return function(){var pe=T;T=oe;try{return X.apply(this,arguments)}finally{T=pe}}}}(hp)),hp}var JE;function JS(){return JE||(JE=1,cp.exports=ZS()),cp.exports}var fp={exports:{}},nn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function eR(){if(e0)return nn;e0=1;var i=mg();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)g+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,_){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:g,implementation:_}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,nn.createPortal=function(p,g){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,_)},nn.flushSync=function(p){var g=h.T,_=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=_,s.d.f()}},nn.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},nn.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},nn.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var _=g.as,A=m(_,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;_==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:A,integrity:T,fetchPriority:D}):_==="script"&&s.d.X(p,{crossOrigin:A,integrity:T,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},nn.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var _=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},nn.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var _=g.as,A=m(_,g.crossOrigin);s.d.L(p,_,{crossOrigin:A,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},nn.preloadModule=function(p,g){if(typeof p=="string")if(g){var _=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},nn.requestFormReset=function(p){s.d.r(p)},nn.unstable_batchedUpdates=function(p,g){return p(g)},nn.useFormState=function(p,g,_){return h.H.useFormState(p,g,_)},nn.useFormStatus=function(){return h.H.useHostTransitionStatus()},nn.version="19.1.1",nn}var t0;function tR(){if(t0)return fp.exports;t0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),fp.exports=eR(),fp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function nR(){if(n0)return du;n0=1;var i=JS(),e=mg(),t=tR();function s(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function u(n){var r=n,a=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(a=r.return),n=r.return;while(n)}return r.tag===3?a:null}function h(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function m(n){if(u(n)!==n)throw Error(s(188))}function p(n){var r=n.alternate;if(!r){if(r=u(n),r===null)throw Error(s(188));return r!==n?null:n}for(var a=n,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),n;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var E=!1,b=f.child;b;){if(b===a){E=!0,a=f,l=d;break}if(b===l){E=!0,l=f,a=d;break}b=b.sibling}if(!E){for(b=d.child;b;){if(b===a){E=!0,a=d,l=f;break}if(b===l){E=!0,l=d,a=f;break}b=b.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var _=Object.assign,A=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),Y=Symbol.for("react.provider"),se=Symbol.for("react.consumer"),ne=Symbol.for("react.context"),fe=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),Re=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function U(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var N=Symbol.for("react.client.reference");function At(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===N?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case L:return"Fragment";case q:return"Profiler";case $:return"StrictMode";case ce:return"Suspense";case Re:return"SuspenseList";case I:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case D:return"Portal";case ne:return(n.displayName||"Context")+".Provider";case se:return(n._context.displayName||"Context")+".Consumer";case fe:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case V:return r=n.displayName||null,r!==null?r:At(n.type)||"Memo";case R:r=n._payload,n=n._init;try{return At(n(r))}catch{}}return null}var mt=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe={pending:!1,data:null,method:null,action:null},He=[],k=-1;function te(n){return{current:n}}function le(n){0>k||(n.current=He[k],He[k]=null,k--)}function ie(n,r){k++,He[k]=n.current,n.current=r}var ge=te(null),De=te(null),Ae=te(null),Lt=te(null);function it(n,r){switch(ie(Ae,r),ie(De,n),ie(ge,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?bE(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=bE(r),n=AE(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}le(ge),ie(ge,n)}function fi(){le(ge),le(De),le(Ae)}function Dr(n){n.memoizedState!==null&&ie(Lt,n);var r=ge.current,a=AE(r,n.type);r!==a&&(ie(De,n),ie(ge,a))}function Fi(n){De.current===n&&(le(ge),le(De)),Lt.current===n&&(le(Lt),ou._currentValue=pe)}var xs=Object.prototype.hasOwnProperty,Os=i.unstable_scheduleCallback,ks=i.unstable_cancelCallback,rl=i.unstable_shouldYield,fc=i.unstable_requestPaint,Mn=i.unstable_now,od=i.unstable_getCurrentPriorityLevel,sl=i.unstable_ImmediatePriority,Ma=i.unstable_UserBlockingPriority,Ms=i.unstable_NormalPriority,ld=i.unstable_LowPriority,Pa=i.unstable_IdlePriority,al=i.log,dc=i.unstable_setDisableYieldValue,pt=null,Qe=null;function wn(n){if(typeof al=="function"&&dc(n),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(pt,n)}catch{}}var en=Math.clz32?Math.clz32:Ps,mc=Math.log,ud=Math.LN2;function Ps(n){return n>>>=0,n===0?32:31-(mc(n)/ud|0)|0}var Vs=256,Ls=4194304;function Xn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Va(n,r,a){var l=n.pendingLanes;if(l===0)return 0;var f=0,d=n.suspendedLanes,E=n.pingedLanes;n=n.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=Xn(l):(E&=b,E!==0?f=Xn(E):a||(a=b&~n,a!==0&&(f=Xn(a))))):(b=l&~d,b!==0?f=Xn(b):E!==0?f=Xn(E):a||(a=l&~n,a!==0&&(f=Xn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function Us(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function ol(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ll(){var n=Vs;return Vs<<=1,(Vs&4194048)===0&&(Vs=256),n}function ul(){var n=Ls;return Ls<<=1,(Ls&62914560)===0&&(Ls=4194304),n}function Gi(n){for(var r=[],a=0;31>a;a++)r.push(n);return r}function $i(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function cl(n,r,a,l,f,d){var E=n.pendingLanes;n.pendingLanes=a,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=a,n.entangledLanes&=a,n.errorRecoveryDisabledLanes&=a,n.shellSuspendCounter=0;var b=n.entanglements,C=n.expirationTimes,H=n.hiddenUpdates;for(a=E&~a;0<a;){var W=31-en(a),J=1<<W;b[W]=0,C[W]=-1;var F=H[W];if(F!==null)for(H[W]=null,W=0;W<F.length;W++){var G=F[W];G!==null&&(G.lane&=-536870913)}a&=~J}l!==0&&di(n,l,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(E&~r))}function di(n,r,a){n.pendingLanes|=r,n.suspendedLanes&=~r;var l=31-en(r);n.entangledLanes|=r,n.entanglements[l]=n.entanglements[l]|1073741824|a&4194090}function hl(n,r){var a=n.entangledLanes|=r;for(n=n.entanglements;a;){var l=31-en(a),f=1<<l;f&r|n[l]&r&&(n[l]|=r),a&=~f}}function xr(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function La(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Or(){var n=oe.p;return n!==0?n:(n=window.event,n===void 0?32:qE(n.type))}function pc(n,r){var a=oe.p;try{return oe.p=n,r()}finally{oe.p=a}}var lt=Math.random().toString(36).slice(2),xt="__reactFiber$"+lt,wt="__reactProps$"+lt,Pn="__reactContainer$"+lt,fl="__reactEvents$"+lt,cd="__reactListeners$"+lt,kr="__reactHandles$"+lt,gc="__reactResources$"+lt,js="__reactMarker$"+lt;function Mr(n){delete n[xt],delete n[wt],delete n[fl],delete n[cd],delete n[kr]}function Ki(n){var r=n[xt];if(r)return r;for(var a=n.parentNode;a;){if(r=a[Pn]||a[xt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(n=IE(n);n!==null;){if(a=n[xt])return a;n=IE(n)}return r}n=a,a=n.parentNode}return null}function mi(n){if(n=n[xt]||n[Pn]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function pi(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(s(33))}function un(n){var r=n[gc];return r||(r=n[gc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function vt(n){n[js]=!0}var dl=new Set,Ua={};function Wn(n,r){Qi(n,r),Qi(n+"Capture",r)}function Qi(n,r){for(Ua[n]=r,n=0;n<r.length;n++)dl.add(r[n])}var yc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_c={},zs={};function vc(n){return xs.call(zs,n)?!0:xs.call(_c,n)?!1:yc.test(n)?zs[n]=!0:(_c[n]=!0,!1)}function Pr(n,r,a){if(vc(r))if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+a)}}function gi(n,r,a){if(a===null)n.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+a)}}function Ft(n,r,a,l){if(l===null)n.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttributeNS(r,a,""+l)}}var Bs,Ec;function Yi(n){if(Bs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Bs=r&&r[1]||"",Ec=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Bs+n+Ec}var ja=!1;function za(n,r){if(!n||ja)return"";ja=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var F=G}Reflect.construct(n,[],J)}else{try{J.call()}catch(G){F=G}n.call(J.prototype)}}else{try{throw Error()}catch(G){F=G}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&F&&typeof G.stack=="string")return[G.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],b=d[1];if(E&&b){var C=E.split(`
`),H=b.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<H.length&&!H[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===H.length)for(l=C.length-1,f=H.length-1;1<=l&&0<=f&&C[l]!==H[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==H[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==H[f]){var W=`
`+C[l].replace(" at new "," at ");return n.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",n.displayName)),W}while(1<=l&&0<=f);break}}}finally{ja=!1,Error.prepareStackTrace=a}return(a=n?n.displayName||n.name:"")?Yi(a):""}function ml(n){switch(n.tag){case 26:case 27:case 5:return Yi(n.type);case 16:return Yi("Lazy");case 13:return Yi("Suspense");case 19:return Yi("SuspenseList");case 0:case 15:return za(n.type,!1);case 11:return za(n.type.render,!1);case 1:return za(n.type,!0);case 31:return Yi("Activity");default:return""}}function Ba(n){try{var r="";do r+=ml(n),n=n.return;while(n);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function cn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function pl(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function hd(n){var r=pl(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),l=""+n[r];if(!n.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return f.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(n,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function qa(n){n._valueTracker||(n._valueTracker=hd(n))}function gl(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return n&&(l=pl(n)?n.checked?"true":"false":n.value),n=l,n!==a?(r.setValue(n),!0):!1}function qs(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var fd=/[\n"\\]/g;function St(n){return n.replace(fd,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Sn(n,r,a,l,f,d,E,b){n.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.type=E:n.removeAttribute("type"),r!=null?E==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+cn(r)):n.value!==""+cn(r)&&(n.value=""+cn(r)):E!=="submit"&&E!=="reset"||n.removeAttribute("value"),r!=null?Vr(n,E,cn(r)):a!=null?Vr(n,E,cn(a)):l!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+cn(b):n.removeAttribute("name")}function Hs(n,r,a,l,f,d,E,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+cn(a):"",r=r!=null?""+cn(r):a,b||r===n.value||(n.value=r),n.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,n.checked=b?n.checked:!!l,n.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(n.name=E)}function Vr(n,r,a){r==="number"&&qs(n.ownerDocument)===n||n.defaultValue===""+a||(n.defaultValue=""+a)}function Xi(n,r,a,l){if(n=n.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<n.length;a++)f=r.hasOwnProperty("$"+n[a].value),n[a].selected!==f&&(n[a].selected=f),f&&l&&(n[a].defaultSelected=!0)}else{for(a=""+cn(a),r=null,f=0;f<n.length;f++){if(n[f].value===a){n[f].selected=!0,l&&(n[f].defaultSelected=!0);return}r!==null||n[f].disabled||(r=n[f])}r!==null&&(r.selected=!0)}}function We(n,r,a){if(r!=null&&(r=""+cn(r),r!==n.value&&(n.value=r),a==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=a!=null?""+cn(a):""}function Fs(n,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(mt(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=cn(r),n.defaultValue=a,l=n.textContent,l===a&&l!==""&&l!==null&&(n.value=l)}function Vn(n,r){if(r){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=r;return}}n.textContent=r}var Gs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tc(n,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":l?n.setProperty(r,a):typeof a!="number"||a===0||Gs.has(r)?r==="float"?n.cssFloat=a:n[r]=(""+a).trim():n[r]=a+"px"}function yl(n,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(n=n.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?n.setProperty(l,""):l==="float"?n.cssFloat="":n[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Tc(n,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Tc(n,d,r[d])}function _l(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),md=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ha(n){return md.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var Wi=null;function Ln(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Zi=null,Ji=null;function vl(n){var r=mi(n);if(r&&(n=r.stateNode)){var a=n[wt]||null;e:switch(n=r.stateNode,r.type){case"input":if(Sn(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+St(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==n&&l.form===n.form){var f=l[wt]||null;if(!f)throw Error(s(90));Sn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===n.form&&gl(l)}break e;case"textarea":We(n,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Xi(n,!!a.multiple,r,!1)}}}var yi=!1;function bc(n,r,a){if(yi)return n(r,a);yi=!0;try{var l=n(r);return l}finally{if(yi=!1,(Zi!==null||Ji!==null)&&(ph(),Zi&&(r=Zi,n=Ji,Ji=Zi=null,vl(r),n)))for(r=0;r<n.length;r++)vl(n[r])}}function $s(n,r){var a=n.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(n=n.type,l=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!l;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Un=!1;if(Zn)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Un=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Un=!1}var _i=null,Lr=null,er=null;function El(){if(er)return er;var n,r=Lr,a=r.length,l,f="value"in _i?_i.value:_i.textContent,d=f.length;for(n=0;n<a&&r[n]===f[n];n++);var E=a-n;for(l=1;l<=E&&r[a-l]===f[d-l];l++);return er=f.slice(n,1<l?1-l:void 0)}function vi(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ei(){return!0}function Tl(){return!1}function Ut(n){function r(a,l,f,d,E){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(a=n[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ei:Tl,this.isPropagationStopped=Tl,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ei)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ei)},persist:function(){},isPersistent:Ei}),r}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fa=Ut($e),Qs=_({},$e,{view:0,detail:0}),Ac=Ut(Qs),Ga,$a,Ti,Ys=_({},Qs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ti&&(Ti&&n.type==="mousemove"?(Ga=n.screenX-Ti.screenX,$a=n.screenY-Ti.screenY):$a=Ga=0,Ti=n),Ga)},movementY:function(n){return"movementY"in n?n.movementY:$a}}),jn=Ut(Ys),wc=_({},Ys,{dataTransfer:0}),pd=Ut(wc),Xs=_({},Qs,{relatedTarget:0}),Ka=Ut(Xs),bl=_({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Qa=Ut(bl),Sc=_({},$e,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ya=Ut(Sc),gd=_({},$e,{data:0}),Al=Ut(gd),Ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wl(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Ic[n])?!!r[n]:!1}function Zs(){return wl}var Cc=_({},Qs,{key:function(n){if(n.key){var r=Ws[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=vi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Rc[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(n){return n.type==="keypress"?vi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?vi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Xa=Ut(Cc),Nc=_({},Ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sl=Ut(Nc),tr=_({},Qs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),Dc=Ut(tr),xc=_({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Oc=Ut(xc),kc=_({},Ys,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Wa=Ut(kc),hn=_({},$e,{newState:0,oldState:0}),Mc=Ut(hn),Pc=[9,13,27,32],bi=Zn&&"CompositionEvent"in window,c=null;Zn&&"documentMode"in document&&(c=document.documentMode);var y=Zn&&"TextEvent"in window&&!c,v=Zn&&(!bi||c&&8<c&&11>=c),w=" ",z=!1;function K(n,r){switch(n){case"keyup":return Pc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ae(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Ue=!1;function Ot(n,r){switch(n){case"compositionend":return ae(r);case"keypress":return r.which!==32?null:(z=!0,w);case"textInput":return n=r.data,n===w&&z?null:n;default:return null}}function je(n,r){if(Ue)return n==="compositionend"||!bi&&K(n,r)?(n=El(),er=Lr=_i=null,Ue=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kt(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!jt[n.type]:r==="textarea"}function nr(n,r,a,l){Zi?Ji?Ji.push(l):Ji=[l]:Zi=l,r=Th(r,"onChange"),0<r.length&&(a=new Fa("onChange","change",null,a,l),n.push({event:a,listeners:r}))}var Gt=null,Ai=null;function Rl(n){yE(n,0)}function Vc(n){var r=pi(n);if(gl(r))return n}function Uy(n,r){if(n==="change")return r}var jy=!1;if(Zn){var yd;if(Zn){var _d="oninput"in document;if(!_d){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),_d=typeof zy.oninput=="function"}yd=_d}else yd=!1;jy=yd&&(!document.documentMode||9<document.documentMode)}function By(){Gt&&(Gt.detachEvent("onpropertychange",qy),Ai=Gt=null)}function qy(n){if(n.propertyName==="value"&&Vc(Ai)){var r=[];nr(r,Ai,n,Ln(n)),bc(Rl,r)}}function ww(n,r,a){n==="focusin"?(By(),Gt=r,Ai=a,Gt.attachEvent("onpropertychange",qy)):n==="focusout"&&By()}function Sw(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Vc(Ai)}function Rw(n,r){if(n==="click")return Vc(r)}function Iw(n,r){if(n==="input"||n==="change")return Vc(r)}function Cw(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var Rn=typeof Object.is=="function"?Object.is:Cw;function Il(n,r){if(Rn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var a=Object.keys(n),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!xs.call(r,f)||!Rn(n[f],r[f]))return!1}return!0}function Hy(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Fy(n,r){var a=Hy(n);n=0;for(var l;a;){if(a.nodeType===3){if(l=n+a.textContent.length,n<=r&&l>=r)return{node:a,offset:r-n};n=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Hy(a)}}function Gy(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Gy(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function $y(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=qs(n.document);r instanceof n.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)n=r.contentWindow;else break;r=qs(n.document)}return r}function vd(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Nw=Zn&&"documentMode"in document&&11>=document.documentMode,Za=null,Ed=null,Cl=null,Td=!1;function Ky(n,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Td||Za==null||Za!==qs(l)||(l=Za,"selectionStart"in l&&vd(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Cl&&Il(Cl,l)||(Cl=l,l=Th(Ed,"onSelect"),0<l.length&&(r=new Fa("onSelect","select",null,r,a),n.push({event:r,listeners:l}),r.target=Za)))}function Js(n,r){var a={};return a[n.toLowerCase()]=r.toLowerCase(),a["Webkit"+n]="webkit"+r,a["Moz"+n]="moz"+r,a}var Ja={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},bd={},Qy={};Zn&&(Qy=document.createElement("div").style,"AnimationEvent"in window||(delete Ja.animationend.animation,delete Ja.animationiteration.animation,delete Ja.animationstart.animation),"TransitionEvent"in window||delete Ja.transitionend.transition);function ea(n){if(bd[n])return bd[n];if(!Ja[n])return n;var r=Ja[n],a;for(a in r)if(r.hasOwnProperty(a)&&a in Qy)return bd[n]=r[a];return n}var Yy=ea("animationend"),Xy=ea("animationiteration"),Wy=ea("animationstart"),Dw=ea("transitionrun"),xw=ea("transitionstart"),Ow=ea("transitioncancel"),Zy=ea("transitionend"),Jy=new Map,Ad="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ad.push("scrollEnd");function Jn(n,r){Jy.set(n,r),Wn(r,[n])}var e_=new WeakMap;function zn(n,r){if(typeof n=="object"&&n!==null){var a=e_.get(n);return a!==void 0?a:(r={value:n,source:r,stack:Ba(r)},e_.set(n,r),r)}return{value:n,source:r,stack:Ba(r)}}var Bn=[],eo=0,wd=0;function Lc(){for(var n=eo,r=wd=eo=0;r<n;){var a=Bn[r];Bn[r++]=null;var l=Bn[r];Bn[r++]=null;var f=Bn[r];Bn[r++]=null;var d=Bn[r];if(Bn[r++]=null,l!==null&&f!==null){var E=l.pending;E===null?f.next=f:(f.next=E.next,E.next=f),l.pending=f}d!==0&&t_(a,f,d)}}function Uc(n,r,a,l){Bn[eo++]=n,Bn[eo++]=r,Bn[eo++]=a,Bn[eo++]=l,wd|=l,n.lanes|=l,n=n.alternate,n!==null&&(n.lanes|=l)}function Sd(n,r,a,l){return Uc(n,r,a,l),jc(n)}function to(n,r){return Uc(n,null,null,r),jc(n)}function t_(n,r,a){n.lanes|=a;var l=n.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=n.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&r!==null&&(f=31-en(a),n=d.hiddenUpdates,l=n[f],l===null?n[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function jc(n){if(50<Jl)throw Jl=0,xm=null,Error(s(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var no={};function kw(n,r,a,l){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,r,a,l){return new kw(n,r,a,l)}function Rd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ir(n,r){var a=n.alternate;return a===null?(a=In(n.tag,r,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=r,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&65011712,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,r=n.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a.refCleanup=n.refCleanup,a}function n_(n,r){n.flags&=65011714;var a=n.alternate;return a===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=a.childLanes,n.lanes=a.lanes,n.child=a.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=a.memoizedProps,n.memoizedState=a.memoizedState,n.updateQueue=a.updateQueue,n.type=a.type,r=a.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function zc(n,r,a,l,f,d){var E=0;if(l=n,typeof n=="function")Rd(n)&&(E=1);else if(typeof n=="string")E=PS(n,a,ge.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case I:return n=In(31,a,r,f),n.elementType=I,n.lanes=d,n;case L:return ta(a.children,f,d,r);case $:E=8,f|=24;break;case q:return n=In(12,a,r,f|2),n.elementType=q,n.lanes=d,n;case ce:return n=In(13,a,r,f),n.elementType=ce,n.lanes=d,n;case Re:return n=In(19,a,r,f),n.elementType=Re,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Y:case ne:E=10;break e;case se:E=9;break e;case fe:E=11;break e;case V:E=14;break e;case R:E=16,l=null;break e}E=29,a=Error(s(130,n===null?"null":typeof n,"")),l=null}return r=In(E,a,r,f),r.elementType=n,r.type=l,r.lanes=d,r}function ta(n,r,a,l){return n=In(7,n,l,r),n.lanes=a,n}function Id(n,r,a){return n=In(6,n,null,r),n.lanes=a,n}function Cd(n,r,a){return r=In(4,n.children!==null?n.children:[],n.key,r),r.lanes=a,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var io=[],ro=0,Bc=null,qc=0,qn=[],Hn=0,na=null,rr=1,sr="";function ia(n,r){io[ro++]=qc,io[ro++]=Bc,Bc=n,qc=r}function i_(n,r,a){qn[Hn++]=rr,qn[Hn++]=sr,qn[Hn++]=na,na=n;var l=rr;n=sr;var f=32-en(l)-1;l&=~(1<<f),a+=1;var d=32-en(r)+f;if(30<d){var E=f-f%5;d=(l&(1<<E)-1).toString(32),l>>=E,f-=E,rr=1<<32-en(r)+f|a<<f|l,sr=d+n}else rr=1<<d|a<<f|l,sr=n}function Nd(n){n.return!==null&&(ia(n,1),i_(n,1,0))}function Dd(n){for(;n===Bc;)Bc=io[--ro],io[ro]=null,qc=io[--ro],io[ro]=null;for(;n===na;)na=qn[--Hn],qn[Hn]=null,sr=qn[--Hn],qn[Hn]=null,rr=qn[--Hn],qn[Hn]=null}var fn=null,gt=null,Fe=!1,ra=null,wi=!1,xd=Error(s(519));function sa(n){var r=Error(s(418,""));throw xl(zn(r,n)),xd}function r_(n){var r=n.stateNode,a=n.type,l=n.memoizedProps;switch(r[xt]=n,r[wt]=l,a){case"dialog":ke("cancel",r),ke("close",r);break;case"iframe":case"object":case"embed":ke("load",r);break;case"video":case"audio":for(a=0;a<tu.length;a++)ke(tu[a],r);break;case"source":ke("error",r);break;case"img":case"image":case"link":ke("error",r),ke("load",r);break;case"details":ke("toggle",r);break;case"input":ke("invalid",r),Hs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),qa(r);break;case"select":ke("invalid",r);break;case"textarea":ke("invalid",r),Fs(r,l.value,l.defaultValue,l.children),qa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||TE(r.textContent,a)?(l.popover!=null&&(ke("beforetoggle",r),ke("toggle",r)),l.onScroll!=null&&ke("scroll",r),l.onScrollEnd!=null&&ke("scrollend",r),l.onClick!=null&&(r.onclick=bh),r=!0):r=!1,r||sa(n)}function s_(n){for(fn=n.return;fn;)switch(fn.tag){case 5:case 13:wi=!1;return;case 27:case 3:wi=!0;return;default:fn=fn.return}}function Nl(n){if(n!==fn)return!1;if(!Fe)return s_(n),Fe=!0,!1;var r=n.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=n.type,a=!(a!=="form"&&a!=="button")||Km(n.type,n.memoizedProps)),a=!a),a&&gt&&sa(n),s_(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));e:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(a=n.data,a==="/$"){if(r===0){gt=ti(n.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;n=n.nextSibling}gt=null}}else r===27?(r=gt,Jr(n.type)?(n=Wm,Wm=null,gt=n):gt=r):gt=fn?ti(n.stateNode.nextSibling):null;return!0}function Dl(){gt=fn=null,Fe=!1}function a_(){var n=ra;return n!==null&&(En===null?En=n:En.push.apply(En,n),ra=null),n}function xl(n){ra===null?ra=[n]:ra.push(n)}var Od=te(null),aa=null,ar=null;function Ur(n,r,a){ie(Od,r._currentValue),r._currentValue=a}function or(n){n._currentValue=Od.current,le(Od)}function kd(n,r,a){for(;n!==null;){var l=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),n===a)break;n=n.return}}function Md(n,r,a,l){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var E=f.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=f;for(var C=0;C<r.length;C++)if(b.context===r[C]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),kd(d.return,a,n),l||(E=null);break e}d=b.next}}else if(f.tag===18){if(E=f.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),kd(E,a,n),E=null}else E=f.child;if(E!==null)E.return=f;else for(E=f;E!==null;){if(E===n){E=null;break}if(f=E.sibling,f!==null){f.return=E.return,E=f;break}E=E.return}f=E}}function Ol(n,r,a,l){n=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var E=f.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var b=f.type;Rn(f.pendingProps.value,E.value)||(n!==null?n.push(b):n=[b])}}else if(f===Lt.current){if(E=f.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(ou):n=[ou])}f=f.return}n!==null&&Md(r,n,a,l),r.flags|=262144}function Hc(n){for(n=n.firstContext;n!==null;){if(!Rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function oa(n){aa=n,ar=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function tn(n){return o_(aa,n)}function Fc(n,r){return aa===null&&oa(n),o_(n,r)}function o_(n,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},ar===null){if(n===null)throw Error(s(308));ar=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else ar=ar.next=r;return a}var Mw=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(a,l){n.push(l)}};this.abort=function(){r.aborted=!0,n.forEach(function(a){return a()})}},Pw=i.unstable_scheduleCallback,Vw=i.unstable_NormalPriority,Mt={$$typeof:ne,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Pd(){return{controller:new Mw,data:new Map,refCount:0}}function kl(n){n.refCount--,n.refCount===0&&Pw(Vw,function(){n.controller.abort()})}var Ml=null,Vd=0,so=0,ao=null;function Lw(n,r){if(Ml===null){var a=Ml=[];Vd=0,so=Um(),ao={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vd++,r.then(l_,l_),r}function l_(){if(--Vd===0&&Ml!==null){ao!==null&&(ao.status="fulfilled");var n=Ml;Ml=null,so=0,ao=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Uw(n,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return n.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var u_=X.S;X.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Lw(n,r),u_!==null&&u_(n,r)};var la=te(null);function Ld(){var n=la.current;return n!==null?n:rt.pooledCache}function Gc(n,r){r===null?ie(la,la.current):ie(la,r.pool)}function c_(){var n=Ld();return n===null?null:{parent:Mt._currentValue,pool:n}}var Pl=Error(s(460)),h_=Error(s(474)),$c=Error(s(542)),Ud={then:function(){}};function f_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Kc(){}function d_(n,r,a){switch(a=n[a],a===void 0?n.push(r):a!==r&&(r.then(Kc,Kc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,p_(n),n;default:if(typeof r.status=="string")r.then(Kc,Kc);else{if(n=rt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=r,n.status="pending",n.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,p_(n),n}throw Vl=r,Pl}}var Vl=null;function m_(){if(Vl===null)throw Error(s(459));var n=Vl;return Vl=null,n}function p_(n){if(n===Pl||n===$c)throw Error(s(483))}var jr=!1;function jd(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zd(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function zr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Br(n,r,a){var l=n.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=jc(n),t_(n,null,a),r}return Uc(n,l,r,a),jc(n)}function Ll(n,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,hl(n,a)}}function Bd(n,r){var a=n.updateQueue,l=n.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=r:n.next=r,a.lastBaseUpdate=r}var qd=!1;function Ul(){if(qd){var n=ao;if(n!==null)throw n}}function jl(n,r,a,l){qd=!1;var f=n.updateQueue;jr=!1;var d=f.firstBaseUpdate,E=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var C=b,H=C.next;C.next=null,E===null?d=H:E.next=H,E=C;var W=n.alternate;W!==null&&(W=W.updateQueue,b=W.lastBaseUpdate,b!==E&&(b===null?W.firstBaseUpdate=H:b.next=H,W.lastBaseUpdate=C))}if(d!==null){var J=f.baseState;E=0,W=H=C=null,b=d;do{var F=b.lane&-536870913,G=F!==b.lane;if(G?(ze&F)===F:(l&F)===F){F!==0&&F===so&&(qd=!0),W!==null&&(W=W.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var Te=n,ye=b;F=r;var et=a;switch(ye.tag){case 1:if(Te=ye.payload,typeof Te=="function"){J=Te.call(et,J,F);break e}J=Te;break e;case 3:Te.flags=Te.flags&-65537|128;case 0:if(Te=ye.payload,F=typeof Te=="function"?Te.call(et,J,F):Te,F==null)break e;J=_({},J,F);break e;case 2:jr=!0}}F=b.callback,F!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[F]:G.push(F))}else G={lane:F,tag:b.tag,payload:b.payload,callback:b.callback,next:null},W===null?(H=W=G,C=J):W=W.next=G,E|=F;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;G=b,b=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);W===null&&(C=J),f.baseState=C,f.firstBaseUpdate=H,f.lastBaseUpdate=W,d===null&&(f.shared.lanes=0),Yr|=E,n.lanes=E,n.memoizedState=J}}function g_(n,r){if(typeof n!="function")throw Error(s(191,n));n.call(r)}function y_(n,r){var a=n.callbacks;if(a!==null)for(n.callbacks=null,n=0;n<a.length;n++)g_(a[n],r)}var oo=te(null),Qc=te(0);function __(n,r){n=mr,ie(Qc,n),ie(oo,r),mr=n|r.baseLanes}function Hd(){ie(Qc,mr),ie(oo,oo.current)}function Fd(){mr=Qc.current,le(oo),le(Qc)}var qr=0,Ne=null,Ze=null,Rt=null,Yc=!1,lo=!1,ua=!1,Xc=0,zl=0,uo=null,jw=0;function Et(){throw Error(s(321))}function Gd(n,r){if(r===null)return!1;for(var a=0;a<r.length&&a<n.length;a++)if(!Rn(n[a],r[a]))return!1;return!0}function $d(n,r,a,l,f,d){return qr=d,Ne=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,X.H=n===null||n.memoizedState===null?tv:nv,ua=!1,d=a(l,f),ua=!1,lo&&(d=E_(r,a,l,f)),v_(n),d}function v_(n){X.H=nh;var r=Ze!==null&&Ze.next!==null;if(qr=0,Rt=Ze=Ne=null,Yc=!1,zl=0,uo=null,r)throw Error(s(300));n===null||zt||(n=n.dependencies,n!==null&&Hc(n)&&(zt=!0))}function E_(n,r,a,l){Ne=n;var f=0;do{if(lo&&(uo=null),zl=0,lo=!1,25<=f)throw Error(s(301));if(f+=1,Rt=Ze=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}X.H=$w,d=r(a,l)}while(lo);return d}function zw(){var n=X.H,r=n.useState()[0];return r=typeof r.then=="function"?Bl(r):r,n=n.useState()[0],(Ze!==null?Ze.memoizedState:null)!==n&&(Ne.flags|=1024),r}function Kd(){var n=Xc!==0;return Xc=0,n}function Qd(n,r,a){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~a}function Yd(n){if(Yc){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Yc=!1}qr=0,Rt=Ze=Ne=null,lo=!1,zl=Xc=0,uo=null}function _n(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?Ne.memoizedState=Rt=n:Rt=Rt.next=n,Rt}function It(){if(Ze===null){var n=Ne.alternate;n=n!==null?n.memoizedState:null}else n=Ze.next;var r=Rt===null?Ne.memoizedState:Rt.next;if(r!==null)Rt=r,Ze=n;else{if(n===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));Ze=n,n={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},Rt===null?Ne.memoizedState=Rt=n:Rt=Rt.next=n}return Rt}function Xd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bl(n){var r=zl;return zl+=1,uo===null&&(uo=[]),n=d_(uo,n,r),r=Ne,(Rt===null?r.memoizedState:Rt.next)===null&&(r=r.alternate,X.H=r===null||r.memoizedState===null?tv:nv),n}function Wc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Bl(n);if(n.$$typeof===ne)return tn(n)}throw Error(s(438,String(n)))}function Wd(n){var r=null,a=Ne.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Xd(),Ne.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(n),l=0;l<n;l++)a[l]=P;return r.index++,a}function lr(n,r){return typeof r=="function"?r(n):r}function Zc(n){var r=It();return Zd(r,Ze,n)}function Zd(n,r,a){var l=n.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=n.baseQueue,d=l.pending;if(d!==null){if(f!==null){var E=f.next;f.next=d.next,d.next=E}r.baseQueue=f=d,l.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{r=f.next;var b=E=null,C=null,H=r,W=!1;do{var J=H.lane&-536870913;if(J!==H.lane?(ze&J)===J:(qr&J)===J){var F=H.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),J===so&&(W=!0);else if((qr&F)===F){H=H.next,F===so&&(W=!0);continue}else J={lane:0,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(b=C=J,E=d):C=C.next=J,Ne.lanes|=F,Yr|=F;J=H.action,ua&&a(d,J),d=H.hasEagerState?H.eagerState:a(d,J)}else F={lane:J,revertLane:H.revertLane,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},C===null?(b=C=F,E=d):C=C.next=F,Ne.lanes|=J,Yr|=J;H=H.next}while(H!==null&&H!==r);if(C===null?E=d:C.next=b,!Rn(d,n.memoizedState)&&(zt=!0,W&&(a=ao,a!==null)))throw a;n.memoizedState=d,n.baseState=E,n.baseQueue=C,l.lastRenderedState=d}return f===null&&(l.lanes=0),[n.memoizedState,l.dispatch]}function Jd(n){var r=It(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=n;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var E=f=f.next;do d=n(d,E.action),E=E.next;while(E!==f);Rn(d,r.memoizedState)||(zt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function T_(n,r,a){var l=Ne,f=It(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var E=!Rn((Ze||f).memoizedState,a);E&&(f.memoizedState=a,zt=!0),f=f.queue;var b=w_.bind(null,l,f,n);if(ql(2048,8,b,[n]),f.getSnapshot!==r||E||Rt!==null&&Rt.memoizedState.tag&1){if(l.flags|=2048,co(9,Jc(),A_.bind(null,l,f,a,r),null),rt===null)throw Error(s(349));d||(qr&124)!==0||b_(l,r,a)}return a}function b_(n,r,a){n.flags|=16384,n={getSnapshot:r,value:a},r=Ne.updateQueue,r===null?(r=Xd(),Ne.updateQueue=r,r.stores=[n]):(a=r.stores,a===null?r.stores=[n]:a.push(n))}function A_(n,r,a,l){r.value=a,r.getSnapshot=l,S_(r)&&R_(n)}function w_(n,r,a){return a(function(){S_(r)&&R_(n)})}function S_(n){var r=n.getSnapshot;n=n.value;try{var a=r();return!Rn(n,a)}catch{return!0}}function R_(n){var r=to(n,2);r!==null&&On(r,n,2)}function em(n){var r=_n();if(typeof n=="function"){var a=n;if(n=a(),ua){wn(!0);try{a()}finally{wn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:n},r}function I_(n,r,a,l){return n.baseState=a,Zd(n,Ze,typeof l=="function"?l:lr)}function Bw(n,r,a,l,f){if(th(n))throw Error(s(485));if(n=r.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};X.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,C_(r,d)):(d.next=a.next,r.pending=a.next=d)}}function C_(n,r){var a=r.action,l=r.payload,f=n.state;if(r.isTransition){var d=X.T,E={};X.T=E;try{var b=a(f,l),C=X.S;C!==null&&C(E,b),N_(n,r,b)}catch(H){tm(n,r,H)}finally{X.T=d}}else try{d=a(f,l),N_(n,r,d)}catch(H){tm(n,r,H)}}function N_(n,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){D_(n,r,l)},function(l){return tm(n,r,l)}):D_(n,r,a)}function D_(n,r,a){r.status="fulfilled",r.value=a,x_(r),n.state=a,r=n.pending,r!==null&&(a=r.next,a===r?n.pending=null:(a=a.next,r.next=a,C_(n,a)))}function tm(n,r,a){var l=n.pending;if(n.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,x_(r),r=r.next;while(r!==l)}n.action=null}function x_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function O_(n,r){return r}function k_(n,r){if(Fe){var a=rt.formState;if(a!==null){e:{var l=Ne;if(Fe){if(gt){t:{for(var f=gt,d=wi;f.nodeType!==8;){if(!d){f=null;break t}if(f=ti(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){gt=ti(f.nextSibling),l=f.data==="F!";break e}}sa(l)}l=!1}l&&(r=a[0])}}return a=_n(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:O_,lastRenderedState:r},a.queue=l,a=Z_.bind(null,Ne,l),l.dispatch=a,l=em(!1),d=am.bind(null,Ne,!1,l.queue),l=_n(),f={state:r,dispatch:null,action:n,pending:null},l.queue=f,a=Bw.bind(null,Ne,f,d,a),f.dispatch=a,l.memoizedState=n,[r,a,!1]}function M_(n){var r=It();return P_(r,Ze,n)}function P_(n,r,a){if(r=Zd(n,r,O_)[0],n=Zc(lr)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=Bl(r)}catch(E){throw E===Pl?$c:E}else l=r;r=It();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ne.flags|=2048,co(9,Jc(),qw.bind(null,f,a),null)),[l,d,n]}function qw(n,r){n.action=r}function V_(n){var r=It(),a=Ze;if(a!==null)return P_(r,a,n);It(),r=r.memoizedState,a=It();var l=a.queue.dispatch;return a.memoizedState=n,[r,l,!1]}function co(n,r,a,l){return n={tag:n,create:a,deps:l,inst:r,next:null},r=Ne.updateQueue,r===null&&(r=Xd(),Ne.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=n.next=n:(l=a.next,a.next=n,n.next=l,r.lastEffect=n),n}function Jc(){return{destroy:void 0,resource:void 0}}function L_(){return It().memoizedState}function eh(n,r,a,l){var f=_n();l=l===void 0?null:l,Ne.flags|=n,f.memoizedState=co(1|r,Jc(),a,l)}function ql(n,r,a,l){var f=It();l=l===void 0?null:l;var d=f.memoizedState.inst;Ze!==null&&l!==null&&Gd(l,Ze.memoizedState.deps)?f.memoizedState=co(r,d,a,l):(Ne.flags|=n,f.memoizedState=co(1|r,d,a,l))}function U_(n,r){eh(8390656,8,n,r)}function j_(n,r){ql(2048,8,n,r)}function z_(n,r){return ql(4,2,n,r)}function B_(n,r){return ql(4,4,n,r)}function q_(n,r){if(typeof r=="function"){n=n();var a=r(n);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function H_(n,r,a){a=a!=null?a.concat([n]):null,ql(4,4,q_.bind(null,r,n),a)}function nm(){}function F_(n,r){var a=It();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&Gd(r,l[1])?l[0]:(a.memoizedState=[n,r],n)}function G_(n,r){var a=It();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&Gd(r,l[1]))return l[0];if(l=n(),ua){wn(!0);try{n()}finally{wn(!1)}}return a.memoizedState=[l,r],l}function im(n,r,a){return a===void 0||(qr&1073741824)!==0?n.memoizedState=r:(n.memoizedState=a,n=Qv(),Ne.lanes|=n,Yr|=n,a)}function $_(n,r,a,l){return Rn(a,r)?a:oo.current!==null?(n=im(n,a,l),Rn(n,r)||(zt=!0),n):(qr&42)===0?(zt=!0,n.memoizedState=a):(n=Qv(),Ne.lanes|=n,Yr|=n,r)}function K_(n,r,a,l,f){var d=oe.p;oe.p=d!==0&&8>d?d:8;var E=X.T,b={};X.T=b,am(n,!1,r,a);try{var C=f(),H=X.S;if(H!==null&&H(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var W=Uw(C,l);Hl(n,r,W,xn(n))}else Hl(n,r,l,xn(n))}catch(J){Hl(n,r,{then:function(){},status:"rejected",reason:J},xn())}finally{oe.p=d,X.T=E}}function Hw(){}function rm(n,r,a,l){if(n.tag!==5)throw Error(s(476));var f=Q_(n).queue;K_(n,f,r,pe,a===null?Hw:function(){return Y_(n),a(l)})}function Q_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:pe,baseState:pe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:pe},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:lr,lastRenderedState:a},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function Y_(n){var r=Q_(n).next.queue;Hl(n,r,{},xn())}function sm(){return tn(ou)}function X_(){return It().memoizedState}function W_(){return It().memoizedState}function Fw(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var a=xn();n=zr(a);var l=Br(r,n,a);l!==null&&(On(l,r,a),Ll(l,r,a)),r={cache:Pd()},n.payload=r;return}r=r.return}}function Gw(n,r,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},th(n)?J_(r,a):(a=Sd(n,r,a,l),a!==null&&(On(a,n,l),ev(a,r,l)))}function Z_(n,r,a){var l=xn();Hl(n,r,a,l)}function Hl(n,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(th(n))J_(r,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var E=r.lastRenderedState,b=d(E,a);if(f.hasEagerState=!0,f.eagerState=b,Rn(b,E))return Uc(n,r,f,0),rt===null&&Lc(),!1}catch{}finally{}if(a=Sd(n,r,f,l),a!==null)return On(a,n,l),ev(a,r,l),!0}return!1}function am(n,r,a,l){if(l={lane:2,revertLane:Um(),action:l,hasEagerState:!1,eagerState:null,next:null},th(n)){if(r)throw Error(s(479))}else r=Sd(n,a,l,2),r!==null&&On(r,n,2)}function th(n){var r=n.alternate;return n===Ne||r!==null&&r===Ne}function J_(n,r){lo=Yc=!0;var a=n.pending;a===null?r.next=r:(r.next=a.next,a.next=r),n.pending=r}function ev(n,r,a){if((a&4194048)!==0){var l=r.lanes;l&=n.pendingLanes,a|=l,r.lanes=a,hl(n,a)}}var nh={readContext:tn,use:Wc,useCallback:Et,useContext:Et,useEffect:Et,useImperativeHandle:Et,useLayoutEffect:Et,useInsertionEffect:Et,useMemo:Et,useReducer:Et,useRef:Et,useState:Et,useDebugValue:Et,useDeferredValue:Et,useTransition:Et,useSyncExternalStore:Et,useId:Et,useHostTransitionStatus:Et,useFormState:Et,useActionState:Et,useOptimistic:Et,useMemoCache:Et,useCacheRefresh:Et},tv={readContext:tn,use:Wc,useCallback:function(n,r){return _n().memoizedState=[n,r===void 0?null:r],n},useContext:tn,useEffect:U_,useImperativeHandle:function(n,r,a){a=a!=null?a.concat([n]):null,eh(4194308,4,q_.bind(null,r,n),a)},useLayoutEffect:function(n,r){return eh(4194308,4,n,r)},useInsertionEffect:function(n,r){eh(4,2,n,r)},useMemo:function(n,r){var a=_n();r=r===void 0?null:r;var l=n();if(ua){wn(!0);try{n()}finally{wn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(n,r,a){var l=_n();if(a!==void 0){var f=a(r);if(ua){wn(!0);try{a(r)}finally{wn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},l.queue=n,n=n.dispatch=Gw.bind(null,Ne,n),[l.memoizedState,n]},useRef:function(n){var r=_n();return n={current:n},r.memoizedState=n},useState:function(n){n=em(n);var r=n.queue,a=Z_.bind(null,Ne,r);return r.dispatch=a,[n.memoizedState,a]},useDebugValue:nm,useDeferredValue:function(n,r){var a=_n();return im(a,n,r)},useTransition:function(){var n=em(!1);return n=K_.bind(null,Ne,n.queue,!0,!1),_n().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,a){var l=Ne,f=_n();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),rt===null)throw Error(s(349));(ze&124)!==0||b_(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,U_(w_.bind(null,l,d,n),[n]),l.flags|=2048,co(9,Jc(),A_.bind(null,l,d,a,r),null),a},useId:function(){var n=_n(),r=rt.identifierPrefix;if(Fe){var a=sr,l=rr;a=(l&~(1<<32-en(l)-1)).toString(32)+a,r=""+r+"R"+a,a=Xc++,0<a&&(r+="H"+a.toString(32)),r+=""}else a=jw++,r=""+r+"r"+a.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:sm,useFormState:k_,useActionState:k_,useOptimistic:function(n){var r=_n();r.memoizedState=r.baseState=n;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=am.bind(null,Ne,!0,a),a.dispatch=r,[n,r]},useMemoCache:Wd,useCacheRefresh:function(){return _n().memoizedState=Fw.bind(null,Ne)}},nv={readContext:tn,use:Wc,useCallback:F_,useContext:tn,useEffect:j_,useImperativeHandle:H_,useInsertionEffect:z_,useLayoutEffect:B_,useMemo:G_,useReducer:Zc,useRef:L_,useState:function(){return Zc(lr)},useDebugValue:nm,useDeferredValue:function(n,r){var a=It();return $_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=Zc(lr)[0],r=It().memoizedState;return[typeof n=="boolean"?n:Bl(n),r]},useSyncExternalStore:T_,useId:X_,useHostTransitionStatus:sm,useFormState:M_,useActionState:M_,useOptimistic:function(n,r){var a=It();return I_(a,Ze,n,r)},useMemoCache:Wd,useCacheRefresh:W_},$w={readContext:tn,use:Wc,useCallback:F_,useContext:tn,useEffect:j_,useImperativeHandle:H_,useInsertionEffect:z_,useLayoutEffect:B_,useMemo:G_,useReducer:Jd,useRef:L_,useState:function(){return Jd(lr)},useDebugValue:nm,useDeferredValue:function(n,r){var a=It();return Ze===null?im(a,n,r):$_(a,Ze.memoizedState,n,r)},useTransition:function(){var n=Jd(lr)[0],r=It().memoizedState;return[typeof n=="boolean"?n:Bl(n),r]},useSyncExternalStore:T_,useId:X_,useHostTransitionStatus:sm,useFormState:V_,useActionState:V_,useOptimistic:function(n,r){var a=It();return Ze!==null?I_(a,Ze,n,r):(a.baseState=n,[n,a.queue.dispatch])},useMemoCache:Wd,useCacheRefresh:W_},ho=null,Fl=0;function ih(n){var r=Fl;return Fl+=1,ho===null&&(ho=[]),d_(ho,n,r)}function Gl(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function rh(n,r){throw r.$$typeof===A?Error(s(525)):(n=Object.prototype.toString.call(r),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function iv(n){var r=n._init;return r(n._payload)}function rv(n){function r(j,M){if(n){var B=j.deletions;B===null?(j.deletions=[M],j.flags|=16):B.push(M)}}function a(j,M){if(!n)return null;for(;M!==null;)r(j,M),M=M.sibling;return null}function l(j){for(var M=new Map;j!==null;)j.key!==null?M.set(j.key,j):M.set(j.index,j),j=j.sibling;return M}function f(j,M){return j=ir(j,M),j.index=0,j.sibling=null,j}function d(j,M,B){return j.index=B,n?(B=j.alternate,B!==null?(B=B.index,B<M?(j.flags|=67108866,M):B):(j.flags|=67108866,M)):(j.flags|=1048576,M)}function E(j){return n&&j.alternate===null&&(j.flags|=67108866),j}function b(j,M,B,Z){return M===null||M.tag!==6?(M=Id(B,j.mode,Z),M.return=j,M):(M=f(M,B),M.return=j,M)}function C(j,M,B,Z){var he=B.type;return he===L?W(j,M,B.props.children,Z,B.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&iv(he)===M.type)?(M=f(M,B.props),Gl(M,B),M.return=j,M):(M=zc(B.type,B.key,B.props,null,j.mode,Z),Gl(M,B),M.return=j,M)}function H(j,M,B,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=Cd(B,j.mode,Z),M.return=j,M):(M=f(M,B.children||[]),M.return=j,M)}function W(j,M,B,Z,he){return M===null||M.tag!==7?(M=ta(B,j.mode,Z,he),M.return=j,M):(M=f(M,B),M.return=j,M)}function J(j,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Id(""+M,j.mode,B),M.return=j,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case T:return B=zc(M.type,M.key,M.props,null,j.mode,B),Gl(B,M),B.return=j,B;case D:return M=Cd(M,j.mode,B),M.return=j,M;case R:var Z=M._init;return M=Z(M._payload),J(j,M,B)}if(mt(M)||U(M))return M=ta(M,j.mode,B,null),M.return=j,M;if(typeof M.then=="function")return J(j,ih(M),B);if(M.$$typeof===ne)return J(j,Fc(j,M),B);rh(j,M)}return null}function F(j,M,B,Z){var he=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return he!==null?null:b(j,M,""+B,Z);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return B.key===he?C(j,M,B,Z):null;case D:return B.key===he?H(j,M,B,Z):null;case R:return he=B._init,B=he(B._payload),F(j,M,B,Z)}if(mt(B)||U(B))return he!==null?null:W(j,M,B,Z,null);if(typeof B.then=="function")return F(j,M,ih(B),Z);if(B.$$typeof===ne)return F(j,M,Fc(j,B),Z);rh(j,B)}return null}function G(j,M,B,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return j=j.get(B)||null,b(M,j,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case T:return j=j.get(Z.key===null?B:Z.key)||null,C(M,j,Z,he);case D:return j=j.get(Z.key===null?B:Z.key)||null,H(M,j,Z,he);case R:var xe=Z._init;return Z=xe(Z._payload),G(j,M,B,Z,he)}if(mt(Z)||U(Z))return j=j.get(B)||null,W(M,j,Z,he,null);if(typeof Z.then=="function")return G(j,M,B,ih(Z),he);if(Z.$$typeof===ne)return G(j,M,B,Fc(M,Z),he);rh(M,Z)}return null}function Te(j,M,B,Z){for(var he=null,xe=null,de=M,_e=M=0,qt=null;de!==null&&_e<B.length;_e++){de.index>_e?(qt=de,de=null):qt=de.sibling;var qe=F(j,de,B[_e],Z);if(qe===null){de===null&&(de=qt);break}n&&de&&qe.alternate===null&&r(j,de),M=d(qe,M,_e),xe===null?he=qe:xe.sibling=qe,xe=qe,de=qt}if(_e===B.length)return a(j,de),Fe&&ia(j,_e),he;if(de===null){for(;_e<B.length;_e++)de=J(j,B[_e],Z),de!==null&&(M=d(de,M,_e),xe===null?he=de:xe.sibling=de,xe=de);return Fe&&ia(j,_e),he}for(de=l(de);_e<B.length;_e++)qt=G(de,j,_e,B[_e],Z),qt!==null&&(n&&qt.alternate!==null&&de.delete(qt.key===null?_e:qt.key),M=d(qt,M,_e),xe===null?he=qt:xe.sibling=qt,xe=qt);return n&&de.forEach(function(rs){return r(j,rs)}),Fe&&ia(j,_e),he}function ye(j,M,B,Z){if(B==null)throw Error(s(151));for(var he=null,xe=null,de=M,_e=M=0,qt=null,qe=B.next();de!==null&&!qe.done;_e++,qe=B.next()){de.index>_e?(qt=de,de=null):qt=de.sibling;var rs=F(j,de,qe.value,Z);if(rs===null){de===null&&(de=qt);break}n&&de&&rs.alternate===null&&r(j,de),M=d(rs,M,_e),xe===null?he=rs:xe.sibling=rs,xe=rs,de=qt}if(qe.done)return a(j,de),Fe&&ia(j,_e),he;if(de===null){for(;!qe.done;_e++,qe=B.next())qe=J(j,qe.value,Z),qe!==null&&(M=d(qe,M,_e),xe===null?he=qe:xe.sibling=qe,xe=qe);return Fe&&ia(j,_e),he}for(de=l(de);!qe.done;_e++,qe=B.next())qe=G(de,j,_e,qe.value,Z),qe!==null&&(n&&qe.alternate!==null&&de.delete(qe.key===null?_e:qe.key),M=d(qe,M,_e),xe===null?he=qe:xe.sibling=qe,xe=qe);return n&&de.forEach(function(KS){return r(j,KS)}),Fe&&ia(j,_e),he}function et(j,M,B,Z){if(typeof B=="object"&&B!==null&&B.type===L&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case T:e:{for(var he=B.key;M!==null;){if(M.key===he){if(he=B.type,he===L){if(M.tag===7){a(j,M.sibling),Z=f(M,B.props.children),Z.return=j,j=Z;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===R&&iv(he)===M.type){a(j,M.sibling),Z=f(M,B.props),Gl(Z,B),Z.return=j,j=Z;break e}a(j,M);break}else r(j,M);M=M.sibling}B.type===L?(Z=ta(B.props.children,j.mode,Z,B.key),Z.return=j,j=Z):(Z=zc(B.type,B.key,B.props,null,j.mode,Z),Gl(Z,B),Z.return=j,j=Z)}return E(j);case D:e:{for(he=B.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(j,M.sibling),Z=f(M,B.children||[]),Z.return=j,j=Z;break e}else{a(j,M);break}else r(j,M);M=M.sibling}Z=Cd(B,j.mode,Z),Z.return=j,j=Z}return E(j);case R:return he=B._init,B=he(B._payload),et(j,M,B,Z)}if(mt(B))return Te(j,M,B,Z);if(U(B)){if(he=U(B),typeof he!="function")throw Error(s(150));return B=he.call(B),ye(j,M,B,Z)}if(typeof B.then=="function")return et(j,M,ih(B),Z);if(B.$$typeof===ne)return et(j,M,Fc(j,B),Z);rh(j,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(j,M.sibling),Z=f(M,B),Z.return=j,j=Z):(a(j,M),Z=Id(B,j.mode,Z),Z.return=j,j=Z),E(j)):a(j,M)}return function(j,M,B,Z){try{Fl=0;var he=et(j,M,B,Z);return ho=null,he}catch(de){if(de===Pl||de===$c)throw de;var xe=In(29,de,null,j.mode);return xe.lanes=Z,xe.return=j,xe}finally{}}}var fo=rv(!0),sv=rv(!1),Fn=te(null),Si=null;function Hr(n){var r=n.alternate;ie(Pt,Pt.current&1),ie(Fn,n),Si===null&&(r===null||oo.current!==null||r.memoizedState!==null)&&(Si=n)}function av(n){if(n.tag===22){if(ie(Pt,Pt.current),ie(Fn,n),Si===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Si=n)}}else Fr()}function Fr(){ie(Pt,Pt.current),ie(Fn,Fn.current)}function ur(n){le(Fn),Si===n&&(Si=null),le(Pt)}var Pt=te(0);function sh(n){for(var r=n;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Xm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function om(n,r,a,l){r=n.memoizedState,a=a(l,r),a=a==null?r:_({},r,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var lm={enqueueSetState:function(n,r,a){n=n._reactInternals;var l=xn(),f=zr(l);f.payload=r,a!=null&&(f.callback=a),r=Br(n,f,l),r!==null&&(On(r,n,l),Ll(r,n,l))},enqueueReplaceState:function(n,r,a){n=n._reactInternals;var l=xn(),f=zr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Br(n,f,l),r!==null&&(On(r,n,l),Ll(r,n,l))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var a=xn(),l=zr(a);l.tag=2,r!=null&&(l.callback=r),r=Br(n,l,a),r!==null&&(On(r,n,a),Ll(r,n,a))}};function ov(n,r,a,l,f,d,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(l,d,E):r.prototype&&r.prototype.isPureReactComponent?!Il(a,l)||!Il(f,d):!0}function lv(n,r,a,l){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==n&&lm.enqueueReplaceState(r,r.state,null)}function ca(n,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(n=n.defaultProps){a===r&&(a=_({},a));for(var f in n)a[f]===void 0&&(a[f]=n[f])}return a}var ah=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function uv(n){ah(n)}function cv(n){console.error(n)}function hv(n){ah(n)}function oh(n,r){try{var a=n.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function fv(n,r,a){try{var l=n.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function um(n,r,a){return a=zr(a),a.tag=3,a.payload={element:null},a.callback=function(){oh(n,r)},a}function dv(n){return n=zr(n),n.tag=3,n}function mv(n,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;n.payload=function(){return f(d)},n.callback=function(){fv(r,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(n.callback=function(){fv(r,a,l),typeof f!="function"&&(Xr===null?Xr=new Set([this]):Xr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function Kw(n,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&Ol(r,a,f,!0),a=Fn.current,a!==null){switch(a.tag){case 13:return Si===null?km():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===Ud?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Pm(n,l,f)),!1;case 22:return a.flags|=65536,l===Ud?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Pm(n,l,f)),!1}throw Error(s(435,a.tag))}return Pm(n,l,f),km(),!1}if(Fe)return r=Fn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==xd&&(n=Error(s(422),{cause:l}),xl(zn(n,a)))):(l!==xd&&(r=Error(s(423),{cause:l}),xl(zn(r,a))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,l=zn(l,a),f=um(n.stateNode,l,f),Bd(n,f),yt!==4&&(yt=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),Zl===null?Zl=[d]:Zl.push(d),yt!==4&&(yt=2),r===null)return!0;l=zn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,n=f&-f,a.lanes|=n,n=um(a.stateNode,l,n),Bd(a,n),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Xr===null||!Xr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=dv(f),mv(f,n,a,l),Bd(a,f),!1}a=a.return}while(a!==null);return!1}var pv=Error(s(461)),zt=!1;function $t(n,r,a,l){r.child=n===null?sv(r,null,a,l):fo(r,n.child,a,l)}function gv(n,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var E={};for(var b in l)b!=="ref"&&(E[b]=l[b])}else E=l;return oa(r),l=$d(n,r,a,E,d,f),b=Kd(),n!==null&&!zt?(Qd(n,r,f),cr(n,r,f)):(Fe&&b&&Nd(r),r.flags|=1,$t(n,r,l,f),r.child)}function yv(n,r,a,l,f){if(n===null){var d=a.type;return typeof d=="function"&&!Rd(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,_v(n,r,d,l,f)):(n=zc(a.type,null,l,r,r.mode,f),n.ref=r.ref,n.return=r,r.child=n)}if(d=n.child,!ym(n,f)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:Il,a(E,l)&&n.ref===r.ref)return cr(n,r,f)}return r.flags|=1,n=ir(d,l),n.ref=r.ref,n.return=r,r.child=n}function _v(n,r,a,l,f){if(n!==null){var d=n.memoizedProps;if(Il(d,l)&&n.ref===r.ref)if(zt=!1,r.pendingProps=l=d,ym(n,f))(n.flags&131072)!==0&&(zt=!0);else return r.lanes=n.lanes,cr(n,r,f)}return cm(n,r,a,l,f)}function vv(n,r,a){var l=r.pendingProps,f=l.children,d=n!==null?n.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,n!==null){for(f=r.child=n.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return Ev(n,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Gc(r,d!==null?d.cachePool:null),d!==null?__(r,d):Hd(),av(r);else return r.lanes=r.childLanes=536870912,Ev(n,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(Gc(r,d.cachePool),__(r,d),Fr(),r.memoizedState=null):(n!==null&&Gc(r,null),Hd(),Fr());return $t(n,r,f,a),r.child}function Ev(n,r,a,l){var f=Ld();return f=f===null?null:{parent:Mt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},n!==null&&Gc(r,null),Hd(),av(r),n!==null&&Ol(n,r,l,!0),null}function lh(n,r){var a=r.ref;if(a===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(n===null||n.ref!==a)&&(r.flags|=4194816)}}function cm(n,r,a,l,f){return oa(r),a=$d(n,r,a,l,void 0,f),l=Kd(),n!==null&&!zt?(Qd(n,r,f),cr(n,r,f)):(Fe&&l&&Nd(r),r.flags|=1,$t(n,r,a,f),r.child)}function Tv(n,r,a,l,f,d){return oa(r),r.updateQueue=null,a=E_(r,l,a,f),v_(n),l=Kd(),n!==null&&!zt?(Qd(n,r,d),cr(n,r,d)):(Fe&&l&&Nd(r),r.flags|=1,$t(n,r,a,d),r.child)}function bv(n,r,a,l,f){if(oa(r),r.stateNode===null){var d=no,E=a.contextType;typeof E=="object"&&E!==null&&(d=tn(E)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=lm,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},jd(r),E=a.contextType,d.context=typeof E=="object"&&E!==null?tn(E):no,d.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(om(r,a,E,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&lm.enqueueReplaceState(d,d.state,null),jl(r,l,d,f),Ul(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(n===null){d=r.stateNode;var b=r.memoizedProps,C=ca(a,b);d.props=C;var H=d.context,W=a.contextType;E=no,typeof W=="object"&&W!==null&&(E=tn(W));var J=a.getDerivedStateFromProps;W=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,W||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||H!==E)&&lv(r,d,l,E),jr=!1;var F=r.memoizedState;d.state=F,jl(r,l,d,f),Ul(),H=r.memoizedState,b||F!==H||jr?(typeof J=="function"&&(om(r,a,J,l),H=r.memoizedState),(C=jr||ov(r,a,C,l,F,H,E))?(W||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=H),d.props=l,d.state=H,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,zd(n,r),E=r.memoizedProps,W=ca(a,E),d.props=W,J=r.pendingProps,F=d.context,H=a.contextType,C=no,typeof H=="object"&&H!==null&&(C=tn(H)),b=a.getDerivedStateFromProps,(H=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||F!==C)&&lv(r,d,l,C),jr=!1,F=r.memoizedState,d.state=F,jl(r,l,d,f),Ul();var G=r.memoizedState;E!==J||F!==G||jr||n!==null&&n.dependencies!==null&&Hc(n.dependencies)?(typeof b=="function"&&(om(r,a,b,l),G=r.memoizedState),(W=jr||ov(r,a,W,l,F,G,C)||n!==null&&n.dependencies!==null&&Hc(n.dependencies))?(H||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,G,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,G,C)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=G),d.props=l,d.state=G,d.context=C,l=W):(typeof d.componentDidUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===n.memoizedProps&&F===n.memoizedState||(r.flags|=1024),l=!1)}return d=l,lh(n,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,n!==null&&l?(r.child=fo(r,n.child,null,f),r.child=fo(r,null,a,f)):$t(n,r,a,f),r.memoizedState=d.state,n=r.child):n=cr(n,r,f),n}function Av(n,r,a,l){return Dl(),r.flags|=256,$t(n,r,a,l),r.child}var hm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function fm(n){return{baseLanes:n,cachePool:c_()}}function dm(n,r,a){return n=n!==null?n.childLanes&~a:0,r&&(n|=Gn),n}function wv(n,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,E;if((E=d)||(E=n!==null&&n.memoizedState===null?!1:(Pt.current&2)!==0),E&&(f=!0,r.flags&=-129),E=(r.flags&32)!==0,r.flags&=-33,n===null){if(Fe){if(f?Hr(r):Fr(),Fe){var b=gt,C;if(C=b){e:{for(C=b,b=wi;C.nodeType!==8;){if(!b){b=null;break e}if(C=ti(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(r.memoizedState={dehydrated:b,treeContext:na!==null?{id:rr,overflow:sr}:null,retryLane:536870912,hydrationErrors:null},C=In(18,null,null,0),C.stateNode=b,C.return=r,r.child=C,fn=r,gt=null,C=!0):C=!1}C||sa(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Xm(b)?r.lanes=32:r.lanes=536870912,null;ur(r)}return b=l.children,l=l.fallback,f?(Fr(),f=r.mode,b=uh({mode:"hidden",children:b},f),l=ta(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=fm(a),f.childLanes=dm(n,E,a),r.memoizedState=hm,l):(Hr(r),mm(r,b))}if(C=n.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(d)r.flags&256?(Hr(r),r.flags&=-257,r=pm(n,r,a)):r.memoizedState!==null?(Fr(),r.child=n.child,r.flags|=128,r=null):(Fr(),f=l.fallback,b=r.mode,l=uh({mode:"visible",children:l.children},b),f=ta(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,fo(r,n.child,null,a),l=r.child,l.memoizedState=fm(a),l.childLanes=dm(n,E,a),r.memoizedState=hm,r=f);else if(Hr(r),Xm(b)){if(E=b.nextSibling&&b.nextSibling.dataset,E)var H=E.dgst;E=H,l=Error(s(419)),l.stack="",l.digest=E,xl({value:l,source:null,stack:null}),r=pm(n,r,a)}else if(zt||Ol(n,r,a,!1),E=(a&n.childLanes)!==0,zt||E){if(E=rt,E!==null&&(l=a&-a,l=(l&42)!==0?1:xr(l),l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane))throw C.retryLane=l,to(n,l),On(E,n,l),pv;b.data==="$?"||km(),r=pm(n,r,a)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=C.treeContext,gt=ti(b.nextSibling),fn=r,Fe=!0,ra=null,wi=!1,n!==null&&(qn[Hn++]=rr,qn[Hn++]=sr,qn[Hn++]=na,rr=n.id,sr=n.overflow,na=r),r=mm(r,l.children),r.flags|=4096);return r}return f?(Fr(),f=l.fallback,b=r.mode,C=n.child,H=C.sibling,l=ir(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,H!==null?f=ir(H,f):(f=ta(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=n.child.memoizedState,b===null?b=fm(a):(C=b.cachePool,C!==null?(H=Mt._currentValue,C=C.parent!==H?{parent:H,pool:H}:C):C=c_(),b={baseLanes:b.baseLanes|a,cachePool:C}),f.memoizedState=b,f.childLanes=dm(n,E,a),r.memoizedState=hm,l):(Hr(r),a=n.child,n=a.sibling,a=ir(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,n!==null&&(E=r.deletions,E===null?(r.deletions=[n],r.flags|=16):E.push(n)),r.child=a,r.memoizedState=null,a)}function mm(n,r){return r=uh({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function uh(n,r){return n=In(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function pm(n,r,a){return fo(r,n.child,null,a),n=mm(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Sv(n,r,a){n.lanes|=r;var l=n.alternate;l!==null&&(l.lanes|=r),kd(n.return,r,a)}function gm(n,r,a,l,f){var d=n.memoizedState;d===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Rv(n,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if($t(n,r,l.children,a),l=Pt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Sv(n,a,r);else if(n.tag===19)Sv(n,a,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break e;for(;n.sibling===null;){if(n.return===null||n.return===r)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}l&=1}switch(ie(Pt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)n=a.alternate,n!==null&&sh(n)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),gm(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(n=f.alternate,n!==null&&sh(n)===null){r.child=f;break}n=f.sibling,f.sibling=a,a=f,f=n}gm(r,!0,a,null,d);break;case"together":gm(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function cr(n,r,a){if(n!==null&&(r.dependencies=n.dependencies),Yr|=r.lanes,(a&r.childLanes)===0)if(n!==null){if(Ol(n,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(s(153));if(r.child!==null){for(n=r.child,a=ir(n,n.pendingProps),r.child=a,a.return=r;n.sibling!==null;)n=n.sibling,a=a.sibling=ir(n,n.pendingProps),a.return=r;a.sibling=null}return r.child}function ym(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&Hc(n)))}function Qw(n,r,a){switch(r.tag){case 3:it(r,r.stateNode.containerInfo),Ur(r,Mt,n.memoizedState.cache),Dl();break;case 27:case 5:Dr(r);break;case 4:it(r,r.stateNode.containerInfo);break;case 10:Ur(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Hr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?wv(n,r,a):(Hr(r),n=cr(n,r,a),n!==null?n.sibling:null);Hr(r);break;case 19:var f=(n.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(Ol(n,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Rv(n,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ie(Pt,Pt.current),l)break;return null;case 22:case 23:return r.lanes=0,vv(n,r,a);case 24:Ur(r,Mt,n.memoizedState.cache)}return cr(n,r,a)}function Iv(n,r,a){if(n!==null)if(n.memoizedProps!==r.pendingProps)zt=!0;else{if(!ym(n,a)&&(r.flags&128)===0)return zt=!1,Qw(n,r,a);zt=(n.flags&131072)!==0}else zt=!1,Fe&&(r.flags&1048576)!==0&&i_(r,qc,r.index);switch(r.lanes=0,r.tag){case 16:e:{n=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Rd(l)?(n=ca(l,n),r.tag=1,r=bv(null,r,l,n,a)):(r.tag=0,r=cm(null,r,l,n,a));else{if(l!=null){if(f=l.$$typeof,f===fe){r.tag=11,r=gv(null,r,l,n,a);break e}else if(f===V){r.tag=14,r=yv(null,r,l,n,a);break e}}throw r=At(l)||l,Error(s(306,r,""))}}return r;case 0:return cm(n,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=ca(l,r.pendingProps),bv(n,r,l,f,a);case 3:e:{if(it(r,r.stateNode.containerInfo),n===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,zd(n,r),jl(r,l,null,a);var E=r.memoizedState;if(l=E.cache,Ur(r,Mt,l),l!==d.cache&&Md(r,[Mt],a,!0),Ul(),l=E.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:E.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Av(n,r,l,a);break e}else if(l!==f){f=zn(Error(s(424)),r),xl(f),r=Av(n,r,l,a);break e}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(gt=ti(n.firstChild),fn=r,Fe=!0,ra=null,wi=!0,a=sv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Dl(),l===f){r=cr(n,r,a);break e}$t(n,r,l,a)}r=r.child}return r;case 26:return lh(n,r),n===null?(a=xE(r.type,null,r.pendingProps,null))?r.memoizedState=a:Fe||(a=r.type,n=r.pendingProps,l=Ah(Ae.current).createElement(a),l[xt]=r,l[wt]=n,Qt(l,a,n),vt(l),r.stateNode=l):r.memoizedState=xE(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Dr(r),n===null&&Fe&&(l=r.stateNode=CE(r.type,r.pendingProps,Ae.current),fn=r,wi=!0,f=gt,Jr(r.type)?(Wm=f,gt=ti(l.firstChild)):gt=f),$t(n,r,r.pendingProps.children,a),lh(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&Fe&&((f=l=gt)&&(l=bS(l,r.type,r.pendingProps,wi),l!==null?(r.stateNode=l,fn=r,gt=ti(l.firstChild),wi=!1,f=!0):f=!1),f||sa(r)),Dr(r),f=r.type,d=r.pendingProps,E=n!==null?n.memoizedProps:null,l=d.children,Km(f,d)?l=null:E!==null&&Km(f,E)&&(r.flags|=32),r.memoizedState!==null&&(f=$d(n,r,zw,null,null,a),ou._currentValue=f),lh(n,r),$t(n,r,l,a),r.child;case 6:return n===null&&Fe&&((n=a=gt)&&(a=AS(a,r.pendingProps,wi),a!==null?(r.stateNode=a,fn=r,gt=null,n=!0):n=!1),n||sa(r)),null;case 13:return wv(n,r,a);case 4:return it(r,r.stateNode.containerInfo),l=r.pendingProps,n===null?r.child=fo(r,null,l,a):$t(n,r,l,a),r.child;case 11:return gv(n,r,r.type,r.pendingProps,a);case 7:return $t(n,r,r.pendingProps,a),r.child;case 8:return $t(n,r,r.pendingProps.children,a),r.child;case 12:return $t(n,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,Ur(r,r.type,l.value),$t(n,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,oa(r),f=tn(f),l=l(f),r.flags|=1,$t(n,r,l,a),r.child;case 14:return yv(n,r,r.type,r.pendingProps,a);case 15:return _v(n,r,r.type,r.pendingProps,a);case 19:return Rv(n,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},n===null?(a=uh(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=ir(n.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return vv(n,r,a);case 24:return oa(r),l=tn(Mt),n===null?(f=Ld(),f===null&&(f=rt,d=Pd(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},jd(r),Ur(r,Mt,f)):((n.lanes&a)!==0&&(zd(n,r),jl(r,null,null,a),Ul()),f=n.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),Ur(r,Mt,l)):(l=d.cache,Ur(r,Mt,l),l!==f.cache&&Md(r,[Mt],a,!0))),$t(n,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function hr(n){n.flags|=4}function Cv(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!VE(r)){if(r=Fn.current,r!==null&&((ze&4194048)===ze?Si!==null:(ze&62914560)!==ze&&(ze&536870912)===0||r!==Si))throw Vl=Ud,h_;n.flags|=8192}}function ch(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?ul():536870912,n.lanes|=r,yo|=r)}function $l(n,r){if(!Fe)switch(n.tailMode){case"hidden":r=n.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:l.sibling=null}}function ht(n){var r=n.alternate!==null&&n.alternate.child===n.child,a=0,l=0;if(r)for(var f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=l,n.childLanes=a,r}function Yw(n,r,a){var l=r.pendingProps;switch(Dd(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(r),null;case 1:return ht(r),null;case 3:return a=r.stateNode,l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),or(Mt),fi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(n===null||n.child===null)&&(Nl(r)?hr(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,a_())),ht(r),null;case 26:return a=r.memoizedState,n===null?(hr(r),a!==null?(ht(r),Cv(r,a)):(ht(r),r.flags&=-16777217)):a?a!==n.memoizedState?(hr(r),ht(r),Cv(r,a)):(ht(r),r.flags&=-16777217):(n.memoizedProps!==l&&hr(r),ht(r),r.flags&=-16777217),null;case 27:Fi(r),a=Ae.current;var f=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}n=ge.current,Nl(r)?r_(r):(n=CE(f,l,a),r.stateNode=n,hr(r))}return ht(r),null;case 5:if(Fi(r),a=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==l&&hr(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ht(r),null}if(n=ge.current,Nl(r))r_(r);else{switch(f=Ah(Ae.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?n.multiple=!0:l.size&&(n.size=l.size);break;default:n=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}n[xt]=r,n[wt]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=n;e:switch(Qt(n,a,l),a){case"button":case"input":case"select":case"textarea":n=!!l.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&hr(r)}}return ht(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==l&&hr(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(n=Ae.current,Nl(r)){if(n=r.stateNode,a=r.memoizedProps,l=null,f=fn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}n[xt]=r,n=!!(n.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||TE(n.nodeValue,a)),n||sa(r)}else n=Ah(n).createTextNode(l),n[xt]=r,r.stateNode=n}return ht(r),null;case 13:if(l=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Nl(r),l!==null&&l.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xt]=r}else Dl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ht(r),f=!1}else f=a_(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(ur(r),r):(ur(r),null)}if(ur(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,n=n!==null&&n.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==n&&a&&(r.child.flags|=8192),ch(r,r.updateQueue),ht(r),null;case 4:return fi(),n===null&&qm(r.stateNode.containerInfo),ht(r),null;case 10:return or(r.type),ht(r),null;case 19:if(le(Pt),f=r.memoizedState,f===null)return ht(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)$l(f,!1);else{if(yt!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(d=sh(n),d!==null){for(r.flags|=128,$l(f,!1),n=d.updateQueue,r.updateQueue=n,ch(r,n),r.subtreeFlags=0,n=a,a=r.child;a!==null;)n_(a,n),a=a.sibling;return ie(Pt,Pt.current&1|2),r.child}n=n.sibling}f.tail!==null&&Mn()>dh&&(r.flags|=128,l=!0,$l(f,!1),r.lanes=4194304)}else{if(!l)if(n=sh(d),n!==null){if(r.flags|=128,l=!0,n=n.updateQueue,r.updateQueue=n,ch(r,n),$l(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!Fe)return ht(r),null}else 2*Mn()-f.renderingStartTime>dh&&a!==536870912&&(r.flags|=128,l=!0,$l(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(n=f.last,n!==null?n.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Mn(),r.sibling=null,n=Pt.current,ie(Pt,l?n&1|2:n&1),r):(ht(r),null);case 22:case 23:return ur(r),Fd(),l=r.memoizedState!==null,n!==null?n.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ht(r),r.subtreeFlags&6&&(r.flags|=8192)):ht(r),a=r.updateQueue,a!==null&&ch(r,a.retryQueue),a=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),n!==null&&le(la),null;case 24:return a=null,n!==null&&(a=n.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),or(Mt),ht(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Xw(n,r){switch(Dd(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return or(Mt),fi(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return Fi(r),null;case 13:if(ur(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(s(340));Dl()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return le(Pt),null;case 4:return fi(),null;case 10:return or(r.type),null;case 22:case 23:return ur(r),Fd(),n!==null&&le(la),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return or(Mt),null;case 25:return null;default:return null}}function Nv(n,r){switch(Dd(r),r.tag){case 3:or(Mt),fi();break;case 26:case 27:case 5:Fi(r);break;case 4:fi();break;case 13:ur(r);break;case 19:le(Pt);break;case 10:or(r.type);break;case 22:case 23:ur(r),Fd(),n!==null&&le(la);break;case 24:or(Mt)}}function Kl(n,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&n)===n){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==f)}}catch(b){nt(r,r.return,b)}}function Gr(n,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&n)===n){var E=l.inst,b=E.destroy;if(b!==void 0){E.destroy=void 0,f=r;var C=a,H=b;try{H()}catch(W){nt(f,C,W)}}}l=l.next}while(l!==d)}}catch(W){nt(r,r.return,W)}}function Dv(n){var r=n.updateQueue;if(r!==null){var a=n.stateNode;try{y_(r,a)}catch(l){nt(n,n.return,l)}}}function xv(n,r,a){a.props=ca(n.type,n.memoizedProps),a.state=n.memoizedState;try{a.componentWillUnmount()}catch(l){nt(n,r,l)}}function Ql(n,r){try{var a=n.ref;if(a!==null){switch(n.tag){case 26:case 27:case 5:var l=n.stateNode;break;case 30:l=n.stateNode;break;default:l=n.stateNode}typeof a=="function"?n.refCleanup=a(l):a.current=l}}catch(f){nt(n,r,f)}}function Ri(n,r){var a=n.ref,l=n.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){nt(n,r,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){nt(n,r,f)}else a.current=null}function Ov(n){var r=n.type,a=n.memoizedProps,l=n.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){nt(n,n.return,f)}}function _m(n,r,a){try{var l=n.stateNode;yS(l,n.type,a,r),l[wt]=r}catch(f){nt(n,n.return,f)}}function kv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Jr(n.type)||n.tag===4}function vm(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||kv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Jr(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Em(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(n,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(n),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=bh));else if(l!==4&&(l===27&&Jr(n.type)&&(a=n.stateNode,r=null),n=n.child,n!==null))for(Em(n,r,a),n=n.sibling;n!==null;)Em(n,r,a),n=n.sibling}function hh(n,r,a){var l=n.tag;if(l===5||l===6)n=n.stateNode,r?a.insertBefore(n,r):a.appendChild(n);else if(l!==4&&(l===27&&Jr(n.type)&&(a=n.stateNode),n=n.child,n!==null))for(hh(n,r,a),n=n.sibling;n!==null;)hh(n,r,a),n=n.sibling}function Mv(n){var r=n.stateNode,a=n.memoizedProps;try{for(var l=n.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);Qt(r,l,a),r[xt]=n,r[wt]=a}catch(d){nt(n,n.return,d)}}var fr=!1,Tt=!1,Tm=!1,Pv=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Ww(n,r){if(n=n.containerInfo,Gm=Nh,n=$y(n),vd(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,b=-1,C=-1,H=0,W=0,J=n,F=null;t:for(;;){for(var G;J!==a||f!==0&&J.nodeType!==3||(b=E+f),J!==d||l!==0&&J.nodeType!==3||(C=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(G=J.firstChild)!==null;)F=J,J=G;for(;;){if(J===n)break t;if(F===a&&++H===f&&(b=E),F===d&&++W===l&&(C=E),(G=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=G}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for($m={focusedElem:n,selectionRange:a},Nh=!1,Bt=r;Bt!==null;)if(r=Bt,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,Bt=n;else for(;Bt!==null;){switch(r=Bt,d=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Te=ca(a.type,f,a.elementType===a.type);n=l.getSnapshotBeforeUpdate(Te,d),l.__reactInternalSnapshotBeforeUpdate=n}catch(ye){nt(a,a.return,ye)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,a=n.nodeType,a===9)Ym(n);else if(a===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Ym(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=r.sibling,n!==null){n.return=r.return,Bt=n;break}Bt=r.return}}function Vv(n,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:$r(n,a),l&4&&Kl(5,a);break;case 1:if($r(n,a),l&4)if(n=a.stateNode,r===null)try{n.componentDidMount()}catch(E){nt(a,a.return,E)}else{var f=ca(a.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(f,r,n.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(a,a.return,E)}}l&64&&Dv(a),l&512&&Ql(a,a.return);break;case 3:if($r(n,a),l&64&&(n=a.updateQueue,n!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{y_(n,r)}catch(E){nt(a,a.return,E)}}break;case 27:r===null&&l&4&&Mv(a);case 26:case 5:$r(n,a),r===null&&l&4&&Ov(a),l&512&&Ql(a,a.return);break;case 12:$r(n,a);break;case 13:$r(n,a),l&4&&jv(n,a),l&64&&(n=a.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(a=aS.bind(null,a),wS(n,a))));break;case 22:if(l=a.memoizedState!==null||fr,!l){r=r!==null&&r.memoizedState!==null||Tt,f=fr;var d=Tt;fr=l,(Tt=r)&&!d?Kr(n,a,(a.subtreeFlags&8772)!==0):$r(n,a),fr=f,Tt=d}break;case 30:break;default:$r(n,a)}}function Lv(n){var r=n.alternate;r!==null&&(n.alternate=null,Lv(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Mr(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var ut=null,vn=!1;function dr(n,r,a){for(a=a.child;a!==null;)Uv(n,r,a),a=a.sibling}function Uv(n,r,a){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(pt,a)}catch{}switch(a.tag){case 26:Tt||Ri(a,r),dr(n,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Tt||Ri(a,r);var l=ut,f=vn;Jr(a.type)&&(ut=a.stateNode,vn=!1),dr(n,r,a),iu(a.stateNode),ut=l,vn=f;break;case 5:Tt||Ri(a,r);case 6:if(l=ut,f=vn,ut=null,dr(n,r,a),ut=l,vn=f,ut!==null)if(vn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){nt(a,r,d)}else try{ut.removeChild(a.stateNode)}catch(d){nt(a,r,d)}break;case 18:ut!==null&&(vn?(n=ut,RE(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,a.stateNode),hu(n)):RE(ut,a.stateNode));break;case 4:l=ut,f=vn,ut=a.stateNode.containerInfo,vn=!0,dr(n,r,a),ut=l,vn=f;break;case 0:case 11:case 14:case 15:Tt||Gr(2,a,r),Tt||Gr(4,a,r),dr(n,r,a);break;case 1:Tt||(Ri(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&xv(a,r,l)),dr(n,r,a);break;case 21:dr(n,r,a);break;case 22:Tt=(l=Tt)||a.memoizedState!==null,dr(n,r,a),Tt=l;break;default:dr(n,r,a)}}function jv(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{hu(n)}catch(a){nt(r,r.return,a)}}function Zw(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Pv),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Pv),r;default:throw Error(s(435,n.tag))}}function bm(n,r){var a=Zw(n);r.forEach(function(l){var f=oS.bind(null,n,l);a.has(l)||(a.add(l),l.then(f,f))})}function Cn(n,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=n,E=r,b=E;e:for(;b!==null;){switch(b.tag){case 27:if(Jr(b.type)){ut=b.stateNode,vn=!1;break e}break;case 5:ut=b.stateNode,vn=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,vn=!0;break e}b=b.return}if(ut===null)throw Error(s(160));Uv(d,E,f),ut=null,vn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)zv(r,n),r=r.sibling}var ei=null;function zv(n,r){var a=n.alternate,l=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Cn(r,n),Nn(n),l&4&&(Gr(3,n,n.return),Kl(3,n),Gr(5,n,n.return));break;case 1:Cn(r,n),Nn(n),l&512&&(Tt||a===null||Ri(a,a.return)),l&64&&fr&&(n=n.updateQueue,n!==null&&(l=n.callbacks,l!==null&&(a=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=ei;if(Cn(r,n),Nn(n),l&512&&(Tt||a===null||Ri(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=n.memoizedState,a===null)if(l===null)if(n.stateNode===null){e:{l=n.type,a=n.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[js]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Qt(d,l,a),d[xt]=n,vt(d),l=d;break e;case"link":var E=ME("link","href",f).get(l+(a.href||""));if(E){for(var b=0;b<E.length;b++)if(d=E[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(b,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;case"meta":if(E=ME("meta","content",f).get(l+(a.content||""))){for(b=0;b<E.length;b++)if(d=E[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(b,1);break t}}d=f.createElement(l),Qt(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[xt]=n,vt(d),l=d}n.stateNode=l}else PE(f,n.type,n.stateNode);else n.stateNode=kE(f,l,n.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?PE(f,n.type,n.stateNode):kE(f,l,n.memoizedProps)):l===null&&n.stateNode!==null&&_m(n,n.memoizedProps,a.memoizedProps)}break;case 27:Cn(r,n),Nn(n),l&512&&(Tt||a===null||Ri(a,a.return)),a!==null&&l&4&&_m(n,n.memoizedProps,a.memoizedProps);break;case 5:if(Cn(r,n),Nn(n),l&512&&(Tt||a===null||Ri(a,a.return)),n.flags&32){f=n.stateNode;try{Vn(f,"")}catch(G){nt(n,n.return,G)}}l&4&&n.stateNode!=null&&(f=n.memoizedProps,_m(n,f,a!==null?a.memoizedProps:f)),l&1024&&(Tm=!0);break;case 6:if(Cn(r,n),Nn(n),l&4){if(n.stateNode===null)throw Error(s(162));l=n.memoizedProps,a=n.stateNode;try{a.nodeValue=l}catch(G){nt(n,n.return,G)}}break;case 3:if(Rh=null,f=ei,ei=wh(r.containerInfo),Cn(r,n),ei=f,Nn(n),l&4&&a!==null&&a.memoizedState.isDehydrated)try{hu(r.containerInfo)}catch(G){nt(n,n.return,G)}Tm&&(Tm=!1,Bv(n));break;case 4:l=ei,ei=wh(n.stateNode.containerInfo),Cn(r,n),Nn(n),ei=l;break;case 12:Cn(r,n),Nn(n);break;case 13:Cn(r,n),Nn(n),n.child.flags&8192&&n.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Cm=Mn()),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,bm(n,l)));break;case 22:f=n.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,H=fr,W=Tt;if(fr=H||f,Tt=W||C,Cn(r,n),Tt=W,fr=H,Nn(n),l&8192)e:for(r=n.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||C||fr||Tt||ha(n)),a=null,r=n;;){if(r.tag===5||r.tag===26){if(a===null){C=a=r;try{if(d=C.stateNode,f)E=d.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{b=C.stateNode;var J=C.memoizedProps.style,F=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=F==null||typeof F=="boolean"?"":(""+F).trim()}}catch(G){nt(C,C.return,G)}}}else if(r.tag===6){if(a===null){C=r;try{C.stateNode.nodeValue=f?"":C.memoizedProps}catch(G){nt(C,C.return,G)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break e;for(;r.sibling===null;){if(r.return===null||r.return===n)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=n.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,bm(n,a))));break;case 19:Cn(r,n),Nn(n),l&4&&(l=n.updateQueue,l!==null&&(n.updateQueue=null,bm(n,l)));break;case 30:break;case 21:break;default:Cn(r,n),Nn(n)}}function Nn(n){var r=n.flags;if(r&2){try{for(var a,l=n.return;l!==null;){if(kv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=vm(n);hh(n,d,f);break;case 5:var E=a.stateNode;a.flags&32&&(Vn(E,""),a.flags&=-33);var b=vm(n);hh(n,b,E);break;case 3:case 4:var C=a.stateNode.containerInfo,H=vm(n);Em(n,H,C);break;default:throw Error(s(161))}}catch(W){nt(n,n.return,W)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function Bv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;Bv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function $r(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Vv(n,r.alternate,r),r=r.sibling}function ha(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:Gr(4,r,r.return),ha(r);break;case 1:Ri(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&xv(r,r.return,a),ha(r);break;case 27:iu(r.stateNode);case 26:case 5:Ri(r,r.return),ha(r);break;case 22:r.memoizedState===null&&ha(r);break;case 30:ha(r);break;default:ha(r)}n=n.sibling}}function Kr(n,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=n,d=r,E=d.flags;switch(d.tag){case 0:case 11:case 15:Kr(f,d,a),Kl(4,d);break;case 1:if(Kr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(H){nt(l,l.return,H)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)g_(C[f],b)}catch(H){nt(l,l.return,H)}}a&&E&64&&Dv(d),Ql(d,d.return);break;case 27:Mv(d);case 26:case 5:Kr(f,d,a),a&&l===null&&E&4&&Ov(d),Ql(d,d.return);break;case 12:Kr(f,d,a);break;case 13:Kr(f,d,a),a&&E&4&&jv(f,d);break;case 22:d.memoizedState===null&&Kr(f,d,a),Ql(d,d.return);break;case 30:break;default:Kr(f,d,a)}r=r.sibling}}function Am(n,r){var a=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==a&&(n!=null&&n.refCount++,a!=null&&kl(a))}function wm(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&kl(n))}function Ii(n,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)qv(n,r,a,l),r=r.sibling}function qv(n,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(n,r,a,l),f&2048&&Kl(9,r);break;case 1:Ii(n,r,a,l);break;case 3:Ii(n,r,a,l),f&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&kl(n)));break;case 12:if(f&2048){Ii(n,r,a,l),n=r.stateNode;try{var d=r.memoizedProps,E=d.id,b=d.onPostCommit;typeof b=="function"&&b(E,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(C){nt(r,r.return,C)}}else Ii(n,r,a,l);break;case 13:Ii(n,r,a,l);break;case 23:break;case 22:d=r.stateNode,E=r.alternate,r.memoizedState!==null?d._visibility&2?Ii(n,r,a,l):Yl(n,r):d._visibility&2?Ii(n,r,a,l):(d._visibility|=2,mo(n,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Am(E,r);break;case 24:Ii(n,r,a,l),f&2048&&wm(r.alternate,r);break;default:Ii(n,r,a,l)}}function mo(n,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=n,E=r,b=a,C=l,H=E.flags;switch(E.tag){case 0:case 11:case 15:mo(d,E,b,C,f),Kl(8,E);break;case 23:break;case 22:var W=E.stateNode;E.memoizedState!==null?W._visibility&2?mo(d,E,b,C,f):Yl(d,E):(W._visibility|=2,mo(d,E,b,C,f)),f&&H&2048&&Am(E.alternate,E);break;case 24:mo(d,E,b,C,f),f&&H&2048&&wm(E.alternate,E);break;default:mo(d,E,b,C,f)}r=r.sibling}}function Yl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=n,l=r,f=l.flags;switch(l.tag){case 22:Yl(a,l),f&2048&&Am(l.alternate,l);break;case 24:Yl(a,l),f&2048&&wm(l.alternate,l);break;default:Yl(a,l)}r=r.sibling}}var Xl=8192;function po(n){if(n.subtreeFlags&Xl)for(n=n.child;n!==null;)Hv(n),n=n.sibling}function Hv(n){switch(n.tag){case 26:po(n),n.flags&Xl&&n.memoizedState!==null&&LS(ei,n.memoizedState,n.memoizedProps);break;case 5:po(n);break;case 3:case 4:var r=ei;ei=wh(n.stateNode.containerInfo),po(n),ei=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=Xl,Xl=16777216,po(n),Xl=r):po(n));break;default:po(n)}}function Fv(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function Wl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,$v(l,n)}Fv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gv(n),n=n.sibling}function Gv(n){switch(n.tag){case 0:case 11:case 15:Wl(n),n.flags&2048&&Gr(9,n,n.return);break;case 3:Wl(n);break;case 12:Wl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,fh(n)):Wl(n);break;default:Wl(n)}}function fh(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Bt=l,$v(l,n)}Fv(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:Gr(8,r,r.return),fh(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,fh(r));break;default:fh(r)}n=n.sibling}}function $v(n,r){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:Gr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:kl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=n;Bt!==null;){l=Bt;var f=l.sibling,d=l.return;if(Lv(l),l===a){Bt=null;break e}if(f!==null){f.return=d,Bt=f;break e}Bt=d}}}var Jw={getCacheForType:function(n){var r=tn(Mt),a=r.data.get(n);return a===void 0&&(a=n(),r.data.set(n,a)),a}},eS=typeof WeakMap=="function"?WeakMap:Map,Ye=0,rt=null,Oe=null,ze=0,Xe=0,Dn=null,Qr=!1,go=!1,Sm=!1,mr=0,yt=0,Yr=0,fa=0,Rm=0,Gn=0,yo=0,Zl=null,En=null,Im=!1,Cm=0,dh=1/0,mh=null,Xr=null,Kt=0,Wr=null,_o=null,vo=0,Nm=0,Dm=null,Kv=null,Jl=0,xm=null;function xn(){if((Ye&2)!==0&&ze!==0)return ze&-ze;if(X.T!==null){var n=so;return n!==0?n:Um()}return Or()}function Qv(){Gn===0&&(Gn=(ze&536870912)===0||Fe?ll():536870912);var n=Fn.current;return n!==null&&(n.flags|=32),Gn}function On(n,r,a){(n===rt&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)&&(Eo(n,0),Zr(n,ze,Gn,!1)),$i(n,a),((Ye&2)===0||n!==rt)&&(n===rt&&((Ye&2)===0&&(fa|=a),yt===4&&Zr(n,ze,Gn,!1)),Ci(n))}function Yv(n,r,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&n.expiredLanes)===0||Us(n,r),f=l?iS(n,r):Mm(n,r,!0),d=l;do{if(f===0){go&&!l&&Zr(n,r,0,!1);break}else{if(a=n.current.alternate,d&&!tS(a)){f=Mm(n,r,!1),d=!1;continue}if(f===2){if(d=r,n.errorRecoveryDisabledLanes&d)var E=0;else E=n.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){r=E;e:{var b=n;f=Zl;var C=b.current.memoizedState.isDehydrated;if(C&&(Eo(b,E).flags|=256),E=Mm(b,E,!1),E!==2){if(Sm&&!C){b.errorRecoveryDisabledLanes|=d,fa|=d,f=4;break e}d=En,En=f,d!==null&&(En===null?En=d:En.push.apply(En,d))}f=E}if(d=!1,f!==2)continue}}if(f===1){Eo(n,0),Zr(n,r,0,!0);break}e:{switch(l=n,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Zr(l,r,Gn,!Qr);break e;case 2:En=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Cm+300-Mn(),10<f)){if(Zr(l,r,Gn,!Qr),Va(l,0,!0)!==0)break e;l.timeoutHandle=wE(Xv.bind(null,l,a,En,mh,Im,r,Gn,fa,yo,Qr,d,2,-0,0),f);break e}Xv(l,a,En,mh,Im,r,Gn,fa,yo,Qr,d,0,-0,0)}}break}while(!0);Ci(n)}function Xv(n,r,a,l,f,d,E,b,C,H,W,J,F,G){if(n.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(au={stylesheets:null,count:0,unsuspend:VS},Hv(r),J=US(),J!==null)){n.cancelPendingCommit=J(iE.bind(null,n,r,d,a,l,f,E,b,C,W,1,F,G)),Zr(n,d,E,!H);return}iE(n,r,d,a,l,f,E,b,C)}function tS(n){for(var r=n;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!Rn(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Zr(n,r,a,l){r&=~Rm,r&=~fa,n.suspendedLanes|=r,n.pingedLanes&=~r,l&&(n.warmLanes|=r),l=n.expirationTimes;for(var f=r;0<f;){var d=31-en(f),E=1<<d;l[d]=-1,f&=~E}a!==0&&di(n,a,r)}function ph(){return(Ye&6)===0?(eu(0),!1):!0}function Om(){if(Oe!==null){if(Xe===0)var n=Oe.return;else n=Oe,ar=aa=null,Yd(n),ho=null,Fl=0,n=Oe;for(;n!==null;)Nv(n.alternate,n),n=n.return;Oe=null}}function Eo(n,r){var a=n.timeoutHandle;a!==-1&&(n.timeoutHandle=-1,vS(a)),a=n.cancelPendingCommit,a!==null&&(n.cancelPendingCommit=null,a()),Om(),rt=n,Oe=a=ir(n.current,null),ze=r,Xe=0,Dn=null,Qr=!1,go=Us(n,r),Sm=!1,yo=Gn=Rm=fa=Yr=yt=0,En=Zl=null,Im=!1,(r&8)!==0&&(r|=r&32);var l=n.entangledLanes;if(l!==0)for(n=n.entanglements,l&=r;0<l;){var f=31-en(l),d=1<<f;r|=n[f],l&=~d}return mr=r,Lc(),a}function Wv(n,r){Ne=null,X.H=nh,r===Pl||r===$c?(r=m_(),Xe=3):r===h_?(r=m_(),Xe=4):Xe=r===pv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,Dn=r,Oe===null&&(yt=1,oh(n,zn(r,n.current)))}function Zv(){var n=X.H;return X.H=nh,n===null?nh:n}function Jv(){var n=X.A;return X.A=Jw,n}function km(){yt=4,Qr||(ze&4194048)!==ze&&Fn.current!==null||(go=!0),(Yr&134217727)===0&&(fa&134217727)===0||rt===null||Zr(rt,ze,Gn,!1)}function Mm(n,r,a){var l=Ye;Ye|=2;var f=Zv(),d=Jv();(rt!==n||ze!==r)&&(mh=null,Eo(n,r)),r=!1;var E=yt;e:do try{if(Xe!==0&&Oe!==null){var b=Oe,C=Dn;switch(Xe){case 8:Om(),E=6;break e;case 3:case 2:case 9:case 6:Fn.current===null&&(r=!0);var H=Xe;if(Xe=0,Dn=null,To(n,b,C,H),a&&go){E=0;break e}break;default:H=Xe,Xe=0,Dn=null,To(n,b,C,H)}}nS(),E=yt;break}catch(W){Wv(n,W)}while(!0);return r&&n.shellSuspendCounter++,ar=aa=null,Ye=l,X.H=f,X.A=d,Oe===null&&(rt=null,ze=0,Lc()),E}function nS(){for(;Oe!==null;)eE(Oe)}function iS(n,r){var a=Ye;Ye|=2;var l=Zv(),f=Jv();rt!==n||ze!==r?(mh=null,dh=Mn()+500,Eo(n,r)):go=Us(n,r);e:do try{if(Xe!==0&&Oe!==null){r=Oe;var d=Dn;t:switch(Xe){case 1:Xe=0,Dn=null,To(n,r,d,1);break;case 2:case 9:if(f_(d)){Xe=0,Dn=null,tE(r);break}r=function(){Xe!==2&&Xe!==9||rt!==n||(Xe=7),Ci(n)},d.then(r,r);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:f_(d)?(Xe=0,Dn=null,tE(r)):(Xe=0,Dn=null,To(n,r,d,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var b=Oe;if(!E||VE(E)){Xe=0,Dn=null;var C=b.sibling;if(C!==null)Oe=C;else{var H=b.return;H!==null?(Oe=H,gh(H)):Oe=null}break t}}Xe=0,Dn=null,To(n,r,d,5);break;case 6:Xe=0,Dn=null,To(n,r,d,6);break;case 8:Om(),yt=6;break e;default:throw Error(s(462))}}rS();break}catch(W){Wv(n,W)}while(!0);return ar=aa=null,X.H=l,X.A=f,Ye=a,Oe!==null?0:(rt=null,ze=0,Lc(),yt)}function rS(){for(;Oe!==null&&!rl();)eE(Oe)}function eE(n){var r=Iv(n.alternate,n,mr);n.memoizedProps=n.pendingProps,r===null?gh(n):Oe=r}function tE(n){var r=n,a=r.alternate;switch(r.tag){case 15:case 0:r=Tv(a,r,r.pendingProps,r.type,void 0,ze);break;case 11:r=Tv(a,r,r.pendingProps,r.type.render,r.ref,ze);break;case 5:Yd(r);default:Nv(a,r),r=Oe=n_(r,mr),r=Iv(a,r,mr)}n.memoizedProps=n.pendingProps,r===null?gh(n):Oe=r}function To(n,r,a,l){ar=aa=null,Yd(r),ho=null,Fl=0;var f=r.return;try{if(Kw(n,f,r,a,ze)){yt=1,oh(n,zn(a,n.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;yt=1,oh(n,zn(a,n.current)),Oe=null;return}r.flags&32768?(Fe||l===1?n=!0:go||(ze&536870912)!==0?n=!1:(Qr=n=!0,(l===2||l===9||l===3||l===6)&&(l=Fn.current,l!==null&&l.tag===13&&(l.flags|=16384))),nE(r,n)):gh(r)}function gh(n){var r=n;do{if((r.flags&32768)!==0){nE(r,Qr);return}n=r.return;var a=Yw(r.alternate,r,mr);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=n}while(r!==null);yt===0&&(yt=5)}function nE(n,r){do{var a=Xw(n.alternate,n);if(a!==null){a.flags&=32767,Oe=a;return}if(a=n.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(n=n.sibling,n!==null)){Oe=n;return}Oe=n=a}while(n!==null);yt=6,Oe=null}function iE(n,r,a,l,f,d,E,b,C){n.cancelPendingCommit=null;do yh();while(Kt!==0);if((Ye&6)!==0)throw Error(s(327));if(r!==null){if(r===n.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=wd,cl(n,a,d,E,b,C),n===rt&&(Oe=rt=null,ze=0),_o=r,Wr=n,vo=a,Nm=d,Dm=f,Kv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,lS(Ms,function(){return lE(),null})):(n.callbackNode=null,n.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=X.T,X.T=null,f=oe.p,oe.p=2,E=Ye,Ye|=4;try{Ww(n,r,a)}finally{Ye=E,oe.p=f,X.T=l}}Kt=1,rE(),sE(),aE()}}function rE(){if(Kt===1){Kt=0;var n=Wr,r=_o,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ye;Ye|=4;try{zv(r,n);var d=$m,E=$y(n.containerInfo),b=d.focusedElem,C=d.selectionRange;if(E!==b&&b&&b.ownerDocument&&Gy(b.ownerDocument.documentElement,b)){if(C!==null&&vd(b)){var H=C.start,W=C.end;if(W===void 0&&(W=H),"selectionStart"in b)b.selectionStart=H,b.selectionEnd=Math.min(W,b.value.length);else{var J=b.ownerDocument||document,F=J&&J.defaultView||window;if(F.getSelection){var G=F.getSelection(),Te=b.textContent.length,ye=Math.min(C.start,Te),et=C.end===void 0?ye:Math.min(C.end,Te);!G.extend&&ye>et&&(E=et,et=ye,ye=E);var j=Fy(b,ye),M=Fy(b,et);if(j&&M&&(G.rangeCount!==1||G.anchorNode!==j.node||G.anchorOffset!==j.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var B=J.createRange();B.setStart(j.node,j.offset),G.removeAllRanges(),ye>et?(G.addRange(B),G.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),G.addRange(B))}}}}for(J=[],G=b;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var Z=J[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}Nh=!!Gm,$m=Gm=null}finally{Ye=f,oe.p=l,X.T=a}}n.current=r,Kt=2}}function sE(){if(Kt===2){Kt=0;var n=Wr,r=_o,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=X.T,X.T=null;var l=oe.p;oe.p=2;var f=Ye;Ye|=4;try{Vv(n,r.alternate,r)}finally{Ye=f,oe.p=l,X.T=a}}Kt=3}}function aE(){if(Kt===4||Kt===3){Kt=0,fc();var n=Wr,r=_o,a=vo,l=Kv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Kt=5:(Kt=0,_o=Wr=null,oE(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(Xr=null),La(a),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(pt,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=X.T,f=oe.p,oe.p=2,X.T=null;try{for(var d=n.onRecoverableError,E=0;E<l.length;E++){var b=l[E];d(b.value,{componentStack:b.stack})}}finally{X.T=r,oe.p=f}}(vo&3)!==0&&yh(),Ci(n),f=n.pendingLanes,(a&4194090)!==0&&(f&42)!==0?n===xm?Jl++:(Jl=0,xm=n):Jl=0,eu(0)}}function oE(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,kl(r)))}function yh(n){return rE(),sE(),aE(),lE()}function lE(){if(Kt!==5)return!1;var n=Wr,r=Nm;Nm=0;var a=La(vo),l=X.T,f=oe.p;try{oe.p=32>a?32:a,X.T=null,a=Dm,Dm=null;var d=Wr,E=vo;if(Kt=0,_o=Wr=null,vo=0,(Ye&6)!==0)throw Error(s(331));var b=Ye;if(Ye|=4,Gv(d.current),qv(d,d.current,E,a),Ye=b,eu(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(pt,d)}catch{}return!0}finally{oe.p=f,X.T=l,oE(n,r)}}function uE(n,r,a){r=zn(a,r),r=um(n.stateNode,r,2),n=Br(n,r,2),n!==null&&($i(n,2),Ci(n))}function nt(n,r,a){if(n.tag===3)uE(n,n,a);else for(;r!==null;){if(r.tag===3){uE(r,n,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xr===null||!Xr.has(l))){n=zn(a,n),a=dv(2),l=Br(r,a,2),l!==null&&(mv(a,l,r,n),$i(l,2),Ci(l));break}}r=r.return}}function Pm(n,r,a){var l=n.pingCache;if(l===null){l=n.pingCache=new eS;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Sm=!0,f.add(a),n=sS.bind(null,n,r,a),r.then(n,n))}function sS(n,r,a){var l=n.pingCache;l!==null&&l.delete(r),n.pingedLanes|=n.suspendedLanes&a,n.warmLanes&=~a,rt===n&&(ze&a)===a&&(yt===4||yt===3&&(ze&62914560)===ze&&300>Mn()-Cm?(Ye&2)===0&&Eo(n,0):Rm|=a,yo===ze&&(yo=0)),Ci(n)}function cE(n,r){r===0&&(r=ul()),n=to(n,r),n!==null&&($i(n,r),Ci(n))}function aS(n){var r=n.memoizedState,a=0;r!==null&&(a=r.retryLane),cE(n,a)}function oS(n,r){var a=0;switch(n.tag){case 13:var l=n.stateNode,f=n.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=n.stateNode;break;case 22:l=n.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),cE(n,a)}function lS(n,r){return Os(n,r)}var _h=null,bo=null,Vm=!1,vh=!1,Lm=!1,da=0;function Ci(n){n!==bo&&n.next===null&&(bo===null?_h=bo=n:bo=bo.next=n),vh=!0,Vm||(Vm=!0,cS())}function eu(n,r){if(!Lm&&vh){Lm=!0;do for(var a=!1,l=_h;l!==null;){if(n!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var E=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-en(42|n)+1)-1,d&=f&~(E&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,mE(l,d))}else d=ze,d=Va(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Us(l,d)||(a=!0,mE(l,d));l=l.next}while(a);Lm=!1}}function uS(){hE()}function hE(){vh=Vm=!1;var n=0;da!==0&&(_S()&&(n=da),da=0);for(var r=Mn(),a=null,l=_h;l!==null;){var f=l.next,d=fE(l,r);d===0?(l.next=null,a===null?_h=f:a.next=f,f===null&&(bo=a)):(a=l,(n!==0||(d&3)!==0)&&(vh=!0)),l=f}eu(n)}function fE(n,r){for(var a=n.suspendedLanes,l=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var E=31-en(d),b=1<<E,C=f[E];C===-1?((b&a)===0||(b&l)!==0)&&(f[E]=ol(b,r)):C<=r&&(n.expiredLanes|=b),d&=~b}if(r=rt,a=ze,a=Va(n,n===r?a:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l=n.callbackNode,a===0||n===r&&(Xe===2||Xe===9)||n.cancelPendingCommit!==null)return l!==null&&l!==null&&ks(l),n.callbackNode=null,n.callbackPriority=0;if((a&3)===0||Us(n,a)){if(r=a&-a,r===n.callbackPriority)return r;switch(l!==null&&ks(l),La(a)){case 2:case 8:a=Ma;break;case 32:a=Ms;break;case 268435456:a=Pa;break;default:a=Ms}return l=dE.bind(null,n),a=Os(a,l),n.callbackPriority=r,n.callbackNode=a,r}return l!==null&&l!==null&&ks(l),n.callbackPriority=2,n.callbackNode=null,2}function dE(n,r){if(Kt!==0&&Kt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var a=n.callbackNode;if(yh()&&n.callbackNode!==a)return null;var l=ze;return l=Va(n,n===rt?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),l===0?null:(Yv(n,l,r),fE(n,Mn()),n.callbackNode!=null&&n.callbackNode===a?dE.bind(null,n):null)}function mE(n,r){if(yh())return null;Yv(n,r,!0)}function cS(){ES(function(){(Ye&6)!==0?Os(sl,uS):hE()})}function Um(){return da===0&&(da=ll()),da}function pE(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Ha(""+n)}function gE(n,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,n.id&&a.setAttribute("form",n.id),r.parentNode.insertBefore(a,r),n=new FormData(n),a.parentNode.removeChild(a),n}function hS(n,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=pE((f[wt]||null).action),E=l.submitter;E&&(r=(r=E[wt]||null)?pE(r.formAction):E.getAttribute("formAction"),r!==null&&(d=r,E=null));var b=new Fa("action","action",null,l,f);n.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var C=E?gE(f,E):new FormData(f);rm(a,{pending:!0,data:C,method:f.method,action:d},null,C)}}else typeof d=="function"&&(b.preventDefault(),C=E?gE(f,E):new FormData(f),rm(a,{pending:!0,data:C,method:f.method,action:d},d,C))},currentTarget:f}]})}}for(var jm=0;jm<Ad.length;jm++){var zm=Ad[jm],fS=zm.toLowerCase(),dS=zm[0].toUpperCase()+zm.slice(1);Jn(fS,"on"+dS)}Jn(Yy,"onAnimationEnd"),Jn(Xy,"onAnimationIteration"),Jn(Wy,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Dw,"onTransitionRun"),Jn(xw,"onTransitionStart"),Jn(Ow,"onTransitionCancel"),Jn(Zy,"onTransitionEnd"),Qi("onMouseEnter",["mouseout","mouseover"]),Qi("onMouseLeave",["mouseout","mouseover"]),Qi("onPointerEnter",["pointerout","pointerover"]),Qi("onPointerLeave",["pointerout","pointerover"]),Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tu));function yE(n,r){r=(r&4)!==0;for(var a=0;a<n.length;a++){var l=n[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var E=l.length-1;0<=E;E--){var b=l[E],C=b.instance,H=b.currentTarget;if(b=b.listener,C!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(W){ah(W)}f.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(b=l[E],C=b.instance,H=b.currentTarget,b=b.listener,C!==d&&f.isPropagationStopped())break e;d=b,f.currentTarget=H;try{d(f)}catch(W){ah(W)}f.currentTarget=null,d=C}}}}function ke(n,r){var a=r[fl];a===void 0&&(a=r[fl]=new Set);var l=n+"__bubble";a.has(l)||(_E(r,n,2,!1),a.add(l))}function Bm(n,r,a){var l=0;r&&(l|=4),_E(a,n,l,r)}var Eh="_reactListening"+Math.random().toString(36).slice(2);function qm(n){if(!n[Eh]){n[Eh]=!0,dl.forEach(function(a){a!=="selectionchange"&&(mS.has(a)||Bm(a,!1,n),Bm(a,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[Eh]||(r[Eh]=!0,Bm("selectionchange",!1,r))}}function _E(n,r,a,l){switch(qE(r)){case 2:var f=BS;break;case 8:f=qS;break;default:f=np}a=f.bind(null,r,a,n),f=void 0,!Un||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?n.addEventListener(r,a,{capture:!0,passive:f}):n.addEventListener(r,a,!0):f!==void 0?n.addEventListener(r,a,{passive:f}):n.addEventListener(r,a,!1)}function Hm(n,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var b=l.stateNode.containerInfo;if(b===f)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&E.stateNode.containerInfo===f)return;E=E.return}for(;b!==null;){if(E=Ki(b),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}b=b.parentNode}}l=l.return}bc(function(){var H=d,W=Ln(a),J=[];e:{var F=Jy.get(n);if(F!==void 0){var G=Fa,Te=n;switch(n){case"keypress":if(vi(a)===0)break e;case"keydown":case"keyup":G=Xa;break;case"focusin":Te="focus",G=Ka;break;case"focusout":Te="blur",G=Ka;break;case"beforeblur":case"afterblur":G=Ka;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=jn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=pd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=Dc;break;case Yy:case Xy:case Wy:G=Qa;break;case Zy:G=Oc;break;case"scroll":case"scrollend":G=Ac;break;case"wheel":G=Wa;break;case"copy":case"cut":case"paste":G=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=Sl;break;case"toggle":case"beforetoggle":G=Mc}var ye=(r&4)!==0,et=!ye&&(n==="scroll"||n==="scrollend"),j=ye?F!==null?F+"Capture":null:F;ye=[];for(var M=H,B;M!==null;){var Z=M;if(B=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||B===null||j===null||(Z=$s(M,j),Z!=null&&ye.push(nu(M,Z,B))),et)break;M=M.return}0<ye.length&&(F=new G(F,Te,null,a,W),J.push({event:F,listeners:ye}))}}if((r&7)===0){e:{if(F=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",F&&a!==Wi&&(Te=a.relatedTarget||a.fromElement)&&(Ki(Te)||Te[Pn]))break e;if((G||F)&&(F=W.window===W?W:(F=W.ownerDocument)?F.defaultView||F.parentWindow:window,G?(Te=a.relatedTarget||a.toElement,G=H,Te=Te?Ki(Te):null,Te!==null&&(et=u(Te),ye=Te.tag,Te!==et||ye!==5&&ye!==27&&ye!==6)&&(Te=null)):(G=null,Te=H),G!==Te)){if(ye=jn,Z="onMouseLeave",j="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ye=Sl,Z="onPointerLeave",j="onPointerEnter",M="pointer"),et=G==null?F:pi(G),B=Te==null?F:pi(Te),F=new ye(Z,M+"leave",G,a,W),F.target=et,F.relatedTarget=B,Z=null,Ki(W)===H&&(ye=new ye(j,M+"enter",Te,a,W),ye.target=B,ye.relatedTarget=et,Z=ye),et=Z,G&&Te)t:{for(ye=G,j=Te,M=0,B=ye;B;B=Ao(B))M++;for(B=0,Z=j;Z;Z=Ao(Z))B++;for(;0<M-B;)ye=Ao(ye),M--;for(;0<B-M;)j=Ao(j),B--;for(;M--;){if(ye===j||j!==null&&ye===j.alternate)break t;ye=Ao(ye),j=Ao(j)}ye=null}else ye=null;G!==null&&vE(J,F,G,ye,!1),Te!==null&&et!==null&&vE(J,et,Te,ye,!0)}}e:{if(F=H?pi(H):window,G=F.nodeName&&F.nodeName.toLowerCase(),G==="select"||G==="input"&&F.type==="file")var he=Uy;else if(kt(F))if(jy)he=Iw;else{he=Sw;var xe=ww}else G=F.nodeName,!G||G.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?H&&_l(H.elementType)&&(he=Uy):he=Rw;if(he&&(he=he(n,H))){nr(J,he,a,W);break e}xe&&xe(n,F,H),n==="focusout"&&H&&F.type==="number"&&H.memoizedProps.value!=null&&Vr(F,"number",F.value)}switch(xe=H?pi(H):window,n){case"focusin":(kt(xe)||xe.contentEditable==="true")&&(Za=xe,Ed=H,Cl=null);break;case"focusout":Cl=Ed=Za=null;break;case"mousedown":Td=!0;break;case"contextmenu":case"mouseup":case"dragend":Td=!1,Ky(J,a,W);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":Ky(J,a,W)}var de;if(bi)e:{switch(n){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Ue?K(n,a)&&(_e="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(v&&a.locale!=="ko"&&(Ue||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Ue&&(de=El()):(_i=W,Lr="value"in _i?_i.value:_i.textContent,Ue=!0)),xe=Th(H,_e),0<xe.length&&(_e=new Al(_e,n,null,a,W),J.push({event:_e,listeners:xe}),de?_e.data=de:(de=ae(a),de!==null&&(_e.data=de)))),(de=y?Ot(n,a):je(n,a))&&(_e=Th(H,"onBeforeInput"),0<_e.length&&(xe=new Al("onBeforeInput","beforeinput",null,a,W),J.push({event:xe,listeners:_e}),xe.data=de)),hS(J,n,H,a,W)}yE(J,r)})}function nu(n,r,a){return{instance:n,listener:r,currentTarget:a}}function Th(n,r){for(var a=r+"Capture",l=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=$s(n,a),f!=null&&l.unshift(nu(n,f,d)),f=$s(n,r),f!=null&&l.push(nu(n,f,d))),n.tag===3)return l;n=n.return}return[]}function Ao(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function vE(n,r,a,l,f){for(var d=r._reactName,E=[];a!==null&&a!==l;){var b=a,C=b.alternate,H=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||H===null||(C=H,f?(H=$s(a,d),H!=null&&E.unshift(nu(a,H,C))):f||(H=$s(a,d),H!=null&&E.push(nu(a,H,C)))),a=a.return}E.length!==0&&n.push({event:r,listeners:E})}var pS=/\r\n?/g,gS=/\u0000|\uFFFD/g;function EE(n){return(typeof n=="string"?n:""+n).replace(pS,`
`).replace(gS,"")}function TE(n,r){return r=EE(r),EE(n)===r}function bh(){}function Je(n,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Vn(n,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Vn(n,""+l);break;case"className":gi(n,"class",l);break;case"tabIndex":gi(n,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gi(n,a,l);break;case"style":yl(n,l,d);break;case"data":if(r!=="object"){gi(n,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){n.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ha(""+l),n.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){n.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Je(n,r,"name",f.name,f,null),Je(n,r,"formEncType",f.formEncType,f,null),Je(n,r,"formMethod",f.formMethod,f,null),Je(n,r,"formTarget",f.formTarget,f,null)):(Je(n,r,"encType",f.encType,f,null),Je(n,r,"method",f.method,f,null),Je(n,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){n.removeAttribute(a);break}l=Ha(""+l),n.setAttribute(a,l);break;case"onClick":l!=null&&(n.onclick=bh);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"multiple":n.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":n.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){n.removeAttribute("xlink:href");break}a=Ha(""+l),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""+l):n.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,""):n.removeAttribute(a);break;case"capture":case"download":l===!0?n.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?n.setAttribute(a,l):n.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?n.setAttribute(a,l):n.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?n.removeAttribute(a):n.setAttribute(a,l);break;case"popover":ke("beforetoggle",n),ke("toggle",n),Pr(n,"popover",l);break;case"xlinkActuate":Ft(n,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ft(n,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ft(n,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ft(n,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ft(n,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ft(n,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ft(n,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Pr(n,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=dd.get(a)||a,Pr(n,a,l))}}function Fm(n,r,a,l,f,d){switch(a){case"style":yl(n,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=a}}break;case"children":typeof l=="string"?Vn(n,l):(typeof l=="number"||typeof l=="bigint")&&Vn(n,""+l);break;case"onScroll":l!=null&&ke("scroll",n);break;case"onScrollEnd":l!=null&&ke("scrollend",n);break;case"onClick":l!=null&&(n.onclick=bh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ua.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=n[wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&n.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in n?n[a]=null:n.hasAttribute(a)&&n.removeAttribute(a)),n.addEventListener(r,l,f);break e}a in n?n[a]=l:l===!0?n.setAttribute(a,""):Pr(n,a,l)}}}function Qt(n,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",n),ke("load",n);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,d,E,a,null)}}f&&Je(n,r,"srcSet",a.srcSet,a,null),l&&Je(n,r,"src",a.src,a,null);return;case"input":ke("invalid",n);var b=d=E=f=null,C=null,H=null;for(l in a)if(a.hasOwnProperty(l)){var W=a[l];if(W!=null)switch(l){case"name":f=W;break;case"type":E=W;break;case"checked":C=W;break;case"defaultChecked":H=W;break;case"value":d=W;break;case"defaultValue":b=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(s(137,r));break;default:Je(n,r,l,W,a,null)}}Hs(n,d,b,C,H,E,f,!1),qa(n);return;case"select":ke("invalid",n),l=E=d=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":E=b;break;case"multiple":l=b;default:Je(n,r,f,b,a,null)}r=d,a=E,n.multiple=!!l,r!=null?Xi(n,!!l,r,!1):a!=null&&Xi(n,!!l,a,!0);return;case"textarea":ke("invalid",n),d=f=l=null;for(E in a)if(a.hasOwnProperty(E)&&(b=a[E],b!=null))switch(E){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Je(n,r,E,b,a,null)}Fs(n,l,f,d),qa(n);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":n.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(n,r,C,l,a,null)}return;case"dialog":ke("beforetoggle",n),ke("toggle",n),ke("cancel",n),ke("close",n);break;case"iframe":case"object":ke("load",n);break;case"video":case"audio":for(l=0;l<tu.length;l++)ke(tu[l],n);break;case"image":ke("error",n),ke("load",n);break;case"details":ke("toggle",n);break;case"embed":case"source":case"link":ke("error",n),ke("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in a)if(a.hasOwnProperty(H)&&(l=a[H],l!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Je(n,r,H,l,a,null)}return;default:if(_l(r)){for(W in a)a.hasOwnProperty(W)&&(l=a[W],l!==void 0&&Fm(n,r,W,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Je(n,r,b,l,a,null))}function yS(n,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,E=null,b=null,C=null,H=null,W=null;for(G in a){var J=a[G];if(a.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":C=J;default:l.hasOwnProperty(G)||Je(n,r,G,null,l,J)}}for(var F in l){var G=l[F];if(J=a[F],l.hasOwnProperty(F)&&(G!=null||J!=null))switch(F){case"type":d=G;break;case"name":f=G;break;case"checked":H=G;break;case"defaultChecked":W=G;break;case"value":E=G;break;case"defaultValue":b=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,r));break;default:G!==J&&Je(n,r,F,G,l,J)}}Sn(n,E,b,C,H,W,d,f);return;case"select":G=E=b=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":G=C;default:l.hasOwnProperty(d)||Je(n,r,d,null,l,C)}for(f in l)if(d=l[f],C=a[f],l.hasOwnProperty(f)&&(d!=null||C!=null))switch(f){case"value":F=d;break;case"defaultValue":b=d;break;case"multiple":E=d;default:d!==C&&Je(n,r,f,d,l,C)}r=b,a=E,l=G,F!=null?Xi(n,!!a,F,!1):!!l!=!!a&&(r!=null?Xi(n,!!a,r,!0):Xi(n,!!a,a?[]:"",!1));return;case"textarea":G=F=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Je(n,r,b,null,l,f)}for(E in l)if(f=l[E],d=a[E],l.hasOwnProperty(E)&&(f!=null||d!=null))switch(E){case"value":F=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Je(n,r,E,f,l,d)}We(n,F,G);return;case"option":for(var Te in a)if(F=a[Te],a.hasOwnProperty(Te)&&F!=null&&!l.hasOwnProperty(Te))switch(Te){case"selected":n.selected=!1;break;default:Je(n,r,Te,null,l,F)}for(C in l)if(F=l[C],G=a[C],l.hasOwnProperty(C)&&F!==G&&(F!=null||G!=null))switch(C){case"selected":n.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Je(n,r,C,F,l,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in a)F=a[ye],a.hasOwnProperty(ye)&&F!=null&&!l.hasOwnProperty(ye)&&Je(n,r,ye,null,l,F);for(H in l)if(F=l[H],G=a[H],l.hasOwnProperty(H)&&F!==G&&(F!=null||G!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Je(n,r,H,F,l,G)}return;default:if(_l(r)){for(var et in a)F=a[et],a.hasOwnProperty(et)&&F!==void 0&&!l.hasOwnProperty(et)&&Fm(n,r,et,void 0,l,F);for(W in l)F=l[W],G=a[W],!l.hasOwnProperty(W)||F===G||F===void 0&&G===void 0||Fm(n,r,W,F,l,G);return}}for(var j in a)F=a[j],a.hasOwnProperty(j)&&F!=null&&!l.hasOwnProperty(j)&&Je(n,r,j,null,l,F);for(J in l)F=l[J],G=a[J],!l.hasOwnProperty(J)||F===G||F==null&&G==null||Je(n,r,J,F,l,G)}var Gm=null,$m=null;function Ah(n){return n.nodeType===9?n:n.ownerDocument}function bE(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AE(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Km(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Qm=null;function _S(){var n=window.event;return n&&n.type==="popstate"?n===Qm?!1:(Qm=n,!0):(Qm=null,!1)}var wE=typeof setTimeout=="function"?setTimeout:void 0,vS=typeof clearTimeout=="function"?clearTimeout:void 0,SE=typeof Promise=="function"?Promise:void 0,ES=typeof queueMicrotask=="function"?queueMicrotask:typeof SE<"u"?function(n){return SE.resolve(null).then(n).catch(TS)}:wE;function TS(n){setTimeout(function(){throw n})}function Jr(n){return n==="head"}function RE(n,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var E=n.ownerDocument;if(a&1&&iu(E.documentElement),a&2&&iu(E.body),a&4)for(a=E.head,iu(a),E=a.firstChild;E;){var b=E.nextSibling,C=E.nodeName;E[js]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&E.rel.toLowerCase()==="stylesheet"||a.removeChild(E),E=b}}if(f===0){n.removeChild(d),hu(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);hu(r)}function Ym(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ym(a),Mr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}n.removeChild(a)}}function bS(n,r,a,l){for(;n.nodeType===1;){var f=a;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(l){if(!n[js])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=ti(n.nextSibling),n===null)break}return null}function AS(n,r,a){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!a||(n=ti(n.nextSibling),n===null))return null;return n}function Xm(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function wS(n,r){var a=n.ownerDocument;if(n.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),n._reactRetry=l}}function ti(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Wm=null;function IE(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return n;r--}else a==="/$"&&r++}n=n.previousSibling}return null}function CE(n,r,a){switch(r=Ah(a),n){case"html":if(n=r.documentElement,!n)throw Error(s(452));return n;case"head":if(n=r.head,!n)throw Error(s(453));return n;case"body":if(n=r.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function iu(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Mr(n)}var $n=new Map,NE=new Set;function wh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var pr=oe.d;oe.d={f:SS,r:RS,D:IS,C:CS,L:NS,m:DS,X:OS,S:xS,M:kS};function SS(){var n=pr.f(),r=ph();return n||r}function RS(n){var r=mi(n);r!==null&&r.tag===5&&r.type==="form"?Y_(r):pr.r(n)}var wo=typeof document>"u"?null:document;function DE(n,r,a){var l=wo;if(l&&typeof r=="string"&&r){var f=St(r);f='link[rel="'+n+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),NE.has(f)||(NE.add(f),n={rel:n,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),Qt(r,"link",n),vt(r),l.head.appendChild(r)))}}function IS(n){pr.D(n),DE("dns-prefetch",n,null)}function CS(n,r){pr.C(n,r),DE("preconnect",n,r)}function NS(n,r,a){pr.L(n,r,a);var l=wo;if(l&&n&&r){var f='link[rel="preload"][as="'+St(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+St(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+St(a.imageSizes)+'"]')):f+='[href="'+St(n)+'"]';var d=f;switch(r){case"style":d=So(n);break;case"script":d=Ro(n)}$n.has(d)||(n=_({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:n,as:r},a),$n.set(d,n),l.querySelector(f)!==null||r==="style"&&l.querySelector(ru(d))||r==="script"&&l.querySelector(su(d))||(r=l.createElement("link"),Qt(r,"link",n),vt(r),l.head.appendChild(r)))}}function DS(n,r){pr.m(n,r);var a=wo;if(a&&n){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+St(l)+'"][href="'+St(n)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ro(n)}if(!$n.has(d)&&(n=_({rel:"modulepreload",href:n},r),$n.set(d,n),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(su(d)))return}l=a.createElement("link"),Qt(l,"link",n),vt(l),a.head.appendChild(l)}}}function xS(n,r,a){pr.S(n,r,a);var l=wo;if(l&&n){var f=un(l).hoistableStyles,d=So(n);r=r||"default";var E=f.get(d);if(!E){var b={loading:0,preload:null};if(E=l.querySelector(ru(d)))b.loading=5;else{n=_({rel:"stylesheet",href:n,"data-precedence":r},a),(a=$n.get(d))&&Zm(n,a);var C=E=l.createElement("link");vt(C),Qt(C,"link",n),C._p=new Promise(function(H,W){C.onload=H,C.onerror=W}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Sh(E,r,l)}E={type:"stylesheet",instance:E,count:1,state:b},f.set(d,E)}}}function OS(n,r){pr.X(n,r);var a=wo;if(a&&n){var l=un(a).hoistableScripts,f=Ro(n),d=l.get(f);d||(d=a.querySelector(su(f)),d||(n=_({src:n,async:!0},r),(r=$n.get(f))&&Jm(n,r),d=a.createElement("script"),vt(d),Qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function kS(n,r){pr.M(n,r);var a=wo;if(a&&n){var l=un(a).hoistableScripts,f=Ro(n),d=l.get(f);d||(d=a.querySelector(su(f)),d||(n=_({src:n,async:!0,type:"module"},r),(r=$n.get(f))&&Jm(n,r),d=a.createElement("script"),vt(d),Qt(d,"link",n),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function xE(n,r,a,l){var f=(f=Ae.current)?wh(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=So(a.href),a=un(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){n=So(a.href);var d=un(f).hoistableStyles,E=d.get(n);if(E||(f=f.ownerDocument||f,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,E),(d=f.querySelector(ru(n)))&&!d._p&&(E.instance=d,E.state.loading=5),$n.has(n)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(n,a),d||MS(f,n,a,E.state))),r&&l===null)throw Error(s(528,""));return E}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ro(a),a=un(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function So(n){return'href="'+St(n)+'"'}function ru(n){return'link[rel="stylesheet"]['+n+"]"}function OE(n){return _({},n,{"data-precedence":n.precedence,precedence:null})}function MS(n,r,a,l){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=n.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),Qt(r,"link",a),vt(r),n.head.appendChild(r))}function Ro(n){return'[src="'+St(n)+'"]'}function su(n){return"script[async]"+n}function kE(n,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=n.querySelector('style[data-href~="'+St(a.href)+'"]');if(l)return r.instance=l,vt(l),l;var f=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(n.ownerDocument||n).createElement("style"),vt(l),Qt(l,"style",f),Sh(l,a.precedence,n),r.instance=l;case"stylesheet":f=So(a.href);var d=n.querySelector(ru(f));if(d)return r.state.loading|=4,r.instance=d,vt(d),d;l=OE(a),(f=$n.get(f))&&Zm(l,f),d=(n.ownerDocument||n).createElement("link"),vt(d);var E=d;return E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Qt(d,"link",l),r.state.loading|=4,Sh(d,a.precedence,n),r.instance=d;case"script":return d=Ro(a.src),(f=n.querySelector(su(d)))?(r.instance=f,vt(f),f):(l=a,(f=$n.get(d))&&(l=_({},a),Jm(l,f)),n=n.ownerDocument||n,f=n.createElement("script"),vt(f),Qt(f,"link",l),n.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Sh(l,a.precedence,n));return r.instance}function Sh(n,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,E=0;E<l.length;E++){var b=l[E];if(b.dataset.precedence===r)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(n,r.firstChild))}function Zm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Jm(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var Rh=null;function ME(n,r,a){if(Rh===null){var l=new Map,f=Rh=new Map;f.set(a,l)}else f=Rh,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(n))return l;for(l.set(n,null),a=a.getElementsByTagName(n),f=0;f<a.length;f++){var d=a[f];if(!(d[js]||d[xt]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(r)||"";E=n+E;var b=l.get(E);b?b.push(d):l.set(E,[d])}}return l}function PE(n,r,a){n=n.ownerDocument||n,n.head.insertBefore(a,r==="title"?n.querySelector("head > title"):null)}function PS(n,r,a){if(a===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function VE(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var au=null;function VS(){}function LS(n,r,a){if(au===null)throw Error(s(475));var l=au;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=So(a.href),d=n.querySelector(ru(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(l.count++,l=Ih.bind(l),n.then(l,l)),r.state.loading|=4,r.instance=d,vt(d);return}d=n.ownerDocument||n,a=OE(a),(f=$n.get(f))&&Zm(a,f),d=d.createElement("link"),vt(d);var E=d;E._p=new Promise(function(b,C){E.onload=b,E.onerror=C}),Qt(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Ih.bind(l),n.addEventListener("load",r),n.addEventListener("error",r))}}function US(){if(au===null)throw Error(s(475));var n=au;return n.stylesheets&&n.count===0&&ep(n,n.stylesheets),0<n.count?function(r){var a=setTimeout(function(){if(n.stylesheets&&ep(n,n.stylesheets),n.unsuspend){var l=n.unsuspend;n.unsuspend=null,l()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(a)}}:null}function Ih(){if(this.count--,this.count===0){if(this.stylesheets)ep(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ch=null;function ep(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ch=new Map,r.forEach(jS,n),Ch=null,Ih.call(n))}function jS(n,r){if(!(r.state.loading&4)){var a=Ch.get(n);if(a)var l=a.get(null);else{a=new Map,Ch.set(n,a);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var E=f[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}f=r.instance,E=f.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,f),a.set(E,f),this.count++,l=Ih.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),r.state.loading|=4}}var ou={$$typeof:ne,Provider:null,Consumer:null,_currentValue:pe,_currentValue2:pe,_threadCount:0};function zS(n,r,a,l,f,d,E,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function LE(n,r,a,l,f,d,E,b,C,H,W,J){return n=new zS(n,r,a,E,b,C,H,J),r=1,d===!0&&(r|=24),d=In(3,null,null,r),n.current=d,d.stateNode=n,r=Pd(),r.refCount++,n.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},jd(d),n}function UE(n){return n?(n=no,n):no}function jE(n,r,a,l,f,d){f=UE(f),l.context===null?l.context=f:l.pendingContext=f,l=zr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Br(n,l,r),a!==null&&(On(a,n,r),Ll(a,n,r))}function zE(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<r?a:r}}function tp(n,r){zE(n,r),(n=n.alternate)&&zE(n,r)}function BE(n){if(n.tag===13){var r=to(n,67108864);r!==null&&On(r,n,67108864),tp(n,67108864)}}var Nh=!0;function BS(n,r,a,l){var f=X.T;X.T=null;var d=oe.p;try{oe.p=2,np(n,r,a,l)}finally{oe.p=d,X.T=f}}function qS(n,r,a,l){var f=X.T;X.T=null;var d=oe.p;try{oe.p=8,np(n,r,a,l)}finally{oe.p=d,X.T=f}}function np(n,r,a,l){if(Nh){var f=ip(l);if(f===null)Hm(n,r,l,Dh,a),HE(n,l);else if(FS(f,n,r,a,l))l.stopPropagation();else if(HE(n,l),r&4&&-1<HS.indexOf(n)){for(;f!==null;){var d=mi(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Xn(d.pendingLanes);if(E!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;E;){var C=1<<31-en(E);b.entanglements[1]|=C,E&=~C}Ci(d),(Ye&6)===0&&(dh=Mn()+500,eu(0))}}break;case 13:b=to(d,2),b!==null&&On(b,d,2),ph(),tp(d,2)}if(d=ip(l),d===null&&Hm(n,r,l,Dh,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else Hm(n,r,l,null,a)}}function ip(n){return n=Ln(n),rp(n)}var Dh=null;function rp(n){if(Dh=null,n=Ki(n),n!==null){var r=u(n);if(r===null)n=null;else{var a=r.tag;if(a===13){if(n=h(r),n!==null)return n;n=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Dh=n,null}function qE(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(od()){case sl:return 2;case Ma:return 8;case Ms:case ld:return 32;case Pa:return 268435456;default:return 32}default:return 32}}var sp=!1,es=null,ts=null,ns=null,lu=new Map,uu=new Map,is=[],HS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function HE(n,r){switch(n){case"focusin":case"focusout":es=null;break;case"dragenter":case"dragleave":ts=null;break;case"mouseover":case"mouseout":ns=null;break;case"pointerover":case"pointerout":lu.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":uu.delete(r.pointerId)}}function cu(n,r,a,l,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=mi(r),r!==null&&BE(r)),n):(n.eventSystemFlags|=l,r=n.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),n)}function FS(n,r,a,l,f){switch(r){case"focusin":return es=cu(es,n,r,a,l,f),!0;case"dragenter":return ts=cu(ts,n,r,a,l,f),!0;case"mouseover":return ns=cu(ns,n,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return lu.set(d,cu(lu.get(d)||null,n,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,uu.set(d,cu(uu.get(d)||null,n,r,a,l,f)),!0}return!1}function FE(n){var r=Ki(n.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){n.blockedOn=r,pc(n.priority,function(){if(a.tag===13){var l=xn();l=xr(l);var f=to(a,l);f!==null&&On(f,a,l),tp(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function xh(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var a=ip(n.nativeEvent);if(a===null){a=n.nativeEvent;var l=new a.constructor(a.type,a);Wi=l,a.target.dispatchEvent(l),Wi=null}else return r=mi(a),r!==null&&BE(r),n.blockedOn=a,!1;r.shift()}return!0}function GE(n,r,a){xh(n)&&a.delete(r)}function GS(){sp=!1,es!==null&&xh(es)&&(es=null),ts!==null&&xh(ts)&&(ts=null),ns!==null&&xh(ns)&&(ns=null),lu.forEach(GE),uu.forEach(GE)}function Oh(n,r){n.blockedOn===r&&(n.blockedOn=null,sp||(sp=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,GS)))}var kh=null;function $E(n){kh!==n&&(kh=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){kh===n&&(kh=null);for(var r=0;r<n.length;r+=3){var a=n[r],l=n[r+1],f=n[r+2];if(typeof l!="function"){if(rp(l||a)===null)continue;break}var d=mi(a);d!==null&&(n.splice(r,3),r-=3,rm(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function hu(n){function r(C){return Oh(C,n)}es!==null&&Oh(es,n),ts!==null&&Oh(ts,n),ns!==null&&Oh(ns,n),lu.forEach(r),uu.forEach(r);for(var a=0;a<is.length;a++){var l=is[a];l.blockedOn===n&&(l.blockedOn=null)}for(;0<is.length&&(a=is[0],a.blockedOn===null);)FE(a),a.blockedOn===null&&is.shift();if(a=(n.ownerDocument||n).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],E=f[wt]||null;if(typeof d=="function")E||$E(a);else if(E){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,E=d[wt]||null)b=E.formAction;else if(rp(f)!==null)continue}else b=E.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),$E(a)}}}function ap(n){this._internalRoot=n}Mh.prototype.render=ap.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=xn();jE(a,l,n,r,null,null)},Mh.prototype.unmount=ap.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;jE(n.current,2,null,n,null,null),ph(),r[Pn]=null}};function Mh(n){this._internalRoot=n}Mh.prototype.unstable_scheduleHydration=function(n){if(n){var r=Or();n={blockedOn:null,target:n,priority:r};for(var a=0;a<is.length&&r!==0&&r<is[a].priority;a++);is.splice(a,0,n),a===0&&FE(n)}};var KE=e.version;if(KE!=="19.1.1")throw Error(s(527,KE,"19.1.1"));oe.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=p(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var $S={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{pt=Ph.inject($S),Qe=Ph}catch{}}return du.createRoot=function(n,r){if(!o(n))throw Error(s(299));var a=!1,l="",f=uv,d=cv,E=hv,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=LE(n,1,!1,null,null,a,l,f,d,E,b,null),n[Pn]=r.current,qm(n),new ap(r)},du.hydrateRoot=function(n,r,a){if(!o(n))throw Error(s(299));var l=!1,f="",d=uv,E=cv,b=hv,C=null,H=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(H=a.formState)),r=LE(n,1,!0,r,a??null,l,f,d,E,b,C,H),r.context=UE(null),a=r.current,l=xn(),l=xr(l),f=zr(l),f.callback=null,Br(a,f,l),a=l,r.current.lanes=a,$i(r,a),Ci(r),n[Pn]=r.current,qm(n),new Mh(r)},du.version="19.1.1",du}var i0;function iR(){if(i0)return up.exports;i0=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),up.exports=nR(),up.exports}var rR=iR();const sR=n1(rR),aR="modulepreload",oR=function(i){return"/"+i},r0={},Me=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){let p=function(g){return Promise.all(g.map(_=>Promise.resolve(_).then(A=>({status:"fulfilled",value:A}),A=>({status:"rejected",reason:A}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");o=p(t.map(g=>{if(g=oR(g),g in r0)return;r0[g]=!0;const _=g.endsWith(".css"),A=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${A}`))return;const T=document.createElement("link");if(T.rel=_?"stylesheet":aR,_||(T.as="script"),T.crossOrigin="",T.href=g,m&&T.setAttribute("nonce",m),document.head.appendChild(T),_)return new Promise((D,L)=>{T.addEventListener("load",D),T.addEventListener("error",()=>L(new Error(`Unable to preload CSS for ${g}`)))})}))}function u(h){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=h,window.dispatchEvent(m),!m.defaultPrevented)throw h}return o.then(h=>{for(const m of h||[])m.status==="rejected"&&u(m.reason);return e().catch(u)})};/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var s0="popstate";function lR(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Op("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:xu(o)}return cR(e,t,null,i)}function ct(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function oi(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substring(2,10)}function a0(i,e){return{usr:i.state,key:i.key,idx:e}}function Op(i,e,t=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?$o(e):e,state:t,key:e&&e.key||s||uR()}}function xu({pathname:i="/",search:e="",hash:t=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(i+=t.charAt(0)==="#"?t:"#"+t),i}function $o(i){let e={};if(i){let t=i.indexOf("#");t>=0&&(e.hash=i.substring(t),i=i.substring(0,t));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function cR(i,e,t,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=_();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function _(){return(h.state||{idx:null}).idx}function A(){m="POP";let q=_(),Y=q==null?null:q-g;g=q,p&&p({action:m,location:$.location,delta:Y})}function T(q,Y){m="PUSH";let se=Op($.location,q,Y);g=_()+1;let ne=a0(se,g),fe=$.createHref(se);try{h.pushState(ne,"",fe)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;o.location.assign(fe)}u&&p&&p({action:m,location:$.location,delta:1})}function D(q,Y){m="REPLACE";let se=Op($.location,q,Y);g=_();let ne=a0(se,g),fe=$.createHref(se);h.replaceState(ne,"",fe),u&&p&&p({action:m,location:$.location,delta:0})}function L(q){return hR(q)}let $={get action(){return m},get location(){return i(o,h)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(s0,A),p=q,()=>{o.removeEventListener(s0,A),p=null}},createHref(q){return e(o,q)},createURL:L,encodeLocation(q){let Y=L(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:T,replace:D,go(q){return h.go(q)}};return $}function hR(i,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ct(t,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:xu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=t+s),new URL(s,t)}function i1(i,e,t="/"){return fR(i,e,t,!1)}function fR(i,e,t,s){let o=typeof e=="string"?$o(e):e,u=Ar(o.pathname||"/",t);if(u==null)return null;let h=r1(i);dR(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=wR(u);m=bR(h[p],g,s)}return m}function r1(i,e=[],t=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ct(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=br([s,p.relativePath]),_=t.concat(p);u.children&&u.children.length>0&&(ct(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),r1(u.children,e,_,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:ER(g,u.index),routesMeta:_})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of s1(u.path))o(u,h,m)}),e}function s1(i){let e=i.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),u=t.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=s1(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function dR(i){i.sort((e,t)=>e.score!==t.score?t.score-e.score:TR(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}var mR=/^:[\w-]+$/,pR=3,gR=2,yR=1,_R=10,vR=-2,o0=i=>i==="*";function ER(i,e){let t=i.split("/"),s=t.length;return t.some(o0)&&(s+=vR),e&&(s+=gR),t.filter(o=>!o0(o)).reduce((o,u)=>o+(mR.test(u)?pR:u===""?yR:_R),s)}function TR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function bR(i,e,t=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,_=u==="/"?e:e.slice(u.length)||"/",A=af({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},_),T=p.route;if(!A&&g&&t&&!s[s.length-1].route.index&&(A=af({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!A)return null;Object.assign(o,A.params),h.push({params:o,pathname:br([u,A.pathname]),pathnameBase:CR(br([u,A.pathnameBase])),route:T}),A.pathnameBase!=="/"&&(u=br([u,A.pathnameBase]))}return h}function af(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[t,s]=AR(i.path,i.caseSensitive,i.end),o=e.match(t);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:_,isOptional:A},T)=>{if(_==="*"){let L=m[T]||"";h=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const D=m[T];return A&&!D?g[_]=void 0:g[_]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function AR(i,e=!1,t=!0){oi(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function wR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Ar(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=i.charAt(t);return s&&s!=="/"?null:i.slice(t)||"/"}function SR(i,e="/"){let{pathname:t,search:s="",hash:o=""}=typeof i=="string"?$o(i):i;return{pathname:t?t.startsWith("/")?t:RR(t,e):e,search:NR(s),hash:DR(o)}}function RR(i,e){let t=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function dp(i,e,t,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IR(i){return i.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function pg(i){let e=IR(i);return e.map((t,s)=>s===e.length-1?t.pathname:t.pathnameBase)}function gg(i,e,t,s=!1){let o;typeof i=="string"?o=$o(i):(o={...i},ct(!o.pathname||!o.pathname.includes("?"),dp("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),dp("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),dp("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=t;else{let A=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),A-=1;o.pathname=T.join("/")}m=A>=0?e[A]:"/"}let p=SR(o,m),g=h&&h!=="/"&&h.endsWith("/"),_=(u||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||_)&&(p.pathname+="/"),p}var br=i=>i.join("/").replace(/\/\/+/g,"/"),CR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),NR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,DR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function xR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var a1=["POST","PUT","PATCH","DELETE"];new Set(a1);var OR=["GET",...a1];new Set(OR);var Ko=x.createContext(null);Ko.displayName="DataRouter";var Nf=x.createContext(null);Nf.displayName="DataRouterState";x.createContext(!1);var o1=x.createContext({isTransitioning:!1});o1.displayName="ViewTransition";var kR=x.createContext(new Map);kR.displayName="Fetchers";var MR=x.createContext(null);MR.displayName="Await";var ci=x.createContext(null);ci.displayName="Navigation";var $u=x.createContext(null);$u.displayName="Location";var Yn=x.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var yg=x.createContext(null);yg.displayName="RouteError";function PR(i,{relative:e}={}){ct(Qo(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:s}=x.useContext(ci),{hash:o,pathname:u,search:h}=Ku(i,{relative:e}),m=u;return t!=="/"&&(m=u==="/"?t:br([t,u])),s.createHref({pathname:m,search:h,hash:o})}function Qo(){return x.useContext($u)!=null}function ln(){return ct(Qo(),"useLocation() may be used only in the context of a <Router> component."),x.useContext($u).location}var l1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function u1(i){x.useContext(ci).static||x.useLayoutEffect(i)}function Ca(){let{isDataRoute:i}=x.useContext(Yn);return i?XR():VR()}function VR(){ct(Qo(),"useNavigate() may be used only in the context of a <Router> component.");let i=x.useContext(Ko),{basename:e,navigator:t}=x.useContext(ci),{matches:s}=x.useContext(Yn),{pathname:o}=ln(),u=JSON.stringify(pg(s)),h=x.useRef(!1);return u1(()=>{h.current=!0}),x.useCallback((p,g={})=>{if(oi(h.current,l1),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=gg(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:br([e,_.pathname])),(g.replace?t.replace:t.push)(_,g.state,g)},[e,t,u,o,i])}var LR=x.createContext(null);function UR(i){let e=x.useContext(Yn).outlet;return e&&x.createElement(LR.Provider,{value:i},e)}function A6(){let{matches:i}=x.useContext(Yn),e=i[i.length-1];return e?e.params:{}}function Ku(i,{relative:e}={}){let{matches:t}=x.useContext(Yn),{pathname:s}=ln(),o=JSON.stringify(pg(t));return x.useMemo(()=>gg(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function jR(i,e){return c1(i,e)}function c1(i,e,t,s){ct(Qo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(ci),{matches:u}=x.useContext(Yn),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",_=h&&h.route;{let Y=_&&_.path||"";h1(p,!_||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let A=ln(),T;if(e){let Y=typeof e=="string"?$o(e):e;ct(g==="/"||Y.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),T=Y}else T=A;let D=T.pathname||"/",L=D;if(g!=="/"){let Y=g.replace(/^\//,"").split("/");L="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let $=i1(i,{pathname:L});oi(_||$!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),oi($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let q=FR($&&$.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:br([g,o.encodeLocation?o.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?g:br([g,o.encodeLocation?o.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,t,s);return e&&q?x.createElement($u.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},q):q}function zR(){let i=YR(),e=xR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),t=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),t?x.createElement("pre",{style:o},t):null,h)}var BR=x.createElement(zR,null),qR=class extends x.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?x.createElement(Yn.Provider,{value:this.props.routeContext},x.createElement(yg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function HR({routeContext:i,match:e,children:t}){let s=x.useContext(Ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Yn.Provider,{value:i},t)}function FR(i,e=[],t=null,s=null){if(i==null){if(!t)return null;if(t.errors)i=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)i=t.matches;else return null}let o=i,u=t?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);ct(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:_,errors:A}=t,T=g.route.loader&&!_.hasOwnProperty(g.route.id)&&(!A||A[g.route.id]===void 0);if(g.route.lazy||T){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,_)=>{let A,T=!1,D=null,L=null;t&&(A=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||BR,h&&(m<0&&_===0?(h1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,L=null):m===_&&(T=!0,L=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,_+1)),q=()=>{let Y;return A?Y=D:T?Y=L:g.route.Component?Y=x.createElement(g.route.Component,null):g.route.element?Y=g.route.element:Y=p,x.createElement(HR,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:t!=null},children:Y})};return t&&(g.route.ErrorBoundary||g.route.errorElement||_===0)?x.createElement(qR,{location:t.location,revalidation:t.revalidation,component:D,error:A,children:q(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):q()},null)}function _g(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function GR(i){let e=x.useContext(Ko);return ct(e,_g(i)),e}function $R(i){let e=x.useContext(Nf);return ct(e,_g(i)),e}function KR(i){let e=x.useContext(Yn);return ct(e,_g(i)),e}function vg(i){let e=KR(i),t=e.matches[e.matches.length-1];return ct(t.route.id,`${i} can only be used on routes that contain a unique "id"`),t.route.id}function QR(){return vg("useRouteId")}function YR(){let i=x.useContext(yg),e=$R("useRouteError"),t=vg("useRouteError");return i!==void 0?i:e.errors?.[t]}function XR(){let{router:i}=GR("useNavigate"),e=vg("useNavigate"),t=x.useRef(!1);return u1(()=>{t.current=!0}),x.useCallback(async(o,u={})=>{oi(t.current,l1),t.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var l0={};function h1(i,e,t){!e&&!l0[i]&&(l0[i]=!0,oi(!1,t))}x.memo(WR);function WR({routes:i,future:e,state:t}){return c1(i,void 0,t,e)}function Oo({to:i,replace:e,state:t,relative:s}){ct(Qo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=x.useContext(ci);oi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(Yn),{pathname:h}=ln(),m=Ca(),p=gg(i,pg(u),h,s==="path"),g=JSON.stringify(p);return x.useEffect(()=>{m(JSON.parse(g),{replace:e,state:t,relative:s})},[m,g,s,e,t]),null}function Eg(i){return UR(i.context)}function be(i){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ZR({basename:i="/",children:e=null,location:t,navigationType:s="POP",navigator:o,static:u=!1}){ct(!Qo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=x.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof t=="string"&&(t=$o(t));let{pathname:p="/",search:g="",hash:_="",state:A=null,key:T="default"}=t,D=x.useMemo(()=>{let L=Ar(p,h);return L==null?null:{location:{pathname:L,search:g,hash:_,state:A,key:T},navigationType:s}},[h,p,g,_,A,T,s]);return oi(D!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:x.createElement(ci.Provider,{value:m},x.createElement($u.Provider,{children:e,value:D}))}function JR({children:i,location:e}){return jR(kp(i),e)}function kp(i,e=[]){let t=[];return x.Children.forEach(i,(s,o)=>{if(!x.isValidElement(s))return;let u=[...e,o];if(s.type===x.Fragment){t.push.apply(t,kp(s.props.children,u));return}ct(s.type===be,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=kp(s.props.children,u)),t.push(h)}),t}var $h="get",Kh="application/x-www-form-urlencoded";function Df(i){return i!=null&&typeof i.tagName=="string"}function eI(i){return Df(i)&&i.tagName.toLowerCase()==="button"}function tI(i){return Df(i)&&i.tagName.toLowerCase()==="form"}function nI(i){return Df(i)&&i.tagName.toLowerCase()==="input"}function iI(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function rI(i,e){return i.button===0&&(!e||e==="_self")&&!iI(i)}var Vh=null;function sI(){if(Vh===null)try{new FormData(document.createElement("form"),0),Vh=!1}catch{Vh=!0}return Vh}var aI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mp(i){return i!=null&&!aI.has(i)?(oi(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kh}"`),null):i}function oI(i,e){let t,s,o,u,h;if(tI(i)){let m=i.getAttribute("action");s=m?Ar(m,e):null,t=i.getAttribute("method")||$h,o=mp(i.getAttribute("enctype"))||Kh,u=new FormData(i)}else if(eI(i)||nI(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?Ar(p,e):null,t=i.getAttribute("formmethod")||m.getAttribute("method")||$h,o=mp(i.getAttribute("formenctype"))||mp(m.getAttribute("enctype"))||Kh,u=new FormData(m,i),!sI()){let{name:g,type:_,value:A}=i;if(_==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,A)}}else{if(Df(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=$h,s=null,o=Kh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:t.toLowerCase(),encType:o,formData:u,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Tg(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function lI(i,e,t){let s=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return s.pathname==="/"?s.pathname=`_root.${t}`:e&&Ar(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${t}`,s}async function uI(i,e){if(i.id in e)return e[i.id];try{let t=await import(i.module);return e[i.id]=t,t}catch(t){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cI(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function hI(i,e,t){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await uI(u,t);return h.links?h.links():[]}return[]}));return pI(s.flat(1).filter(cI).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function u0(i,e,t,s,o,u){let h=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,m=(p,g)=>t[g].pathname!==p.pathname||t[g].route.path?.endsWith("*")&&t[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let _=s.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let A=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function fI(i,e,{includeHydrateFallback:t}={}){return dI(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function dI(i){return[...new Set(i)]}function mI(i){let e={},t=Object.keys(i).sort();for(let s of t)e[s]=i[s];return e}function pI(i,e){let t=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(mI(o));return t.has(u)||(t.add(u),s.push({key:u,link:o})),s},[])}function f1(){let i=x.useContext(Ko);return Tg(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function gI(){let i=x.useContext(Nf);return Tg(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var bg=x.createContext(void 0);bg.displayName="FrameworkContext";function d1(){let i=x.useContext(bg);return Tg(i,"You must render this element inside a <HydratedRouter> element"),i}function yI(i,e){let t=x.useContext(bg),[s,o]=x.useState(!1),[u,h]=x.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:_,onTouchStart:A}=e,T=x.useRef(null);x.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=Y=>{Y.forEach(se=>{h(se.isIntersecting)})},q=new IntersectionObserver($,{threshold:.5});return T.current&&q.observe(T.current),()=>{q.disconnect()}}},[i]),x.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let D=()=>{o(!0)},L=()=>{o(!1),h(!1)};return t?i!=="intent"?[u,T,{}]:[u,T,{onFocus:mu(m,D),onBlur:mu(p,L),onMouseEnter:mu(g,D),onMouseLeave:mu(_,L),onTouchStart:mu(A,D)}]:[!1,T,{}]}function mu(i,e){return t=>{i&&i(t),t.defaultPrevented||e(t)}}function _I({page:i,...e}){let{router:t}=f1(),s=x.useMemo(()=>i1(t.routes,i,t.basename),[t.routes,i,t.basename]);return s?x.createElement(EI,{page:i,matches:s,...e}):null}function vI(i){let{manifest:e,routeModules:t}=d1(),[s,o]=x.useState([]);return x.useEffect(()=>{let u=!1;return hI(i,e,t).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,t]),s}function EI({page:i,matches:e,...t}){let s=ln(),{manifest:o,routeModules:u}=d1(),{basename:h}=f1(),{loaderData:m,matches:p}=gI(),g=x.useMemo(()=>u0(i,e,p,o,s,"data"),[i,e,p,o,s]),_=x.useMemo(()=>u0(i,e,p,o,s,"assets"),[i,e,p,o,s]),A=x.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let L=new Set,$=!1;if(e.forEach(Y=>{let se=o.routes[Y.route.id];!se||!se.hasLoader||(!g.some(ne=>ne.route.id===Y.route.id)&&Y.route.id in m&&u[Y.route.id]?.shouldRevalidate||se.hasClientLoader?$=!0:L.add(Y.route.id))}),L.size===0)return[];let q=lI(i,h,"data");return $&&L.size>0&&q.searchParams.set("_routes",e.filter(Y=>L.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[q.pathname+q.search]},[h,m,s,o,g,e,i,u]),T=x.useMemo(()=>fI(_,o),[_,o]),D=vI(_);return x.createElement(x.Fragment,null,A.map(L=>x.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),T.map(L=>x.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),D.map(({key:L,link:$})=>x.createElement("link",{key:L,...$})))}function TI(...i){return e=>{i.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var m1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{m1&&(window.__reactRouterVersion="7.7.1")}catch{}function bI({basename:i,children:e,window:t}){let s=x.useRef();s.current==null&&(s.current=lR({window:t,v5Compat:!0}));let o=s.current,[u,h]=x.useState({action:o.action,location:o.location}),m=x.useCallback(p=>{x.startTransition(()=>h(p))},[h]);return x.useLayoutEffect(()=>o.listen(m),[o,m]),x.createElement(ZR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var p1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ii=x.forwardRef(function({onClick:e,discover:t="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:_,viewTransition:A,...T},D){let{basename:L}=x.useContext(ci),$=typeof g=="string"&&p1.test(g),q,Y=!1;if(typeof g=="string"&&$&&(q=g,m1))try{let I=new URL(window.location.href),P=g.startsWith("//")?new URL(I.protocol+g):new URL(g),O=Ar(P.pathname,L);P.origin===I.origin&&O!=null?g=O+P.search+P.hash:Y=!0}catch{oi(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let se=PR(g,{relative:o}),[ne,fe,ce]=yI(s,T),Re=SI(g,{replace:h,state:m,target:p,preventScrollReset:_,relative:o,viewTransition:A});function V(I){e&&e(I),I.defaultPrevented||Re(I)}let R=x.createElement("a",{...T,...ce,href:q||se,onClick:Y||u?e:V,ref:TI(D,fe),target:p,"data-discover":!$&&t==="render"?"true":void 0});return ne&&!$?x.createElement(x.Fragment,null,R,x.createElement(_I,{page:se})):R});ii.displayName="Link";var xf=x.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},_){let A=Ku(h,{relative:g.relative}),T=ln(),D=x.useContext(Nf),{navigator:L,basename:$}=x.useContext(ci),q=D!=null&&DI(A)&&m===!0,Y=L.encodeLocation?L.encodeLocation(A).pathname:A.pathname,se=T.pathname,ne=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(se=se.toLowerCase(),ne=ne?ne.toLowerCase():null,Y=Y.toLowerCase()),ne&&$&&(ne=Ar(ne,$)||ne);const fe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ce=se===Y||!o&&se.startsWith(Y)&&se.charAt(fe)==="/",Re=ne!=null&&(ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(Y.length)==="/"),V={isActive:ce,isPending:Re,isTransitioning:q},R=ce?e:void 0,I;typeof s=="function"?I=s(V):I=[s,ce?"active":null,Re?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let P=typeof u=="function"?u(V):u;return x.createElement(ii,{...g,"aria-current":R,className:I,ref:_,style:P,to:h,viewTransition:m},typeof p=="function"?p(V):p)});xf.displayName="NavLink";var AI=x.forwardRef(({discover:i="render",fetcherKey:e,navigate:t,reloadDocument:s,replace:o,state:u,method:h=$h,action:m,onSubmit:p,relative:g,preventScrollReset:_,viewTransition:A,...T},D)=>{let L=CI(),$=NI(m,{relative:g}),q=h.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&p1.test(m),se=ne=>{if(p&&p(ne),ne.defaultPrevented)return;ne.preventDefault();let fe=ne.nativeEvent.submitter,ce=fe?.getAttribute("formmethod")||h;L(fe||ne.currentTarget,{fetcherKey:e,method:ce,navigate:t,replace:o,state:u,relative:g,preventScrollReset:_,viewTransition:A})};return x.createElement("form",{ref:D,method:q,action:$,onSubmit:s?p:se,...T,"data-discover":!Y&&i==="render"?"true":void 0})});AI.displayName="Form";function wI(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function g1(i){let e=x.useContext(Ko);return ct(e,wI(i)),e}function SI(i,{target:e,replace:t,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=Ca(),p=ln(),g=Ku(i,{relative:u});return x.useCallback(_=>{if(rI(_,e)){_.preventDefault();let A=t!==void 0?t:xu(p)===xu(g);m(i,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,t,s,e,i,o,u,h])}var RI=0,II=()=>`__${String(++RI)}__`;function CI(){let{router:i}=g1("useSubmit"),{basename:e}=x.useContext(ci),t=QR();return x.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=oI(s,e);if(o.navigate===!1){let _=o.fetcherKey||II();await i.fetch(_,t,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,t])}function NI(i,{relative:e}={}){let{basename:t}=x.useContext(ci),s=x.useContext(Yn);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Ku(i||".",{relative:e})},h=ln();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(_=>_==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let _=m.toString();u.search=_?`?${_}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(u.pathname=u.pathname==="/"?t:br([t,u.pathname])),xu(u)}function DI(i,{relative:e}={}){let t=x.useContext(o1);ct(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=g1("useViewTransitionState"),o=Ku(i,{relative:e});if(!t.isTransitioning)return!1;let u=Ar(t.currentLocation.pathname,s)||t.currentLocation.pathname,h=Ar(t.nextLocation.pathname,s)||t.nextLocation.pathname;return af(o.pathname,h)!=null||af(o.pathname,u)!=null}const xI=()=>{};var c0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=function(i){const e=[];let t=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},OI=function(i){const e=[];let t=0,s=0;for(;t<i.length;){const o=i[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[t++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[t++],h=i[t++],m=i[t++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[t++],h=i[t++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},_1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,_=u>>2,A=(u&3)<<4|m>>4;let T=(m&15)<<2|g>>6,D=g&63;p||(D=64,h||(T=64)),s.push(t[_],t[A],t[T],t[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(y1(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):OI(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=t[i.charAt(o++)],m=o<i.length?t[i.charAt(o)]:0;++o;const g=o<i.length?t[i.charAt(o)]:64;++o;const A=o<i.length?t[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||A==null)throw new kI;const T=u<<2|m>>4;if(s.push(T),g!==64){const D=m<<4&240|g>>2;if(s.push(D),A!==64){const L=g<<6&192|A;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class kI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const MI=function(i){const e=y1(i);return _1.encodeByteArray(e,!0)},of=function(i){return MI(i).replace(/\./g,"")},v1=function(i){try{return _1.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI=()=>PI().__FIREBASE_DEFAULTS__,LI=()=>{if(typeof process>"u"||typeof c0>"u")return;const i=c0.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},UI=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&v1(i[1]);return e&&JSON.parse(e)},Of=()=>{try{return xI()||VI()||LI()||UI()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},E1=i=>Of()?.emulatorHosts?.[i],T1=i=>{const e=E1(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},b1=()=>Of()?.config,A1=i=>Of()?.[`_${i}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kf(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...i};return[of(JSON.stringify(t)),of(JSON.stringify(h)),""].join(".")}const wu={};function zI(){const i={prod:[],emulator:[]};for(const e of Object.keys(wu))wu[e]?i.emulator.push(e):i.prod.push(e);return i}function BI(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let h0=!1;function Ag(i,e){if(typeof window>"u"||typeof document>"u"||!Nr(window.location.host)||wu[i]===e||wu[i]||h0)return;wu[i]=e;function t(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=zI().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,D){T.setAttribute("width","24"),T.setAttribute("id",D),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{h0=!0,h()},T}function _(T,D){T.setAttribute("id",D),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function A(){const T=BI(s),D=t("text"),L=document.getElementById(D)||document.createElement("span"),$=t("learnmore"),q=document.getElementById($)||document.createElement("a"),Y=t("preprendIcon"),se=document.getElementById(Y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const ne=T.element;m(ne),_(q,$);const fe=g();p(se,Y),ne.append(se,L,q,fe),document.body.appendChild(ne)}u?(L.innerText="Preview backend disconnected.",se.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(se.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function HI(){const i=Of()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GI(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function $I(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KI(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function QI(){return!HI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YI(){try{return typeof indexedDB=="object"}catch{return!1}}function XI(){return new Promise((i,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI="FirebaseError";class qi extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=WI,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qu.prototype.create)}}class Qu{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?ZI(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new qi(o,m,s)}}function ZI(i,e){return i.replace(JI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const JI=/\{\$([^}]+)}/g;function e2(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function gs(i,e){if(i===e)return!0;const t=Object.keys(i),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(f0(u)&&f0(h)){if(!gs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function f0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yu(i){const e=[];for(const[t,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function yu(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function _u(i){const e=i.indexOf("?");if(!e)return"";const t=i.indexOf("#",e);return i.substring(e,t>0?t:void 0)}function t2(i,e){const t=new n2(i,e);return t.subscribe.bind(t)}class n2{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");i2(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=pp),o.error===void 0&&(o.error=pp),o.complete===void 0&&(o.complete=pp);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function i2(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function pp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ke(i){return i&&i._delegate?i._delegate:i}class ys{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new jI;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(a2(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:s2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function s2(i){return i===ma?void 0:i}function a2(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new r2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const l2={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},u2=Pe.INFO,c2={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},h2=(i,e,...t)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=c2[e];if(o)console[o](`[${s}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wg{constructor(e){this.name=e,this._logLevel=u2,this._logHandler=h2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?l2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const f2=(i,e)=>e.some(t=>i instanceof t);let d0,m0;function d2(){return d0||(d0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function m2(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S1=new WeakMap,Mp=new WeakMap,R1=new WeakMap,gp=new WeakMap,Sg=new WeakMap;function p2(i){const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{t(fs(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&S1.set(t,i)}).catch(()=>{}),Sg.set(e,i),e}function g2(i){if(Mp.has(i))return;const e=new Promise((t,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{t(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Mp.set(i,e)}let Pp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return Mp.get(i);if(e==="objectStoreNames")return i.objectStoreNames||R1.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fs(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function y2(i){Pp=i(Pp)}function _2(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=i.call(yp(this),e,...t);return R1.set(s,e.sort?e.sort():[e]),fs(s)}:m2().includes(i)?function(...e){return i.apply(yp(this),e),fs(S1.get(this))}:function(...e){return fs(i.apply(yp(this),e))}}function v2(i){return typeof i=="function"?_2(i):(i instanceof IDBTransaction&&g2(i),f2(i,d2())?new Proxy(i,Pp):i)}function fs(i){if(i instanceof IDBRequest)return p2(i);if(gp.has(i))return gp.get(i);const e=v2(i);return e!==i&&(gp.set(i,e),Sg.set(e,i)),e}const yp=i=>Sg.get(i);function E2(i,e,{blocked:t,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=fs(h);return s&&h.addEventListener("upgradeneeded",p=>{s(fs(h.result),p.oldVersion,p.newVersion,fs(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const T2=["get","getKey","getAll","getAllKeys","count"],b2=["put","add","delete","clear"],_p=new Map;function p0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(_p.get(e))return _p.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=b2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||T2.includes(t)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[t](...m),o&&p.done]))[0]};return _p.set(e,u),u}y2(i=>({...i,get:(e,t,s)=>p0(e,t)||i.get(e,t,s),has:(e,t)=>!!p0(e,t)||i.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(w2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function w2(i){return i.getComponent()?.type==="VERSION"}const Vp="@firebase/app",g0="0.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wr=new wg("@firebase/app"),S2="@firebase/app-compat",R2="@firebase/analytics-compat",I2="@firebase/analytics",C2="@firebase/app-check-compat",N2="@firebase/app-check",D2="@firebase/auth",x2="@firebase/auth-compat",O2="@firebase/database",k2="@firebase/data-connect",M2="@firebase/database-compat",P2="@firebase/functions",V2="@firebase/functions-compat",L2="@firebase/installations",U2="@firebase/installations-compat",j2="@firebase/messaging",z2="@firebase/messaging-compat",B2="@firebase/performance",q2="@firebase/performance-compat",H2="@firebase/remote-config",F2="@firebase/remote-config-compat",G2="@firebase/storage",$2="@firebase/storage-compat",K2="@firebase/firestore",Q2="@firebase/ai",Y2="@firebase/firestore-compat",X2="firebase",W2="12.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",Z2={[Vp]:"fire-core",[S2]:"fire-core-compat",[I2]:"fire-analytics",[R2]:"fire-analytics-compat",[N2]:"fire-app-check",[C2]:"fire-app-check-compat",[D2]:"fire-auth",[x2]:"fire-auth-compat",[O2]:"fire-rtdb",[k2]:"fire-data-connect",[M2]:"fire-rtdb-compat",[P2]:"fire-fn",[V2]:"fire-fn-compat",[L2]:"fire-iid",[U2]:"fire-iid-compat",[j2]:"fire-fcm",[z2]:"fire-fcm-compat",[B2]:"fire-perf",[q2]:"fire-perf-compat",[H2]:"fire-rc",[F2]:"fire-rc-compat",[G2]:"fire-gcs",[$2]:"fire-gcs-compat",[K2]:"fire-fst",[Y2]:"fire-fst-compat",[Q2]:"fire-vertex","fire-js":"fire-js",[X2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Map,J2=new Map,Up=new Map;function y0(i,e){try{i.container.addComponent(e)}catch(t){wr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function ba(i){const e=i.name;if(Up.has(e))return wr.debug(`There were multiple attempts to register component ${e}.`),!1;Up.set(e,i);for(const t of Ou.values())y0(t,i);for(const t of J2.values())y0(t,i);return!0}function Xu(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function pn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new Qu("app","Firebase",eC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Na=W2;function I1(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const s={name:Lp,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(t||(t=b1()),!t)throw ds.create("no-options");const u=Ou.get(o);if(u){if(gs(t,u.options)&&gs(s,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const h=new o2(o);for(const p of Up.values())h.addComponent(p);const m=new tC(t,s,h);return Ou.set(o,m),m}function Mf(i=Lp){const e=Ou.get(i);if(!e&&i===Lp&&b1())return I1();if(!e)throw ds.create("no-app",{appName:i});return e}function nC(){return Array.from(Ou.values())}function Oi(i,e,t){let s=Z2[i]??i;t&&(s+=`-${t}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const h=[`Unable to register library "${s}" with version "${e}":`];o&&h.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),wr.warn(h.join(" "));return}ba(new ys(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC="firebase-heartbeat-database",rC=1,ku="firebase-heartbeat-store";let vp=null;function C1(){return vp||(vp=E2(iC,rC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ku)}catch(t){console.warn(t)}}}}).catch(i=>{throw ds.create("idb-open",{originalErrorMessage:i.message})})),vp}async function sC(i){try{const t=(await C1()).transaction(ku),s=await t.objectStore(ku).get(N1(i));return await t.done,s}catch(e){if(e instanceof qi)wr.warn(e.message);else{const t=ds.create("idb-get",{originalErrorMessage:e?.message});wr.warn(t.message)}}}async function _0(i,e){try{const s=(await C1()).transaction(ku,"readwrite");await s.objectStore(ku).put(e,N1(i)),await s.done}catch(t){if(t instanceof qi)wr.warn(t.message);else{const s=ds.create("idb-set",{originalErrorMessage:t?.message});wr.warn(s.message)}}}function N1(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC=1024,oC=30;class lC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new cC(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=v0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:t}),this._heartbeatsCache.heartbeats.length>oC){const o=hC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){wr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=v0(),{heartbeatsToSend:t,unsentEntries:s}=uC(this._heartbeatsCache.heartbeats),o=of(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return wr.warn(e),""}}}function v0(){return new Date().toISOString().substring(0,10)}function uC(i,e=aC){const t=[];let s=i.slice();for(const o of i){const u=t.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),E0(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),E0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class cC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YI()?XI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await sC(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return _0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function E0(i){return of(JSON.stringify({version:2,heartbeats:i})).length}function hC(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let s=1;s<i.length;s++)i[s].date<t&&(t=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(i){ba(new ys("platform-logger",e=>new A2(e),"PRIVATE")),ba(new ys("heartbeat",e=>new lC(e),"PRIVATE")),Oi(Vp,g0,i),Oi(Vp,g0,"esm2020"),Oi("fire-js","")}fC("");var dC="firebase",mC="12.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(dC,mC,"app");function D1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pC=D1,x1=new Qu("auth","Firebase",D1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf=new wg("@firebase/auth");function gC(i,...e){lf.logLevel<=Pe.WARN&&lf.warn(`Auth (${Na}): ${i}`,...e)}function Qh(i,...e){lf.logLevel<=Pe.ERROR&&lf.error(`Auth (${Na}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(i,...e){throw Ig(i,...e)}function ai(i,...e){return Ig(i,...e)}function Rg(i,e,t){const s={...pC(),[e]:t};return new Qu("auth","Firebase",s).create(e,{appName:i.name})}function ki(i){return Rg(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function O1(i,e,t){const s=t;if(!(e instanceof s))throw s.name!==e.constructor.name&&Qn(i,"argument-error"),Rg(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ig(i,...e){if(typeof i!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(t,...s)}return x1.create(i,...e)}function ve(i,e,...t){if(!i)throw Ig(e,...t)}function Er(i){const e="INTERNAL ASSERTION FAILED: "+i;throw Qh(e),new Error(e)}function Sr(i,e){i||Er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(){return typeof self<"u"&&self.location?.href||""}function yC(){return T0()==="http:"||T0()==="https:"}function T0(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yC()||GI()||"connection"in navigator)?navigator.onLine:!0}function vC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Sr(t>e,"Short delay should be less than long delay!"),this.isMobile=qI()||$I()}get(){return _C()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(i,e){Sr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bC=new Wu(3e4,6e4);function ws(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Ss(i,e,t,s,o={}){return M1(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Yu({key:i.config.apiKey,...h}).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g={method:e,headers:p,...u};return FI()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&Nr(i.emulatorConfig.host)&&(g.credentials="include"),k1.fetch()(await P1(i,i.config.apiHost,t,m),g)})}async function M1(i,e,t){i._canInitEmulator=!1;const s={...EC,...e};try{const o=new wC(i),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw Lh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Lh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw Lh(i,"user-disabled",h);const _=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw Rg(i,_,g);Qn(i,_)}}catch(o){if(o instanceof qi)throw o;Qn(i,"network-request-failed",{message:String(o)})}}async function Zu(i,e,t,s,o={}){const u=await Ss(i,e,t,s,o);return"mfaPendingCredential"in u&&Qn(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function P1(i,e,t,s){const o=`${e}${t}?${s}`,u=i,h=u.config.emulator?Cg(i.config,o):`${i.config.apiScheme}://${o}`;return TC.includes(t)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function AC(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(ai(this.auth,"network-request-failed")),bC.get())})}}function Lh(i,e,t){const s={appName:i.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=ai(i,e,s);return o.customData._tokenResponse=t,o}function b0(i){return i!==void 0&&i.enterprise!==void 0}class SC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return AC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function RC(i,e){return Ss(i,"GET","/v2/recaptchaConfig",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IC(i,e){return Ss(i,"POST","/v1/accounts:delete",e)}async function uf(i,e){return Ss(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CC(i,e=!1){const t=Ke(i),s=await t.getIdToken(e),o=Ng(s);ve(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:Su(Ep(o.auth_time)),issuedAtTime:Su(Ep(o.iat)),expirationTime:Su(Ep(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function Ep(i){return Number(i)*1e3}function Ng(i){const[e,t,s]=i.split(".");if(e===void 0||t===void 0||s===void 0)return Qh("JWT malformed, contained fewer than 3 sections"),null;try{const o=v1(t);return o?JSON.parse(o):(Qh("Failed to decode base64 JWT payload"),null)}catch(o){return Qh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function A0(i){const e=Ng(i);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(i,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof qi&&NC(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function NC({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Su(this.lastLoginAt),this.creationTime=Su(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(i){const e=i.auth,t=await i.getIdToken(),s=await Mu(i,uf(e,{idToken:t}));ve(s?.users.length,e,"internal-error");const o=s.users[0];i._notifyReloadListener(o);const u=o.providerUserInfo?.length?V1(o.providerUserInfo):[],h=OC(i.providerData,u),m=i.isAnonymous,p=!(i.email&&o.passwordHash)&&!h?.length,g=m?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:h,metadata:new zp(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(i,_)}async function xC(i){const e=Ke(i);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function OC(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function V1(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kC(i,e){const t=await M1(i,{},async()=>{const s=Yu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await P1(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&Nr(i.emulatorConfig.host)&&(p.credentials="include"),k1.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MC(i,e){return Ss(i,"POST","/v2/accounts:revokeToken",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):A0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const t=A0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:u}=await kC(e,t);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:u}=t,h=new ko;return s&&(ve(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ko,this.toJSON())}_performRefresh(){return Er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(i,e){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class si{constructor({uid:e,auth:t,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new DC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new zp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Mu(this,this.stsTokenManager.getToken(this.auth,e));return ve(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CC(this,e)}reload(){return xC(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new si({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await cf(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(pn(this.auth.app))return Promise.reject(ki(this.auth));const e=await this.getIdToken();return await Mu(this,IC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const s=t.displayName??void 0,o=t.email??void 0,u=t.phoneNumber??void 0,h=t.photoURL??void 0,m=t.tenantId??void 0,p=t._redirectEventId??void 0,g=t.createdAt??void 0,_=t.lastLoginAt??void 0,{uid:A,emailVerified:T,isAnonymous:D,providerData:L,stsTokenManager:$}=t;ve(A&&$,e,"internal-error");const q=ko.fromJSON(this.name,$);ve(typeof A=="string",e,"internal-error"),ss(s,e.name),ss(o,e.name),ve(typeof T=="boolean",e,"internal-error"),ve(typeof D=="boolean",e,"internal-error"),ss(u,e.name),ss(h,e.name),ss(m,e.name),ss(p,e.name),ss(g,e.name),ss(_,e.name);const Y=new si({uid:A,auth:e,email:o,emailVerified:T,displayName:s,isAnonymous:D,photoURL:h,phoneNumber:u,tenantId:m,stsTokenManager:q,createdAt:g,lastLoginAt:_});return L&&Array.isArray(L)&&(Y.providerData=L.map(se=>({...se}))),p&&(Y._redirectEventId=p),Y}static async _fromIdTokenResponse(e,t,s=!1){const o=new ko;o.updateFromServerResponse(t);const u=new si({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await cf(u),u}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?V1(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new ko;m.updateFromIdToken(s);const p=new si({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w0=new Map;function Tr(i){Sr(i instanceof Function,"Expected a class definition");let e=w0.get(i);return e?(Sr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,w0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}L1.type="NONE";const S0=L1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yh(i,e,t){return`firebase:${i}:${e}:${t}`}class Mo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Yh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Yh("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await uf(this.auth,{idToken:e}).catch(()=>{});return t?si._fromGetAccountInfoResponse(this.auth,t,e):null}return si._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Mo(Tr(S0),e,s);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||Tr(S0);const h=Yh(s,e.config.apiKey,e.name);let m=null;for(const g of t)try{const _=await g._get(h);if(_){let A;if(typeof _=="string"){const T=await uf(e,{idToken:_}).catch(()=>{});if(!T)break;A=await si._fromGetAccountInfoResponse(e,T,_)}else A=si._fromJSON(e,_);g!==u&&(m=A),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Mo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(t.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new Mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(B1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(U1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(H1(e))return"Blackberry";if(F1(e))return"Webos";if(j1(e))return"Safari";if((e.includes("chrome/")||z1(e))&&!e.includes("edge/"))return"Chrome";if(q1(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(t);if(s?.length===2)return s[1]}return"Other"}function U1(i=on()){return/firefox\//i.test(i)}function j1(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function z1(i=on()){return/crios\//i.test(i)}function B1(i=on()){return/iemobile/i.test(i)}function q1(i=on()){return/android/i.test(i)}function H1(i=on()){return/blackberry/i.test(i)}function F1(i=on()){return/webos/i.test(i)}function Dg(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function PC(i=on()){return Dg(i)&&!!window.navigator?.standalone}function VC(){return KI()&&document.documentMode===10}function G1(i=on()){return Dg(i)||q1(i)||F1(i)||H1(i)||/windows phone/i.test(i)||B1(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(i,e=[]){let t;switch(i){case"Browser":t=R0(on());break;case"Worker":t=`${R0(on())}-${i}`;break;default:t=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Na}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(i,e={}){return Ss(i,"GET","/v2/passwordPolicy",ws(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=6;class zC{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??jC,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I0(this),this.idTokenSubscription=new I0(this),this.beforeStateQueue=new LC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Tr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await uf(this,{idToken:e}),s=await si._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(pn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let s=t,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,h=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===h)&&m?.user&&(s=m.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(pn(this.app))return Promise.reject(ki(this));const t=e?Ke(e):null;return t&&ve(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return pn(this.app)?Promise.reject(ki(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return pn(this.app)?Promise.reject(ki(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UC(this),t=new zC(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qu("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await MC(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Tr(e)||this._popupRedirectResolver;ve(t,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Tr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&gC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Hi(i){return Ke(i)}class I0{constructor(e){this.auth=e,this.observer=null,this.addObserver=t2(t=>this.observer=t)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function qC(i){Pf=i}function K1(i){return Pf.loadJS(i)}function HC(){return Pf.recaptchaEnterpriseScript}function FC(){return Pf.gapiScript}function GC(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class $C{constructor(){this.enterprise=new KC}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class KC{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const QC="recaptcha-enterprise",Q1="NO_RECAPTCHA";class YC{constructor(e){this.type=QC,this.auth=Hi(e)}async verify(e="verify",t=!1){async function s(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{RC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new SC(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;b0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(Q1)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new $C().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!t&&b0(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=HC();p.length!==0&&(p+=m),K1(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function C0(i,e,t,s=!1,o=!1){const u=new YC(i);let h;if(o)h=Q1;else try{h=await u.verify(t)}catch{h=await u.verify(t,!0)}const m={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Bp(i,e,t,s,o){if(i._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await C0(i,e,t,t==="getOobCode");return s(i,u)}else return s(i,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await C0(i,e,t,t==="getOobCode");return s(i,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(i,e){const t=Xu(i,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(gs(u,e??{}))return o;Qn(o,"already-initialized")}return t.initialize({options:e})}function WC(i,e){const t=e?.persistence||[],s=(Array.isArray(t)?t:[t]).map(Tr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function ZC(i,e,t){const s=Hi(i);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Y1(e),{host:h,port:m}=JC(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},_=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(gs(g,s.config.emulator)&&gs(_,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=_,s.settings.appVerificationDisabledForTesting=!0,Nr(h)?(kf(`${u}//${h}${p}`),Ag("Auth",!0)):eN()}function Y1(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function JC(i){const e=Y1(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:N0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:N0(h)}}}function N0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function eN(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Er("not implemented")}_getIdTokenResponse(e){return Er("not implemented")}_linkToIdToken(e,t){return Er("not implemented")}_getReauthenticationResolver(e){return Er("not implemented")}}async function tN(i,e){return Ss(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nN(i,e){return Zu(i,"POST","/v1/accounts:signInWithPassword",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iN(i,e){return Zu(i,"POST","/v1/accounts:signInWithEmailLink",ws(i,e))}async function rN(i,e){return Zu(i,"POST","/v1/accounts:signInWithEmailLink",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu extends xg{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Pu(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new Pu(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,t,"signInWithPassword",nN);case"emailLink":return iN(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bp(e,s,"signUpPassword",tN);case"emailLink":return rN(e,{idToken:t,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(i,e){return Zu(i,"POST","/v1/accounts:signInWithIdp",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN="http://localhost";class Aa extends xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=t;if(!s||!o)return null;const h=new Aa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Po(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Po(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Po(e,t)}buildRequest(){const e={requestUri:sN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Yu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oN(i){const e=yu(_u(i)).link,t=e?yu(_u(e)).deep_link_id:null,s=yu(_u(i)).deep_link_id;return(s?yu(_u(s)).link:null)||s||t||e||i}class Og{constructor(e){const t=yu(_u(e)),s=t.apiKey??null,o=t.oobCode??null,u=aN(t.mode??null);ve(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=oN(e);try{return new Og(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.providerId=Yo.PROVIDER_ID}static credential(e,t){return Pu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Og.parseLink(t);return ve(s,"argument-error"),Pu._fromEmailAndCode(e,s.code,s.tenantId)}}Yo.PROVIDER_ID="password";Yo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Yo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju extends Vf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Ju{constructor(){super("facebook.com")}static credential(e){return Aa._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Ju{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Aa._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return ri.credential(t,s)}catch{return null}}}ri.GOOGLE_SIGN_IN_METHOD="google.com";ri.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Ju{constructor(){super("github.com")}static credential(e){return Aa._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Ju{constructor(){super("twitter.com")}static credential(e,t){return Aa._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ls.credential(t,s)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lN(i,e){return Zu(i,"POST","/v1/accounts:signUp",ws(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const u=await si._fromIdTokenResponse(e,s,o),h=D0(s);return new wa({user:u,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=D0(s);return new wa({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function D0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf extends qi{constructor(e,t,s,o){super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,hf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new hf(e,t,s,o)}}function X1(i,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?hf._fromErrorAndOperation(i,u,e,s):u})}async function uN(i,e,t=!1){const s=await Mu(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return wa._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cN(i,e,t=!1){const{auth:s}=i;if(pn(s.app))return Promise.reject(ki(s));const o="reauthenticate";try{const u=await Mu(i,X1(s,o,e,i),t);ve(u.idToken,s,"internal-error");const h=Ng(u.idToken);ve(h,s,"internal-error");const{sub:m}=h;return ve(i.uid===m,s,"user-mismatch"),wa._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(i,e,t=!1){if(pn(i.app))return Promise.reject(ki(i));const s="signIn",o=await X1(i,s,e),u=await wa._fromIdTokenResponse(i,s,o);return t||await i._updateCurrentUser(u.user),u}async function hN(i,e){return W1(Hi(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z1(i){const e=Hi(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function fN(i,e,t){if(pn(i.app))return Promise.reject(ki(i));const s=Hi(i),h=await Bp(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Z1(i),p}),m=await wa._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(m.user),m}function dN(i,e,t){return pn(i.app)?Promise.reject(ki(i)):hN(Ke(i),Yo.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Z1(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(i,e){return Ke(i).setPersistence(e)}function pN(i,e,t,s){return Ke(i).onIdTokenChanged(e,t,s)}function gN(i,e,t){return Ke(i).beforeAuthStateChanged(e,t)}function ec(i,e,t,s){return Ke(i).onAuthStateChanged(e,t,s)}function yN(i){return Ke(i).signOut()}const ff="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ff,"1"),this.storage.removeItem(ff),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=1e3,vN=10;class eb extends J1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);VC()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,vN):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},_N)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}eb.type="LOCAL";const tb=eb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb extends J1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nb.type="SESSION";const ib=nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Lf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:u}=t.data,h=this.handlersMap[o];if(!h?.size)return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(t.origin,u)),p=await EN(m);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(i="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return i+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=kg("",20);o.port1.start();const _=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(A){const T=A;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(_),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(_),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(){return window}function bN(i){Mi().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return typeof Mi().WorkerGlobalScope<"u"&&typeof Mi().importScripts=="function"}async function AN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wN(){return navigator?.serviceWorker?.controller||null}function SN(){return rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="firebaseLocalStorageDb",RN=1,df="firebaseLocalStorage",ab="fbase_key";class tc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uf(i,e){return i.transaction([df],e?"readwrite":"readonly").objectStore(df)}function IN(){const i=indexedDB.deleteDatabase(sb);return new tc(i).toPromise()}function qp(){const i=indexedDB.open(sb,RN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(df,{keyPath:ab})}catch(o){t(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(df)?e(s):(s.close(),await IN(),e(await qp()))})})}async function x0(i,e,t){const s=Uf(i,!0).put({[ab]:e,value:t});return new tc(s).toPromise()}async function CN(i,e){const t=Uf(i,!1).get(e),s=await new tc(t).toPromise();return s===void 0?null:s.value}function O0(i,e){const t=Uf(i,!0).delete(e);return new tc(t).toPromise()}const NN=800,DN=3;class ob{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>DN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lf._getInstance(SN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AN(),!this.activeServiceWorker)return;this.sender=new TN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qp();return await x0(e,ff,"1"),await O0(e,ff),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>x0(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>CN(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>O0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uf(o,!1).getAll();return new tc(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ob.type="LOCAL";const xN=ob;new Wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mg(i,e){return e?Tr(e):(ve(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg extends xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Po(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ON(i){return W1(i.auth,new Pg(i),i.bypassAuthState)}function kN(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),cN(t,new Pg(i),i.bypassAuthState)}async function MN(i){const{auth:e,user:t}=i;return ve(t,e,"internal-error"),uN(t,new Pg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ON;case"linkViaPopup":case"linkViaRedirect":return MN;case"reauthViaPopup":case"reauthViaRedirect":return kN;default:Qn(this.auth,"internal-error")}}resolve(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Sr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=new Wu(2e3,1e4);async function VN(i,e,t){if(pn(i.app))return Promise.reject(ai(i,"operation-not-supported-in-this-environment"));const s=Hi(i);O1(i,e,Vf);const o=Mg(s,t);return new pa(s,"signInViaPopup",e,o).executeNotNull()}class pa extends lb{constructor(e,t,s,o,u){super(e,t,o,u),this.provider=s,this.authWindow=null,this.pollId=null,pa.currentPopupAction&&pa.currentPopupAction.cancel(),pa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Sr(this.filter.length===1,"Popup operations only handle one event");const e=kg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,PN.get())};e()}}pa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="pendingRedirect",Xh=new Map;class UN extends lb{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=Xh.get(this.auth._key());if(!e){try{const s=await jN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}Xh.set(this.auth._key(),e)}return this.bypassAuthState||Xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jN(i,e){const t=cb(e),s=ub(i);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}async function zN(i,e){return ub(i)._set(cb(e),"true")}function BN(i,e){Xh.set(i._key(),e)}function ub(i){return Tr(i._redirectPersistence)}function cb(i){return Yh(LN,i.config.apiKey,i.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(i,e,t){return qN(i,e,t)}async function qN(i,e,t){if(pn(i.app))return Promise.reject(ki(i));const s=Hi(i);O1(i,e,Vf),await s._initializationPromise;const o=Mg(s,t);return await zN(o,s),o._openRedirect(s,e,"signInViaRedirect")}async function HN(i,e){return await Hi(i)._initializationPromise,hb(i,e,!1)}async function hb(i,e,t=!1){if(pn(i.app))return Promise.reject(ki(i));const s=Hi(i),o=Mg(s,e),h=await new UN(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=600*1e3;class GN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$N(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!fb(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ai(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FN&&this.cachedEventUids.clear(),this.cachedEventUids.has(M0(e))}saveEventToCache(e){this.cachedEventUids.add(M0(e)),this.lastProcessedEventTime=Date.now()}}function M0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function fb({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function $N(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fb(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(i,e={}){return Ss(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YN=/^https?/;async function XN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await KN(i);for(const t of e)try{if(WN(t))return}catch{}Qn(i,"unauthorized-domain")}function WN(i){const e=jp(),{protocol:t,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!YN.test(t))return!1;if(QN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN=new Wu(3e4,6e4);function P0(){const i=Mi().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function JN(i){return new Promise((e,t)=>{function s(){P0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{P0(),t(ai(i,"network-request-failed"))},timeout:ZN.get()})}if(Mi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Mi().gapi?.load)s();else{const o=GC("iframefcb");return Mi()[o]=()=>{gapi.load?s():t(ai(i,"network-request-failed"))},K1(`${FC()}?onload=${o}`).catch(u=>t(u))}}).catch(e=>{throw Wh=null,e})}let Wh=null;function eD(i){return Wh=Wh||JN(i),Wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD=new Wu(5e3,15e3),nD="__/auth/iframe",iD="emulator/auth/iframe",rD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function aD(i){const e=i.config;ve(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?Cg(e,iD):`https://${i.config.authDomain}/${nD}`,s={apiKey:e.apiKey,appName:i.name,v:Na},o=sD.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${t}?${Yu(s).slice(1)}`}async function oD(i){const e=await eD(i),t=Mi().gapi;return ve(t,i,"internal-error"),e.open({where:document.body,url:aD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=ai(i,"network-request-failed"),m=Mi().setTimeout(()=>{u(h)},tD.get());function p(){Mi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uD=500,cD=600,hD="_blank",fD="http://localhost";class V0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function dD(i,e,t,s=uD,o=cD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...lD,width:s.toString(),height:o.toString(),top:u,left:h},g=on().toLowerCase();t&&(m=z1(g)?hD:t),U1(g)&&(e=e||fD,p.scrollbars="yes");const _=Object.entries(p).reduce((T,[D,L])=>`${T}${D}=${L},`,"");if(PC(g)&&m!=="_self")return mD(e||"",m),new V0(null);const A=window.open(e||"",m,_);ve(A,i,"popup-blocked");try{A.focus()}catch{}return new V0(A)}function mD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="__/auth/handler",gD="emulator/auth/handler",yD=encodeURIComponent("fac");async function L0(i,e,t,s,o,u){ve(i.config.authDomain,i,"auth-domain-config-required"),ve(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:s,v:Na,eventId:o};if(e instanceof Vf){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",e2(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,A]of Object.entries({}))h[_]=A}if(e instanceof Ju){const _=e.getScopes().filter(A=>A!=="");_.length>0&&(h.scopes=_.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const _ of Object.keys(m))m[_]===void 0&&delete m[_];const p=await i._getAppCheckToken(),g=p?`#${yD}=${encodeURIComponent(p)}`:"";return`${_D(i)}?${Yu(m).slice(1)}${g}`}function _D({config:i}){return i.emulator?Cg(i,gD):`https://${i.authDomain}/${pD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class vD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ib,this._completeRedirectFn=hb,this._overrideRedirectResult=BN}async _openPopup(e,t,s,o){Sr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await L0(e,t,s,jp(),o);return dD(e,u,kg())}async _openRedirect(e,t,s,o){await this._originValidation(e);const u=await L0(e,t,s,jp(),o);return bN(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Sr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await oD(e),s=new GN(e);return t.register("authEvent",o=>(ve(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tp,{type:Tp},o=>{const u=o?.[0]?.[Tp];u!==void 0&&t(!!u),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=XN(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return G1()||j1()||Dg()}}const ED=vD;var U0="@firebase/auth",j0="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AD(i){ba(new ys("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;ve(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$1(i)},g=new BC(s,o,u,p);return WC(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),ba(new ys("auth-internal",e=>{const t=Hi(e.getProvider("auth").getImmediate());return(s=>new TD(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(U0,j0,bD(i)),Oi(U0,j0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=300,SD=A1("authIdTokenMaxAge")||wD;let z0=null;const RD=i=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>SD)return;const o=t?.token;z0!==o&&(z0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function ID(i=Mf()){const e=Xu(i,"auth");if(e.isInitialized())return e.getImmediate();const t=XC(i,{popupRedirectResolver:ED,persistence:[xN,tb,ib]}),s=A1("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=RD(u.toString());gN(t,h,()=>h(t.currentUser)),pN(t,m=>h(m))}}const o=E1("auth");return o&&ZC(t,`http://${o}`),t}function CD(){return document.getElementsByTagName("head")?.[0]??document}qC({loadJS(i){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=ai("internal-error");u.customData=o,t(u)},s.type="text/javascript",s.charset="UTF-8",CD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AD("Browser");var B0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,db;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,R){function I(){}I.prototype=R.prototype,V.D=R.prototype,V.prototype=new I,V.prototype.constructor=V,V.C=function(P,O,U){for(var N=Array(arguments.length-2),At=2;At<arguments.length;At++)N[At-2]=arguments[At];return R.prototype[O].apply(P,N)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,R,I){I||(I=0);var P=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)P[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;16>O;++O)P[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=V.g[0],I=V.g[1],O=V.g[2];var U=V.g[3],N=R+(U^I&(O^U))+P[0]+3614090360&4294967295;R=I+(N<<7&4294967295|N>>>25),N=U+(O^R&(I^O))+P[1]+3905402710&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(I^U&(R^I))+P[2]+606105819&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(R^O&(U^R))+P[3]+3250441966&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(U^I&(O^U))+P[4]+4118548399&4294967295,R=I+(N<<7&4294967295|N>>>25),N=U+(O^R&(I^O))+P[5]+1200080426&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(I^U&(R^I))+P[6]+2821735955&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(R^O&(U^R))+P[7]+4249261313&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(U^I&(O^U))+P[8]+1770035416&4294967295,R=I+(N<<7&4294967295|N>>>25),N=U+(O^R&(I^O))+P[9]+2336552879&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(I^U&(R^I))+P[10]+4294925233&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(R^O&(U^R))+P[11]+2304563134&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(U^I&(O^U))+P[12]+1804603682&4294967295,R=I+(N<<7&4294967295|N>>>25),N=U+(O^R&(I^O))+P[13]+4254626195&4294967295,U=R+(N<<12&4294967295|N>>>20),N=O+(I^U&(R^I))+P[14]+2792965006&4294967295,O=U+(N<<17&4294967295|N>>>15),N=I+(R^O&(U^R))+P[15]+1236535329&4294967295,I=O+(N<<22&4294967295|N>>>10),N=R+(O^U&(I^O))+P[1]+4129170786&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(R^I))+P[6]+3225465664&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(U^R))+P[11]+643717713&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(O^U))+P[0]+3921069994&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^U&(I^O))+P[5]+3593408605&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(R^I))+P[10]+38016083&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(U^R))+P[15]+3634488961&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(O^U))+P[4]+3889429448&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^U&(I^O))+P[9]+568446438&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(R^I))+P[14]+3275163606&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(U^R))+P[3]+4107603335&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(O^U))+P[8]+1163531501&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(O^U&(I^O))+P[13]+2850285829&4294967295,R=I+(N<<5&4294967295|N>>>27),N=U+(I^O&(R^I))+P[2]+4243563512&4294967295,U=R+(N<<9&4294967295|N>>>23),N=O+(R^I&(U^R))+P[7]+1735328473&4294967295,O=U+(N<<14&4294967295|N>>>18),N=I+(U^R&(O^U))+P[12]+2368359562&4294967295,I=O+(N<<20&4294967295|N>>>12),N=R+(I^O^U)+P[5]+4294588738&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^O)+P[8]+2272392833&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^I)+P[11]+1839030562&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^R)+P[14]+4259657740&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^U)+P[1]+2763975236&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^O)+P[4]+1272893353&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^I)+P[7]+4139469664&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^R)+P[10]+3200236656&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^U)+P[13]+681279174&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^O)+P[0]+3936430074&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^I)+P[3]+3572445317&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^R)+P[6]+76029189&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(I^O^U)+P[9]+3654602809&4294967295,R=I+(N<<4&4294967295|N>>>28),N=U+(R^I^O)+P[12]+3873151461&4294967295,U=R+(N<<11&4294967295|N>>>21),N=O+(U^R^I)+P[15]+530742520&4294967295,O=U+(N<<16&4294967295|N>>>16),N=I+(O^U^R)+P[2]+3299628645&4294967295,I=O+(N<<23&4294967295|N>>>9),N=R+(O^(I|~U))+P[0]+4096336452&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~O))+P[7]+1126891415&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~I))+P[14]+2878612391&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~R))+P[5]+4237533241&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~U))+P[12]+1700485571&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~O))+P[3]+2399980690&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~I))+P[10]+4293915773&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~R))+P[1]+2240044497&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~U))+P[8]+1873313359&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~O))+P[15]+4264355552&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~I))+P[6]+2734768916&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~R))+P[13]+1309151649&4294967295,I=O+(N<<21&4294967295|N>>>11),N=R+(O^(I|~U))+P[4]+4149444226&4294967295,R=I+(N<<6&4294967295|N>>>26),N=U+(I^(R|~O))+P[11]+3174756917&4294967295,U=R+(N<<10&4294967295|N>>>22),N=O+(R^(U|~I))+P[2]+718787259&4294967295,O=U+(N<<15&4294967295|N>>>17),N=I+(U^(O|~R))+P[9]+3951481745&4294967295,V.g[0]=V.g[0]+R&4294967295,V.g[1]=V.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,V.g[2]=V.g[2]+O&4294967295,V.g[3]=V.g[3]+U&4294967295}s.prototype.u=function(V,R){R===void 0&&(R=V.length);for(var I=R-this.blockSize,P=this.B,O=this.h,U=0;U<R;){if(O==0)for(;U<=I;)o(this,V,U),U+=this.blockSize;if(typeof V=="string"){for(;U<R;)if(P[O++]=V.charCodeAt(U++),O==this.blockSize){o(this,P),O=0;break}}else for(;U<R;)if(P[O++]=V[U++],O==this.blockSize){o(this,P),O=0;break}}this.h=O,this.o+=R},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var R=1;R<V.length-8;++R)V[R]=0;var I=8*this.o;for(R=V.length-8;R<V.length;++R)V[R]=I&255,I/=256;for(this.u(V),V=Array(16),R=I=0;4>R;++R)for(var P=0;32>P;P+=8)V[I++]=this.g[R]>>>P&255;return V};function u(V,R){var I=m;return Object.prototype.hasOwnProperty.call(I,V)?I[V]:I[V]=R(V)}function h(V,R){this.h=R;for(var I=[],P=!0,O=V.length-1;0<=O;O--){var U=V[O]|0;P&&U==R||(I[O]=U,P=!1)}this.g=I}var m={};function p(V){return-128<=V&&128>V?u(V,function(R){return new h([R|0],0>R?-1:0)}):new h([V|0],0>V?-1:0)}function g(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return q(g(-V));for(var R=[],I=1,P=0;V>=I;P++)R[P]=V/I|0,I*=4294967296;return new h(R,0)}function _(V,R){if(V.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(V.charAt(0)=="-")return q(_(V.substring(1),R));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=g(Math.pow(R,8)),P=A,O=0;O<V.length;O+=8){var U=Math.min(8,V.length-O),N=parseInt(V.substring(O,O+U),R);8>U?(U=g(Math.pow(R,U)),P=P.j(U).add(g(N))):(P=P.j(I),P=P.add(g(N)))}return P}var A=p(0),T=p(1),D=p(16777216);i=h.prototype,i.m=function(){if($(this))return-q(this).m();for(var V=0,R=1,I=0;I<this.g.length;I++){var P=this.i(I);V+=(0<=P?P:4294967296+P)*R,R*=4294967296}return V},i.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(L(this))return"0";if($(this))return"-"+q(this).toString(V);for(var R=g(Math.pow(V,6)),I=this,P="";;){var O=fe(I,R).g;I=Y(I,O.j(R));var U=((0<I.g.length?I.g[0]:I.h)>>>0).toString(V);if(I=O,L(I))return U+P;for(;6>U.length;)U="0"+U;P=U+P}},i.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function L(V){if(V.h!=0)return!1;for(var R=0;R<V.g.length;R++)if(V.g[R]!=0)return!1;return!0}function $(V){return V.h==-1}i.l=function(V){return V=Y(this,V),$(V)?-1:L(V)?0:1};function q(V){for(var R=V.g.length,I=[],P=0;P<R;P++)I[P]=~V.g[P];return new h(I,~V.h).add(T)}i.abs=function(){return $(this)?q(this):this},i.add=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0,O=0;O<=R;O++){var U=P+(this.i(O)&65535)+(V.i(O)&65535),N=(U>>>16)+(this.i(O)>>>16)+(V.i(O)>>>16);P=N>>>16,U&=65535,N&=65535,I[O]=N<<16|U}return new h(I,I[I.length-1]&-2147483648?-1:0)};function Y(V,R){return V.add(q(R))}i.j=function(V){if(L(this)||L(V))return A;if($(this))return $(V)?q(this).j(q(V)):q(q(this).j(V));if($(V))return q(this.j(q(V)));if(0>this.l(D)&&0>V.l(D))return g(this.m()*V.m());for(var R=this.g.length+V.g.length,I=[],P=0;P<2*R;P++)I[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<V.g.length;O++){var U=this.i(P)>>>16,N=this.i(P)&65535,At=V.i(O)>>>16,mt=V.i(O)&65535;I[2*P+2*O]+=N*mt,se(I,2*P+2*O),I[2*P+2*O+1]+=U*mt,se(I,2*P+2*O+1),I[2*P+2*O+1]+=N*At,se(I,2*P+2*O+1),I[2*P+2*O+2]+=U*At,se(I,2*P+2*O+2)}for(P=0;P<R;P++)I[P]=I[2*P+1]<<16|I[2*P];for(P=R;P<2*R;P++)I[P]=0;return new h(I,0)};function se(V,R){for(;(V[R]&65535)!=V[R];)V[R+1]+=V[R]>>>16,V[R]&=65535,R++}function ne(V,R){this.g=V,this.h=R}function fe(V,R){if(L(R))throw Error("division by zero");if(L(V))return new ne(A,A);if($(V))return R=fe(q(V),R),new ne(q(R.g),q(R.h));if($(R))return R=fe(V,q(R)),new ne(q(R.g),R.h);if(30<V.g.length){if($(V)||$(R))throw Error("slowDivide_ only works with positive integers.");for(var I=T,P=R;0>=P.l(V);)I=ce(I),P=ce(P);var O=Re(I,1),U=Re(P,1);for(P=Re(P,2),I=Re(I,2);!L(P);){var N=U.add(P);0>=N.l(V)&&(O=O.add(I),U=N),P=Re(P,1),I=Re(I,1)}return R=Y(V,O.j(R)),new ne(O,R)}for(O=A;0<=V.l(R);){for(I=Math.max(1,Math.floor(V.m()/R.m())),P=Math.ceil(Math.log(I)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),U=g(I),N=U.j(R);$(N)||0<N.l(V);)I-=P,U=g(I),N=U.j(R);L(U)&&(U=T),O=O.add(U),V=Y(V,N)}return new ne(O,V)}i.A=function(V){return fe(this,V).h},i.and=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)&V.i(P);return new h(I,this.h&V.h)},i.or=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)|V.i(P);return new h(I,this.h|V.h)},i.xor=function(V){for(var R=Math.max(this.g.length,V.g.length),I=[],P=0;P<R;P++)I[P]=this.i(P)^V.i(P);return new h(I,this.h^V.h)};function ce(V){for(var R=V.g.length+1,I=[],P=0;P<R;P++)I[P]=V.i(P)<<1|V.i(P-1)>>>31;return new h(I,V.h)}function Re(V,R){var I=R>>5;R%=32;for(var P=V.g.length-I,O=[],U=0;U<P;U++)O[U]=0<R?V.i(U+I)>>>R|V.i(U+I+1)<<32-R:V.i(U+I);return new h(O,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,db=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=_,ms=h}).apply(typeof B0<"u"?B0:typeof self<"u"?self:typeof window<"u"?window:{});var Uh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mb,vu,pb,Zh,Hp,gb,yb,_b;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uh=="object"&&Uh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=t(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var z=c[w];if(!(z in v))break e;v=v[z]}c=c[c.length-1],w=v[c],y=y(w),y!=w&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,w=!1,z={next:function(){if(!w&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return w=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function _(c,y,v){return c.call.apply(c.bind,arguments)}function A(c,y,v){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,w),c.apply(y,z)}}return function(){return c.apply(y,arguments)}}function T(c,y,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:A,T.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function L(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(w,z,K){for(var ae=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)ae[Ue-2]=arguments[Ue];return y.prototype[z].apply(w,ae)}}function $(c){const y=c.length;if(0<y){const v=Array(y);for(let w=0;w<y;w++)v[w]=c[w];return v}return[]}function q(c,y){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const z=c.length||0,K=w.length||0;c.length=z+K;for(let ae=0;ae<K;ae++)c[z+ae]=w[ae]}else c.push(w)}}class Y{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function se(c){return/^[\s\xa0]*$/.test(c)}function ne(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function fe(c){return fe[" "](c),c}fe[" "]=function(){};var ce=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Re(c,y,v){for(const w in c)y.call(v,c[w],w,c)}function V(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(c,y){let v,w;for(let z=1;z<arguments.length;z++){w=arguments[z];for(v in w)c[v]=w[v];for(let K=0;K<I.length;K++)v=I[K],Object.prototype.hasOwnProperty.call(w,v)&&(c[v]=w[v])}}function O(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function U(c){m.setTimeout(()=>{throw c},0)}function N(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class At{constructor(){this.h=this.g=null}add(y,v){const w=mt.get();w.set(y,v),this.h?this.h.next=w:this.g=w,this.h=w}}var mt=new Y(()=>new X,c=>c.reset());class X{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,pe=!1,He=new At,k=()=>{const c=m.Promise.resolve(void 0);oe=()=>{c.then(te)}};var te=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){U(v)}var y=mt;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function le(){this.s=this.s,this.C=this.C}le.prototype.s=!1,le.prototype.ma=function(){this.s||(this.s=!0,this.N())},le.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ie(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ie.prototype.h=function(){this.defaultPrevented=!0};var ge=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(ie.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(ce){e:{try{fe(y.nodeName);var z=!0;break e}catch{}z=!1}z||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}L(De,ie);var Ae={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),it=0;function fi(c,y,v,w,z){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!w,this.ha=z,this.key=++it,this.da=this.fa=!1}function Dr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Fi(c){this.src=c,this.g={},this.h=0}Fi.prototype.add=function(c,y,v,w,z){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var ae=Os(c,y,w,z);return-1<ae?(y=c[ae],v||(y.fa=!1)):(y=new fi(y,this.src,K,!!w,z),y.fa=v,c.push(y)),y};function xs(c,y){var v=y.type;if(v in c.g){var w=c.g[v],z=Array.prototype.indexOf.call(w,y,void 0),K;(K=0<=z)&&Array.prototype.splice.call(w,z,1),K&&(Dr(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Os(c,y,v,w){for(var z=0;z<c.length;++z){var K=c[z];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==w)return z}return-1}var ks="closure_lm_"+(1e6*Math.random()|0),rl={};function fc(c,y,v,w,z){if(Array.isArray(y)){for(var K=0;K<y.length;K++)fc(c,y[K],v,w,z);return null}return v=dc(v),c&&c[Lt]?c.K(y,v,g(w)?!!w.capture:!1,z):Mn(c,y,v,!1,w,z)}function Mn(c,y,v,w,z,K){if(!y)throw Error("Invalid event type");var ae=g(z)?!!z.capture:!!z,Ue=Pa(c);if(Ue||(c[ks]=Ue=new Fi(c)),v=Ue.add(y,v,w,ae,K),v.proxy)return v;if(w=od(),v.proxy=w,w.src=c,w.listener=v,c.addEventListener)ge||(z=ae),z===void 0&&(z=!1),c.addEventListener(y.toString(),w,z);else if(c.attachEvent)c.attachEvent(Ms(y.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function od(){function c(v){return y.call(c.src,c.listener,v)}const y=ld;return c}function sl(c,y,v,w,z){if(Array.isArray(y))for(var K=0;K<y.length;K++)sl(c,y[K],v,w,z);else w=g(w)?!!w.capture:!!w,v=dc(v),c&&c[Lt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=Os(K,v,w,z),-1<v&&(Dr(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Pa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Os(y,v,w,z)),(v=-1<c?y[c]:null)&&Ma(v))}function Ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Lt])xs(y.i,c);else{var v=c.type,w=c.proxy;y.removeEventListener?y.removeEventListener(v,w,c.capture):y.detachEvent?y.detachEvent(Ms(v),w):y.addListener&&y.removeListener&&y.removeListener(w),(v=Pa(y))?(xs(v,c),v.h==0&&(v.src=null,y[ks]=null)):Dr(c)}}}function Ms(c){return c in rl?rl[c]:rl[c]="on"+c}function ld(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,w=c.ha||c.src;c.fa&&Ma(c),c=v.call(w,y)}return c}function Pa(c){return c=c[ks],c instanceof Fi?c:null}var al="__closure_events_fn_"+(1e9*Math.random()>>>0);function dc(c){return typeof c=="function"?c:(c[al]||(c[al]=function(y){return c.handleEvent(y)}),c[al])}function pt(){le.call(this),this.i=new Fi(this),this.M=this,this.F=null}L(pt,le),pt.prototype[Lt]=!0,pt.prototype.removeEventListener=function(c,y,v,w){sl(this,c,y,v,w)};function Qe(c,y){var v,w=c.F;if(w)for(v=[];w;w=w.F)v.push(w);if(c=c.M,w=y.type||y,typeof y=="string")y=new ie(y,c);else if(y instanceof ie)y.target=y.target||c;else{var z=y;y=new ie(w,c),P(y,z)}if(z=!0,v)for(var K=v.length-1;0<=K;K--){var ae=y.g=v[K];z=wn(ae,w,!0,y)&&z}if(ae=y.g=c,z=wn(ae,w,!0,y)&&z,z=wn(ae,w,!1,y)&&z,v)for(K=0;K<v.length;K++)ae=y.g=v[K],z=wn(ae,w,!1,y)&&z}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],w=0;w<v.length;w++)Dr(v[w]);delete c.g[y],c.h--}}this.F=null},pt.prototype.K=function(c,y,v,w){return this.i.add(String(c),y,!1,v,w)},pt.prototype.L=function(c,y,v,w){return this.i.add(String(c),y,!0,v,w)};function wn(c,y,v,w){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var z=!0,K=0;K<y.length;++K){var ae=y[K];if(ae&&!ae.da&&ae.capture==v){var Ue=ae.listener,Ot=ae.ha||ae.src;ae.fa&&xs(c.i,ae),z=Ue.call(Ot,w)!==!1&&z}}return z&&!w.defaultPrevented}function en(c,y,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function mc(c){c.g=en(()=>{c.g=null,c.i&&(c.i=!1,mc(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class ud extends le{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:mc(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ps(c){le.call(this),this.h=c,this.g={}}L(Ps,le);var Vs=[];function Ls(c){Re(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ma(y)},c),c.g={}}Ps.prototype.N=function(){Ps.aa.N.call(this),Ls(this)},Ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xn=m.JSON.stringify,Va=m.JSON.parse,Us=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ol(){}ol.prototype.h=null;function ll(c){return c.h||(c.h=c.i())}function ul(){}var Gi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function $i(){ie.call(this,"d")}L($i,ie);function cl(){ie.call(this,"c")}L(cl,ie);var di={},hl=null;function xr(){return hl=hl||new pt}di.La="serverreachability";function La(c){ie.call(this,di.La,c)}L(La,ie);function Or(c){const y=xr();Qe(y,new La(y))}di.STAT_EVENT="statevent";function pc(c,y){ie.call(this,di.STAT_EVENT,c),this.stat=y}L(pc,ie);function lt(c){const y=xr();Qe(y,new pc(y,c))}di.Ma="timingevent";function xt(c,y){ie.call(this,di.Ma,c),this.size=y}L(xt,ie);function wt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function Pn(){this.g=!0}Pn.prototype.xa=function(){this.g=!1};function fl(c,y,v,w,z,K){c.info(function(){if(c.g)if(K)for(var ae="",Ue=K.split("&"),Ot=0;Ot<Ue.length;Ot++){var je=Ue[Ot].split("=");if(1<je.length){var jt=je[0];je=je[1];var kt=jt.split("_");ae=2<=kt.length&&kt[1]=="type"?ae+(jt+"="+je+"&"):ae+(jt+"=redacted&")}}else ae=null;else ae=K;return"XMLHTTP REQ ("+w+") [attempt "+z+"]: "+y+`
`+v+`
`+ae})}function cd(c,y,v,w,z,K,ae){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+z+"]: "+y+`
`+v+`
`+K+" "+ae})}function kr(c,y,v,w){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+js(c,v)+(w?" "+w:"")})}function gc(c,y){c.info(function(){return"TIMEOUT: "+y})}Pn.prototype.info=function(){};function js(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var w=v[c];if(!(2>w.length)){var z=w[1];if(Array.isArray(z)&&!(1>z.length)){var K=z[0];if(K!="noop"&&K!="stop"&&K!="close")for(var ae=1;ae<z.length;ae++)z[ae]=""}}}}return Xn(v)}catch{return y}}var Mr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ki={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mi;function pi(){}L(pi,ol),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},mi=new pi;function un(c,y,v,w){this.j=c,this.i=y,this.l=v,this.R=w||1,this.U=new Ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new vt}function vt(){this.i=null,this.g="",this.h=!1}var dl={},Ua={};function Wn(c,y,v){c.L=1,c.v=Fs(Sn(y)),c.m=v,c.P=!0,Qi(c,null)}function Qi(c,y){c.F=Date.now(),zs(c),c.A=Sn(c.v);var v=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),vl(v.i,"t",w),c.C=0,v=c.j.J,c.h=new vt,c.g=Oc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new ud(T(c.Y,c,c.g),c.O)),y=c.U,v=c.g,w=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(Vs[0]=z.toString()),z=Vs);for(var K=0;K<z.length;K++){var ae=fc(v,z[K],w||y.handleEvent,!1,y.h||y);if(!ae)break;y.g[ae.key]=ae}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Or(),fl(c.i,c.u,c.A,c.l,c.R,c.m)}un.prototype.ca=function(c){c=c.target;const y=this.M;y&&jn(c)==3?y.j():this.Y(c)},un.prototype.Y=function(c){try{if(c==this.g)e:{const kt=jn(this.g);var y=this.g.Ba();const nr=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||wc(this.g)))){this.J||kt!=4||y==7||(y==8||0>=nr?Or(3):Or(2)),Pr(this);var v=this.g.Z();this.X=v;t:if(yc(this)){var w=wc(this.g);c="";var z=w.length,K=jn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ft(this),gi(this);var ae="";break t}this.h.i=new m.TextDecoder}for(y=0;y<z;y++)this.h.h=!0,c+=this.h.i.decode(w[y],{stream:!(K&&y==z-1)});w.length=0,this.h.g+=c,this.C=0,ae=this.h.g}else ae=this.g.oa();if(this.o=v==200,cd(this.i,this.u,this.A,this.l,this.R,kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,Ot=this.g;if((Ue=Ot.g?Ot.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!se(Ue)){var je=Ue;break t}}je=null}if(v=je)kr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bs(this,v);else{this.o=!1,this.s=3,lt(12),Ft(this),gi(this);break e}}if(this.P){v=!0;let Gt;for(;!this.J&&this.C<ae.length;)if(Gt=_c(this,ae),Gt==Ua){kt==4&&(this.s=4,lt(14),v=!1),kr(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==dl){this.s=4,lt(15),kr(this.i,this.l,ae,"[Invalid Chunk]"),v=!1;break}else kr(this.i,this.l,Gt,null),Bs(this,Gt);if(yc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ae.length!=0||this.h.h||(this.s=1,lt(16),v=!1),this.o=this.o&&v,!v)kr(this.i,this.l,ae,"[Invalid Chunked Response]"),Ft(this),gi(this);else if(0<ae.length&&!this.W){this.W=!0;var jt=this.j;jt.g==this&&jt.ba&&!jt.M&&(jt.j.info("Great, no buffering proxy detected. Bytes received: "+ae.length),Zs(jt),jt.M=!0,lt(11))}}else kr(this.i,this.l,ae,null),Bs(this,ae);kt==4&&Ft(this),this.o&&!this.J&&(kt==4?Nc(this.j,this):(this.o=!1,zs(this)))}else pd(this.g),v==400&&0<ae.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Ft(this),gi(this)}}}catch{}finally{}};function yc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function _c(c,y){var v=c.C,w=y.indexOf(`
`,v);return w==-1?Ua:(v=Number(y.substring(v,w)),isNaN(v)?dl:(w+=1,w+v>y.length?Ua:(y=y.slice(w,w+v),c.C=w+v,y)))}un.prototype.cancel=function(){this.J=!0,Ft(this)};function zs(c){c.S=Date.now()+c.I,vc(c,c.I)}function vc(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wt(T(c.ba,c),y)}function Pr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}un.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(gc(this.i,this.A),this.L!=2&&(Or(),lt(17)),Ft(this),this.s=2,gi(this)):vc(this,this.S-c)};function gi(c){c.j.G==0||c.J||Nc(c.j,c)}function Ft(c){Pr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Ls(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Bs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||ml(v.h,c))){if(!c.K&&ml(v.h,c)&&v.G==3){try{var w=v.Da.g.parse(y)}catch{w=null}if(Array.isArray(w)&&w.length==3){var z=w;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Xa(v),Qa(v);else break e;wl(v),lt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=wt(T(v.Za,v),6e3));if(1>=za(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else tr(v,11)}else if((c.K||v.g==c)&&Xa(v),!se(y))for(z=v.Da.g.parse(y),y=0;y<z.length;y++){let je=z[y];if(v.T=je[0],je=je[1],v.G==2)if(je[0]=="c"){v.K=je[1],v.ia=je[2];const jt=je[3];jt!=null&&(v.la=jt,v.j.info("VER="+v.la));const kt=je[4];kt!=null&&(v.Aa=kt,v.j.info("SVER="+v.Aa));const nr=je[5];nr!=null&&typeof nr=="number"&&0<nr&&(w=1.5*nr,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Gt=c.g;if(Gt){const Ai=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ai){var K=w.h;K.g||Ai.indexOf("spdy")==-1&&Ai.indexOf("quic")==-1&&Ai.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Ba(K,K.h),K.h=null))}if(w.D){const Rl=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Rl&&(w.ya=Rl,We(w.I,w.D,Rl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ae=c;if(w.qa=xc(w,w.J?w.ia:null,w.W),ae.K){cn(w.h,ae);var Ue=ae,Ot=w.L;Ot&&(Ue.I=Ot),Ue.B&&(Pr(Ue),zs(Ue)),w.g=ae}else Ic(w);0<v.i.length&&Ya(v)}else je[0]!="stop"&&je[0]!="close"||tr(v,7);else v.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?tr(v,7):bl(v):je[0]!="noop"&&v.l&&v.l.ta(je),v.v=0)}}Or(4)}catch{}}var Ec=class{constructor(c,y){this.g=c,this.map=y}};function Yi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ja(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function za(c){return c.h?1:c.g?c.g.size:0}function ml(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ba(c,y){c.g?c.g.add(y):c.h=y}function cn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Yi.prototype.cancel=function(){if(this.i=pl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function pl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return $(c.i)}function hd(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,w=0;w<v;w++)y.push(c[w]);return y}y=[],v=0;for(w in c)y[v++]=c[w];return y}function qa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const w in c)y[v++]=w;return y}}}function gl(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=qa(c),w=hd(c),z=w.length,K=0;K<z;K++)y.call(void 0,w[K],v&&v[K],c)}var qs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fd(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var w=c[v].indexOf("="),z=null;if(0<=w){var K=c[v].substring(0,w);z=c[v].substring(w+1)}else K=c[v];y(K,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function St(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof St){this.h=c.h,Hs(this,c.j),this.o=c.o,this.g=c.g,Vr(this,c.s),this.l=c.l;var y=c.i,v=new Wi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Xi(this,v),this.m=c.m}else c&&(y=String(c).match(qs))?(this.h=!1,Hs(this,y[1]||"",!0),this.o=Vn(y[2]||""),this.g=Vn(y[3]||"",!0),Vr(this,y[4]),this.l=Vn(y[5]||"",!0),Xi(this,y[6]||"",!0),this.m=Vn(y[7]||"")):(this.h=!1,this.i=new Wi(null,this.h))}St.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Gs(y,yl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Gs(y,yl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Gs(v,v.charAt(0)=="/"?dd:_l,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Gs(v,Ha)),c.join("")};function Sn(c){return new St(c)}function Hs(c,y,v){c.j=v?Vn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Vr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Xi(c,y,v){y instanceof Wi?(c.i=y,bc(c.i,c.h)):(v||(y=Gs(y,md)),c.i=new Wi(y,c.h))}function We(c,y,v){c.i.set(y,v)}function Fs(c){return We(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Gs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Tc),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Tc(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var yl=/[#\/\?@]/g,_l=/[#\?:]/g,dd=/[#\?]/g,md=/[#\?@]/g,Ha=/#/g;function Wi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Ln(c){c.g||(c.g=new Map,c.h=0,c.i&&fd(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Wi.prototype,i.add=function(c,y){Ln(this),this.i=null,c=yi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Zi(c,y){Ln(c),y=yi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ji(c,y){return Ln(c),y=yi(c,y),c.g.has(y)}i.forEach=function(c,y){Ln(this),this.g.forEach(function(v,w){v.forEach(function(z){c.call(y,z,w,this)},this)},this)},i.na=function(){Ln(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let w=0;w<y.length;w++){const z=c[w];for(let K=0;K<z.length;K++)v.push(y[w])}return v},i.V=function(c){Ln(this);let y=[];if(typeof c=="string")Ji(this,c)&&(y=y.concat(this.g.get(yi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Ln(this),this.i=null,c=yi(this,c),Ji(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function vl(c,y,v){Zi(c,y),0<v.length&&(c.i=null,c.g.set(yi(c,y),$(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var w=y[v];const K=encodeURIComponent(String(w)),ae=this.V(w);for(w=0;w<ae.length;w++){var z=K;ae[w]!==""&&(z+="="+encodeURIComponent(String(ae[w]))),c.push(z)}}return this.i=c.join("&")};function yi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function bc(c,y){y&&!c.j&&(Ln(c),c.i=null,c.g.forEach(function(v,w){var z=w.toLowerCase();w!=z&&(Zi(this,w),vl(this,z,v))},c)),c.j=y}function $s(c,y){const v=new Pn;if(m.Image){const w=new Image;w.onload=D(Un,v,"TestLoadImage: loaded",!0,y,w),w.onerror=D(Un,v,"TestLoadImage: error",!1,y,w),w.onabort=D(Un,v,"TestLoadImage: abort",!1,y,w),w.ontimeout=D(Un,v,"TestLoadImage: timeout",!1,y,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else y(!1)}function Zn(c,y){const v=new Pn,w=new AbortController,z=setTimeout(()=>{w.abort(),Un(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:w.signal}).then(K=>{clearTimeout(z),K.ok?Un(v,"TestPingServer: ok",!0,y):Un(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Un(v,"TestPingServer: error",!1,y)})}function Un(c,y,v,w,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),w(v)}catch{}}function Ks(){this.g=new Us}function _i(c,y,v){const w=v||"";try{gl(c,function(z,K){let ae=z;g(z)&&(ae=Xn(z)),y.push(w+K+"="+encodeURIComponent(ae))})}catch(z){throw y.push(w+"type="+encodeURIComponent("_badmap")),z}}function Lr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Lr,ol),Lr.prototype.g=function(){return new er(this.l,this.j)},Lr.prototype.i=function(c){return function(){return c}}({});function er(c,y){pt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(er,pt),i=er.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ei(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,vi(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ei(this)),this.g&&(this.readyState=3,Ei(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;El(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function El(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?vi(this):Ei(this),this.readyState==3&&El(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,vi(this))},i.Qa=function(c){this.g&&(this.response=c,vi(this))},i.ga=function(){this.g&&vi(this)};function vi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ei(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function Ei(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Tl(c){let y="";return Re(c,function(v,w){y+=w,y+=":",y+=v,y+=`\r
`}),y}function Ut(c,y,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=Tl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):We(c,y,v))}function $e(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L($e,pt);var Fa=/^https?$/i,Qs=["POST","PUT"];i=$e.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mi.g(),this.v=this.o?ll(this.o):ll(mi),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ac(this,K);return}if(c=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var z in w)v.set(z,w[z]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const K of w.keys())v.set(K,w.get(K));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Qs,y,void 0))||w||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ae]of v)this.g.setRequestHeader(K,ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ys(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ac(this,K)}};function Ac(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,Ga(c),Ti(c)}function Ga(c){c.A||(c.A=!0,Qe(c,"complete"),Qe(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Qe(this,"complete"),Qe(this,"abort"),Ti(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ti(this,!0)),$e.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?$a(this):this.bb())},i.bb=function(){$a(this)};function $a(c){if(c.h&&typeof h<"u"&&(!c.v[1]||jn(c)!=4||c.Z()!=2)){if(c.u&&jn(c)==4)en(c.Ea,0,c);else if(Qe(c,"readystatechange"),jn(c)==4){c.h=!1;try{const ae=c.Z();e:switch(ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var w;if(w=ae===0){var z=String(c.D).match(qs)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),w=!Fa.test(z?z.toLowerCase():"")}v=w}if(v)Qe(c,"complete"),Qe(c,"success");else{c.m=6;try{var K=2<jn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Ga(c)}}finally{Ti(c)}}}}function Ti(c,y){if(c.g){Ys(c);const v=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Qe(c,"ready");try{v.onreadystatechange=w}catch{}}}function Ys(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function jn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<jn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Va(y)}};function wc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function pd(c){const y={};c=(c.g&&2<=jn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(se(c[w]))continue;var v=O(c[w]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[z]||[];y[z]=K,K.push(v)}V(y,function(w){return w.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ka(c){this.Aa=0,this.i=[],this.j=new Pn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,c),this.cb=Xs("retryDelaySeedMs",1e4,c),this.Wa=Xs("forwardChannelMaxRetries",2,c),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Yi(c&&c.concurrentRequestLimit),this.Da=new Ks,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ka.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,w){lt(0),this.W=c,this.H=y||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=xc(this,null,this.W),Ya(this)};function bl(c){if(Sc(c),c.G==3){var y=c.U++,v=Sn(c.I);if(We(v,"SID",c.K),We(v,"RID",y),We(v,"TYPE","terminate"),Ws(c,v),y=new un(c,c.j,y),y.L=2,y.v=Fs(Sn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Oc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),zs(y)}Dc(c)}function Qa(c){c.g&&(Zs(c),c.g.cancel(),c.g=null)}function Sc(c){Qa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ya(c){if(!ja(c.h)&&!c.s){c.s=!0;var y=c.Ga;oe||k(),pe||(oe(),pe=!0),He.add(y,c),c.B=0}}function gd(c,y){return za(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wt(T(c.Ga,c,y),Sl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new un(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),P(K,this.S)):K=this.S),this.m!==null||this.O||(z.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(y+=w,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Rc(this,z,y),v=Sn(this.I),We(v,"RID",c),We(v,"CVER",22),this.D&&We(v,"X-HTTP-Session-Id",this.D),Ws(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(Tl(K)))+"&"+y:this.m&&Ut(v,this.m,K)),Ba(this.h,z),this.Ua&&We(v,"TYPE","init"),this.P?(We(v,"$req",y),We(v,"SID","null"),z.T=!0,Wn(z,v,null)):Wn(z,v,y),this.G=2}}else this.G==3&&(c?Al(this,c):this.i.length==0||ja(this.h)||Al(this))};function Al(c,y){var v;y?v=y.l:v=c.U++;const w=Sn(c.I);We(w,"SID",c.K),We(w,"RID",v),We(w,"AID",c.T),Ws(c,w),c.m&&c.o&&Ut(w,c.m,c.o),v=new un(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Rc(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ba(c.h,v),Wn(v,w,y)}function Ws(c,y){c.H&&Re(c.H,function(v,w){We(y,w,v)}),c.l&&gl({},function(v,w){We(y,w,v)})}function Rc(c,y,v){v=Math.min(c.i.length,v);var w=c.l?T(c.l.Na,c.l,c):null;e:{var z=c.i;let K=-1;for(;;){const ae=["count="+v];K==-1?0<v?(K=z[0].g,ae.push("ofs="+K)):K=0:ae.push("ofs="+K);let Ue=!0;for(let Ot=0;Ot<v;Ot++){let je=z[Ot].g;const jt=z[Ot].map;if(je-=K,0>je)K=Math.max(0,z[Ot].g-100),Ue=!1;else try{_i(jt,ae,"req"+je+"_")}catch{w&&w(jt)}}if(Ue){w=ae.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,w}function Ic(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;oe||k(),pe||(oe(),pe=!0),He.add(y,c),c.v=0}}function wl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wt(T(c.Fa,c),Sl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Cc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wt(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Qa(this),Cc(this))};function Zs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Cc(c){c.g=new un(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Sn(c.qa);We(y,"RID","rpc"),We(y,"SID",c.K),We(y,"AID",c.T),We(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&We(y,"TO",c.ja),We(y,"TYPE","xmlhttp"),Ws(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Fs(Sn(y)),v.m=null,v.P=!0,Qi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Qa(this),wl(this),lt(19))};function Xa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Nc(c,y){var v=null;if(c.g==y){Xa(c),Zs(c),c.g=null;var w=2}else if(ml(c.h,y))v=y.D,cn(c.h,y),w=1;else return;if(c.G!=0){if(y.o)if(w==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var z=c.B;w=xr(),Qe(w,new xt(w,v)),Ya(c)}else Ic(c);else if(z=y.s,z==3||z==0&&0<y.X||!(w==1&&gd(c,y)||w==2&&wl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),z){case 1:tr(c,5);break;case 4:tr(c,10);break;case 3:tr(c,6);break;default:tr(c,2)}}}function Sl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function tr(c,y){if(c.j.info("Error code "+y),y==2){var v=T(c.fb,c),w=c.Xa;const z=!w;w=new St(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Hs(w,"https"),Fs(w),z?$s(w.toString(),v):Zn(w.toString(),v)}else lt(2);c.G=0,c.l&&c.l.sa(y),Dc(c),Sc(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Dc(c){if(c.G=0,c.ka=[],c.l){const y=pl(c.h);(y.length!=0||c.i.length!=0)&&(q(c.ka,y),q(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function xc(c,y,v){var w=v instanceof St?Sn(v):new St(v);if(w.g!="")y&&(w.g=y+"."+w.g),Vr(w,w.s);else{var z=m.location;w=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;var K=new St(null);w&&Hs(K,w),y&&(K.g=y),z&&Vr(K,z),v&&(K.l=v),w=K}return v=c.D,y=c.ya,v&&y&&We(w,v,y),We(w,"VER",c.la),Ws(c,w),w}function Oc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new $e(new Lr({eb:v})):new $e(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function kc(){}i=kc.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Wa(){}Wa.prototype.g=function(c,y){return new hn(c,y)};function hn(c,y){pt.call(this),this.g=new Ka(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!se(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!se(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new bi(this)}L(hn,pt),hn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){bl(this.g)},hn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Xn(c),c=v);y.i.push(new Ec(y.Ya++,c)),y.G==3&&Ya(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,bl(this.g),delete this.g,hn.aa.N.call(this)};function Mc(c){$i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(Mc,$i);function Pc(){cl.call(this),this.status=1}L(Pc,cl);function bi(c){this.g=c}L(bi,kc),bi.prototype.ua=function(){Qe(this.g,"a")},bi.prototype.ta=function(c){Qe(this.g,new Mc(c))},bi.prototype.sa=function(c){Qe(this.g,new Pc)},bi.prototype.ra=function(){Qe(this.g,"b")},Wa.prototype.createWebChannel=Wa.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,_b=function(){return new Wa},yb=function(){return xr()},gb=di,Hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Zh=Mr,Ki.COMPLETE="complete",pb=Ki,ul.EventType=Gi,Gi.OPEN="a",Gi.CLOSE="b",Gi.ERROR="c",Gi.MESSAGE="d",pt.prototype.listen=pt.prototype.K,vu=ul,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,mb=$e}).apply(typeof Uh<"u"?Uh:typeof self<"u"?self:typeof window<"u"?window:{});const q0="@firebase/firestore",H0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}sn.UNAUTHENTICATED=new sn(null),sn.GOOGLE_CREDENTIALS=new sn("google-credentials-uid"),sn.FIRST_PARTY=new sn("first-party-uid"),sn.MOCK_USER=new sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sa=new wg("@firebase/firestore");function No(){return Sa.logLevel}function ue(i,...e){if(Sa.logLevel<=Pe.DEBUG){const t=e.map(Vg);Sa.debug(`Firestore (${Xo}): ${i}`,...t)}}function Rr(i,...e){if(Sa.logLevel<=Pe.ERROR){const t=e.map(Vg);Sa.error(`Firestore (${Xo}): ${i}`,...t)}}function jo(i,...e){if(Sa.logLevel<=Pe.WARN){const t=e.map(Vg);Sa.warn(`Firestore (${Xo}): ${i}`,...t)}}function Vg(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(i,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,vb(i,s,t)}function vb(i,e,t){let s=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw Rr(s),new Error(s)}function Ge(i,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,i||vb(e,o,s)}function we(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class re extends qi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ND{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(sn.UNAUTHENTICATED))}shutdown(){}}class DD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class xD{constructor(e){this.t=e,this.currentUser=sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let u=new Pi;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Pi,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Pi)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new Eb(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new sn(e)}}class OD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=sn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new OD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,pn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new F0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new F0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=PD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<t&&(s+=e.charAt(o[u]%62))}return s}}function Ve(i,e){return i<e?-1:i>e?1:0}function Fp(i,e){const t=Math.min(i.length,e.length);for(let s=0;s<t;s++){const o=i.charAt(s),u=e.charAt(s);if(o!==u)return bp(o)===bp(u)?Ve(o,u):bp(o)?1:-1}return Ve(i.length,e.length)}const VD=55296,LD=57343;function bp(i){const e=i.charCodeAt(0);return e>=VD&&e<=LD}function zo(i,e,t){return i.length===e.length&&i.every((s,o)=>t(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gp="__name__";class Di{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ee(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return Di.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Di?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const u=Di.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Ve(e.length,t.length)}static compareSegments(e,t){const s=Di.isNumericId(e),o=Di.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?Di.extractNumericId(e).compare(Di.extractNumericId(t)):Fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class tt extends Di{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new re(Q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(o=>o.length>0))}return new tt(t)}static emptyPath(){return new tt([])}}const UD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wt extends Di{construct(e,t,s){return new Wt(e,t,s)}static isValidIdentifier(e){return UD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Gp}static keyField(){return new Wt([Gp])}static fromServerFormat(e){const t=[];let s="",o=0;const u=()=>{if(s.length===0)throw new re(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new re(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new re(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new re(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wt(t)}static emptyPath(){return new Wt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.path=e}static fromPath(e){return new me(tt.fromString(e))}static fromName(e){return new me(tt.fromString(e).popFirst(5))}static empty(){return new me(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new me(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ug(i,e,t){if(!t)throw new re(Q.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function jD(i,e,t,s){if(e===!0&&s===!0)throw new re(Q.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function G0(i){if(!me.isDocumentKey(i))throw new re(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function $0(i){if(me.isDocumentKey(i))throw new re(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Tb(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function jf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Ee(12329,{type:typeof i})}function Zt(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new re(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=jf(i);throw new re(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function zD(i,e){if(e<=0)throw new re(Q.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(i,e){const t={typeString:i};return e&&(t.value=e),t}function nc(i,e){if(!Tb(i))throw new re(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){t=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){t=`Expected '${s}' field to equal '${u.value}'`;break}}if(t)throw new re(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=-62135596800,Q0=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Q0);return new st(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new re(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new re(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<K0)throw new re(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new re(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Q0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(nc(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-K0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:Dt("string",st._jsonSchemaVersion),seconds:Dt("number"),nanoseconds:Dt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new st(0,0))}static max(){return new Se(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vu=-1;function BD(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new st(t+1,0):new st(t,s));return new _s(o,me.empty(),e)}function qD(i){return new _s(i.readTime,i.key,Vu)}class _s{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new _s(Se.min(),me.empty(),Vu)}static max(){return new _s(Se.max(),me.empty(),Vu)}}function HD(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=me.comparator(i.documentKey,e.documentKey),t!==0?t:Ve(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(i){if(i.code!==Q.FAILED_PRECONDITION||i.message!==FD)throw i;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(s,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,s)=>{t(e)})}static reject(e){return new ee((t,s)=>{s(e)})}static waitFor(e){return new ee((t,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&t()},p=>s(p))}),h=!0,u===o&&t()})}static or(e){let t=ee.resolve(!1);for(const s of e)t=t.next(o=>o?ee.resolve(o):s());return t}static forEach(e,t){const s=[];return e.forEach((o,u)=>{s.push(t.call(this,o,u))}),this.waitFor(s)}static mapArray(e,t){return new ee((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;t(e[g]).next(_=>{h[g]=_,++m,m===u&&s(h)},_=>o(_))}})}static doWhile(e,t){return new ee((s,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):s()};u()})}}function $D(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}zf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=-1;function Bf(i){return i==null}function mf(i){return i===0&&1/i==-1/0}function KD(i){return typeof i=="number"&&Number.isInteger(i)&&!mf(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bb="";function QD(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=Y0(e)),e=YD(i.get(t),e);return Y0(e)}function YD(i,e){let t=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":t+="";break;case bb:t+="";break;default:t+=u}}return t}function Y0(i){return i+bb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Rs(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function XD(i,e){const t=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&t.push(e(i[s],s,i));return t}function Ab(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,t){this.comparator=e,this.root=t||Yt.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jh(this.root,e,this.comparator,!1)}getReverseIterator(){return new jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jh(this.root,e,this.comparator,!0)}}class jh{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?s(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,t,s,o,u){this.key=e,this.value=t,this.color=s??Yt.RED,this.left=o??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,u){return new Yt(e??this.key,t??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,s),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,s,o,u){return this}insert(e,t,s){return new Yt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new W0(this.data.getIterator())}getIteratorFrom(e){return new W0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vt(this.comparator);return t.data=e,t}}class W0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(Wt.comparator)}static empty(){return new kn([])}unionWith(e){let t=new Vt(Wt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new kn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return zo(this.fields,e.fields,(t,s)=>t.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new wb("Invalid base64 string: "+u):u}}(e);return new Jt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const WD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const t=WD.exec(i);if(Ge(!!t,46558,{timestamp:i}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:bt(i.seconds),nanos:bt(i.nanos)}}function bt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Es(i){return typeof i=="string"?Jt.fromBase64String(i):Jt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="server_timestamp",Rb="__type__",Ib="__previous_value__",Cb="__local_write_time__";function qf(i){return(i?.mapValue?.fields||{})[Rb]?.stringValue===Sb}function Hf(i){const e=i.mapValue.fields[Ib];return qf(e)?Hf(e):e}function Lu(i){const e=vs(i.mapValue.fields[Cb].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,t,s,o,u,h,m,p,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=_}}const Uu="(default)";class ju{constructor(e,t){this.projectId=e,this.database=t||Uu}static empty(){return new ju("","")}get isDefaultDatabase(){return this.database===Uu}isEqual(e){return e instanceof ju&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nb="__type__",JD="__max__",zh={mapValue:{}},Db="__vector__",pf="value";function Ts(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?qf(i)?4:tx(i)?9007199254740991:ex(i)?10:11:Ee(28295,{value:i})}function Bi(i,e){if(i===e)return!0;const t=Ts(i);if(t!==Ts(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Lu(i).isEqual(Lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=vs(o.timestampValue),m=vs(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return Es(o.bytesValue).isEqual(Es(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return bt(o.geoPointValue.latitude)===bt(u.geoPointValue.latitude)&&bt(o.geoPointValue.longitude)===bt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return bt(o.integerValue)===bt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=bt(o.doubleValue),m=bt(u.doubleValue);return h===m?mf(h)===mf(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return zo(i.arrayValue.values||[],e.arrayValue.values||[],Bi);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(X0(h)!==X0(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Bi(h[p],m[p])))return!1;return!0}(i,e);default:return Ee(52216,{left:i})}}function zu(i,e){return(i.values||[]).find(t=>Bi(t,e))!==void 0}function Bo(i,e){if(i===e)return 0;const t=Ts(i),s=Ts(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=bt(u.integerValue||u.doubleValue),p=bt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return Z0(i.timestampValue,e.timestampValue);case 4:return Z0(Lu(i),Lu(e));case 5:return Fp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=Es(u),p=Es(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const _=Ve(m[g],p[g]);if(_!==0)return _}return Ve(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ve(bt(u.latitude),bt(h.latitude));return m!==0?m:Ve(bt(u.longitude),bt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return J0(i.arrayValue,e.arrayValue);case 10:return function(u,h){const m=u.fields||{},p=h.fields||{},g=m[pf]?.arrayValue,_=p[pf]?.arrayValue,A=Ve(g?.values?.length||0,_?.values?.length||0);return A!==0?A:J0(g,_)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===zh.mapValue&&h===zh.mapValue)return 0;if(u===zh.mapValue)return 1;if(h===zh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},_=Object.keys(g);p.sort(),_.sort();for(let A=0;A<p.length&&A<_.length;++A){const T=Fp(p[A],_[A]);if(T!==0)return T;const D=Bo(m[p[A]],g[_[A]]);if(D!==0)return D}return Ve(p.length,_.length)}(i.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function Z0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ve(i,e);const t=vs(i),s=vs(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function J0(i,e){const t=i.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const u=Bo(t[o],s[o]);if(u)return u}return Ve(t.length,s.length)}function qo(i){return $p(i)}function $p(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(t){const s=vs(t);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(t){return Es(t).toBase64()}(i.bytesValue):"referenceValue"in i?function(t){return me.fromName(t).toString()}(i.referenceValue):"geoPointValue"in i?function(t){return`geo(${t.latitude},${t.longitude})`}(i.geoPointValue):"arrayValue"in i?function(t){let s="[",o=!0;for(const u of t.values||[])o?o=!1:s+=",",s+=$p(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(t){const s=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${$p(t.fields[h])}`;return o+"}"}(i.mapValue):Ee(61005,{value:i})}function Jh(i){switch(Ts(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hf(i);return e?16+Jh(e):16;case 5:return 2*i.stringValue.length;case 6:return Es(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Jh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return Rs(s.fields,(u,h)=>{o+=u.length+Jh(h)}),o}(i.mapValue);default:throw Ee(13486,{value:i})}}function gf(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Kp(i){return!!i&&"integerValue"in i}function zg(i){return!!i&&"arrayValue"in i}function eT(i){return!!i&&"nullValue"in i}function tT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ef(i){return!!i&&"mapValue"in i}function ex(i){return(i?.mapValue?.fields||{})[Nb]?.stringValue===Db}function Ru(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Rs(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=Ru(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ru(i.arrayValue.values[t]);return e}return{...i}}function tx(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===JD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.value=e}static empty(){return new An({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ef(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ru(t)}setAll(e){let t=Wt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=m.popLast()}h?s[m.lastSegment()]=Ru(h):o.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,s,o)}delete(e){const t=this.field(e.popLast());ef(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Bi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ef(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Rs(t,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new An(Ru(this.value))}}function xb(i){const e=[];return Rs(i.fields,(t,s)=>{const o=new Wt([t]);if(ef(s)){const u=xb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,t,s,o,u,h,m){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new an(e,0,Se.min(),Se.min(),Se.min(),An.empty(),0)}static newFoundDocument(e,t,s,o){return new an(e,1,t,Se.min(),s,o,0)}static newNoDocument(e,t){return new an(e,2,t,Se.min(),Se.min(),An.empty(),0)}static newUnknownDocument(e,t){return new an(e,3,t,Se.min(),Se.min(),An.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof an&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t){this.position=e,this.inclusive=t}}function nT(i,e,t){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=me.comparator(me.fromName(h.referenceValue),t.key):s=Bo(h,t.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function iT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!Bi(i.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,t="asc"){this.field=e,this.dir=t}}function nx(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{}class Nt extends Ob{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new rx(e,t,s):t==="array-contains"?new ox(e,s):t==="in"?new lx(e,s):t==="not-in"?new ux(e,s):t==="array-contains-any"?new cx(e,s):new Nt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new sx(e,s):new ax(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Bo(t,this.value)):t!==null&&Ts(this.value)===Ts(t)&&this.matchesComparison(Bo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends Ob{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new li(e,t)}matches(e){return kb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function kb(i){return i.op==="and"}function Mb(i){return ix(i)&&kb(i)}function ix(i){for(const e of i.filters)if(e instanceof li)return!1;return!0}function Qp(i){if(i instanceof Nt)return i.field.canonicalString()+i.op.toString()+qo(i.value);if(Mb(i))return i.filters.map(e=>Qp(e)).join(",");{const e=i.filters.map(t=>Qp(t)).join(",");return`${i.op}(${e})`}}function Pb(i,e){return i instanceof Nt?function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Bi(s.value,o.value)}(i,e):i instanceof li?function(s,o){return o instanceof li&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&Pb(h,o.filters[m]),!0):!1}(i,e):void Ee(19439)}function Vb(i){return i instanceof Nt?function(t){return`${t.field.canonicalString()} ${t.op} ${qo(t.value)}`}(i):i instanceof li?function(t){return t.op.toString()+" {"+t.getFilters().map(Vb).join(" ,")+"}"}(i):"Filter"}class rx extends Nt{constructor(e,t,s){super(e,t,s),this.key=me.fromName(s.referenceValue)}matches(e){const t=me.comparator(e.key,this.key);return this.matchesComparison(t)}}class sx extends Nt{constructor(e,t){super(e,"in",t),this.keys=Lb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ax extends Nt{constructor(e,t){super(e,"not-in",t),this.keys=Lb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Lb(i,e){return(e.arrayValue?.values||[]).map(t=>me.fromName(t.referenceValue))}class ox extends Nt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zg(t)&&zu(t.arrayValue,this.value)}}class lx extends Nt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&zu(this.value.arrayValue,t)}}class ux extends Nt{constructor(e,t){super(e,"not-in",t)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!zu(this.value.arrayValue,t)}}class cx extends Nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>zu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,t=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Te=null}}function rT(i,e=null,t=[],s=[],o=null,u=null,h=null){return new hx(i,e,t,s,o,u,h)}function Bg(i){const e=we(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>Qp(s)).join(","),t+="|ob:",t+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Bf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>qo(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>qo(s)).join(",")),e.Te=t}return e.Te}function qg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!nx(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!Pb(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!iT(i.startAt,e.startAt)&&iT(i.endAt,e.endAt)}function Yp(i){return me.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,t=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function fx(i,e,t,s,o,u,h,m){return new Is(i,e,t,s,o,u,h,m)}function Ff(i){return new Is(i)}function sT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Hg(i){return i.collectionGroup!==null}function Vo(i){const e=we(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),t.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Vt(Wt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Bu(u,s))}),t.has(Wt.keyField().canonicalString())||e.Ie.push(new Bu(Wt.keyField(),s))}return e.Ie}function Vi(i){const e=we(i);return e.Ee||(e.Ee=Ub(e,Vo(i))),e.Ee}function dx(i){const e=we(i);return e.de||(e.de=Ub(e,i.explicitOrderBy)),e.de}function Ub(i,e){if(i.limitType==="F")return rT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Bu(o.field,u)});const t=i.endAt?new Ho(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ho(i.startAt.position,i.startAt.inclusive):null;return rT(i.path,i.collectionGroup,e,i.filters,i.limit,t,s)}}function Xp(i,e){const t=i.filters.concat([e]);return new Is(i.path,i.collectionGroup,i.explicitOrderBy.slice(),t,i.limit,i.limitType,i.startAt,i.endAt)}function yf(i,e,t){return new Is(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Gf(i,e){return qg(Vi(i),Vi(e))&&i.limitType===e.limitType}function jb(i){return`${Bg(Vi(i))}|lt:${i.limitType}`}function Do(i){return`Query(target=${function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map(o=>Vb(o)).join(", ")}]`),Bf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map(o=>qo(o)).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map(o=>qo(o)).join(",")),`Target(${s})`}(Vi(i))}; limitType=${i.limitType})`}function $f(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):me.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of Vo(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=nT(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,Vo(s),o)||s.endAt&&!function(h,m,p){const g=nT(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,Vo(s),o))}(i,e)}function mx(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function zb(i){return(e,t)=>{let s=!1;for(const o of Vo(i)){const u=px(o,e,t);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function px(i,e,t){const s=i.field.isKeyField()?me.comparator(e.key,t.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?Bo(p,g):Ee(42886)}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Ee(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Rs(this.inner,(t,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Ab(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new ft(me.comparator);function Ir(){return gx}const Bb=new ft(me.comparator);function Eu(...i){let e=Bb;for(const t of i)e=e.insert(t.key,t);return e}function qb(i){let e=Bb;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function ga(){return Iu()}function Hb(){return Iu()}function Iu(){return new Da(i=>i.toString(),(i,e)=>i.isEqual(e))}const yx=new ft(me.comparator),_x=new Vt(me.comparator);function Le(...i){let e=_x;for(const t of i)e=e.add(t);return e}const vx=new Vt(Ve);function Ex(){return vx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fg(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mf(e)?"-0":e}}function Fb(i){return{integerValue:""+i}}function Gb(i,e){return KD(e)?Fb(e):Fg(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this._=void 0}}function Tx(i,e,t){return i instanceof qu?function(o,u){const h={fields:{[Rb]:{stringValue:Sb},[Cb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qf(u)&&(u=Hf(u)),u&&(h.fields[Ib]=u),{mapValue:h}}(t,e):i instanceof Hu?Kb(i,e):i instanceof Fu?Qb(i,e):function(o,u){const h=$b(o,u),m=aT(h)+aT(o.Ae);return Kp(h)&&Kp(o.Ae)?Fb(m):Fg(o.serializer,m)}(i,e)}function bx(i,e,t){return i instanceof Hu?Kb(i,e):i instanceof Fu?Qb(i,e):t}function $b(i,e){return i instanceof Gu?function(s){return Kp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class qu extends Kf{}class Hu extends Kf{constructor(e){super(),this.elements=e}}function Kb(i,e){const t=Yb(e);for(const s of i.elements)t.some(o=>Bi(o,s))||t.push(s);return{arrayValue:{values:t}}}class Fu extends Kf{constructor(e){super(),this.elements=e}}function Qb(i,e){let t=Yb(e);for(const s of i.elements)t=t.filter(o=>!Bi(o,s));return{arrayValue:{values:t}}}class Gu extends Kf{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function aT(i){return bt(i.integerValue||i.doubleValue)}function Yb(i){return zg(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(e,t){this.field=e,this.transform=t}}function Ax(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Hu&&o instanceof Hu||s instanceof Fu&&o instanceof Fu?zo(s.elements,o.elements,Bi):s instanceof Gu&&o instanceof Gu?Bi(s.Ae,o.Ae):s instanceof qu&&o instanceof qu}(i.transform,e.transform)}class wx{constructor(e,t){this.version=e,this.transformResults=t}}class yn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new yn}static exists(e){return new yn(void 0,e)}static updateTime(e){return new yn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tf(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Qf{}function Wb(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Yf(i.key,yn.none()):new ic(i.key,i.data,yn.none());{const t=i.data,s=An.empty();let o=new Vt(Wt.comparator);for(let u of e.fields)if(!o.has(u)){let h=t.field(u);h===null&&u.length>1&&(u=u.popLast(),h=t.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Cs(i.key,s,new kn(o.toArray()),yn.none())}}function Sx(i,e,t){i instanceof ic?function(o,u,h){const m=o.value.clone(),p=lT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,t):i instanceof Cs?function(o,u,h){if(!tf(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=lT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(Zb(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,t):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Cu(i,e,t,s){return i instanceof ic?function(u,h,m,p){if(!tf(u.precondition,h))return m;const g=u.value.clone(),_=uT(u.fieldTransforms,p,h);return g.setAll(_),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,t,s):i instanceof Cs?function(u,h,m,p){if(!tf(u.precondition,h))return m;const g=uT(u.fieldTransforms,p,h),_=h.data;return _.setAll(Zb(u)),_.setAll(g),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(i,e,t,s):function(u,h,m){return tf(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,t)}function Rx(i,e){let t=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=$b(s.transform,o||null);u!=null&&(t===null&&(t=An.empty()),t.set(s.field,u))}return t||null}function oT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&zo(s,o,(u,h)=>Ax(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class ic extends Qf{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cs extends Qf{constructor(e,t,s,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Zb(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function lT(i,e,t){const s=new Map;Ge(i.length===t.length,32656,{Re:t.length,Ve:i.length});for(let o=0;o<t.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,bx(h,m,t[o]))}return s}function uT(i,e,t){const s=new Map;for(const o of i){const u=o.transform,h=t.data.field(o.field);s.set(o.field,Tx(u,h,e))}return s}class Yf extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ix extends Qf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&Sx(u,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Cu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Cu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Hb();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=t.has(o.key)?null:m;const p=Wb(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Le())}isEqual(e){return this.batchId===e.batchId&&zo(this.mutations,e.mutations,(t,s)=>oT(t,s))&&zo(this.baseMutations,e.baseMutations,(t,s)=>oT(t,s))}}class Gg{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=function(){return yx}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Gg(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,t,s){this.alias=e,this.aggregateType=t,this.fieldPath=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct,Be;function Ox(i){switch(i){case Q.OK:return Ee(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ee(15467,{code:i})}}function Jb(i){if(i===void 0)return Rr("GRPC error has no .code"),Q.UNKNOWN;switch(i){case Ct.OK:return Q.OK;case Ct.CANCELLED:return Q.CANCELLED;case Ct.UNKNOWN:return Q.UNKNOWN;case Ct.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Ct.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Ct.INTERNAL:return Q.INTERNAL;case Ct.UNAVAILABLE:return Q.UNAVAILABLE;case Ct.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Ct.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Ct.NOT_FOUND:return Q.NOT_FOUND;case Ct.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Ct.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Ct.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Ct.ABORTED:return Q.ABORTED;case Ct.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Ct.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Ct.DATA_LOSS:return Q.DATA_LOSS;default:return Ee(39323,{code:i})}}(Be=Ct||(Ct={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=new ms([4294967295,4294967295],0);function cT(i){const e=kx().encode(i),t=new db;return t.update(e),new Uint8Array(t.digest())}function hT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ms([t,s],0),new ms([o,u],0)]}class $g{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Tu(`Invalid padding: ${t}`);if(s<0)throw new Tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Tu(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Tu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ms.fromNumber(this.ge)}ye(e,t,s){let o=e.add(t.multiply(ms.fromNumber(s)));return o.compare(Mx)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=cT(e),[s,o]=hT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);if(!this.we(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new $g(u,o,t);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.ge===0)return;const t=cT(e),[s,o]=hT(t);for(let u=0;u<this.hashCount;u++){const h=this.ye(s,o,u);this.Se(h)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,t,s,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,rc.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Xf(Se.min(),o,new ft(Ve),Ir(),Le())}}class rc{constructor(e,t,s,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new rc(s,t,Le(),Le(),Le())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t,s,o){this.be=e,this.removedTargetIds=t,this.key=s,this.De=o}}class eA{constructor(e,t){this.targetId=e,this.Ce=t}}class tA{constructor(e,t,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class fT{constructor(){this.ve=0,this.Fe=dT(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),t=Le(),s=Le();return this.Fe.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ee(38017,{changeType:u})}}),new rc(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=dT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Px{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ir(),this.Je=Bh(),this.He=Bh(),this.Ye=new ft(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach((s,o)=>{this.rt(o)&&t(o)})}st(e){const t=e.targetId,s=e.Ce.count,o=this.ot(t);if(o){const u=o.target;if(Yp(u))if(s===0){const h=new me(u.path);this.et(t,h,an.newNoDocument(h,Se.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this._t(t);if(h!==s){const m=this.ut(e),p=m?this.ct(m,e,h):1;if(p!==0){this.it(t);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,g)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=t;let h,m;try{h=Es(s).toUint8Array()}catch(p){if(p instanceof wb)return jo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $g(h,o,u)}catch(p){return jo(p instanceof Tu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let o=0;return s.forEach(u=>{const h=this.Ge.ht(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(t,u,null),o++)}),o}Tt(e){const t=new Map;this.ze.forEach((u,h)=>{const m=this.ot(h);if(m){if(u.current&&Yp(m.target)){const p=new me(m.target.path);this.It(p).has(h)||this.Et(h,p)||this.et(h,p,an.newNoDocument(p,e))}u.Be&&(t.set(h,u.ke()),u.qe())}});let s=Le();this.He.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.je.forEach((u,h)=>h.setReadTime(e));const o=new Xf(e,t,this.Ye,this.je,s);return this.je=Ir(),this.Je=Bh(),this.He=Bh(),this.Ye=new ft(Ve),o}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,t)?o.Qe(t,1):o.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new fT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Vt(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Vt(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new fT),this.Ge.getRemoteKeysForTarget(e).forEach(t=>{this.et(e,t,null)})}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bh(){return new ft(me.comparator)}function dT(){return new ft(me.comparator)}const Vx={asc:"ASCENDING",desc:"DESCENDING"},Lx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ux={and:"AND",or:"OR"};class jx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Wp(i,e){return i.useProto3Json||Bf(e)?e:{value:e}}function _f(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function nA(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function zx(i,e){return _f(i,e.toTimestamp())}function Li(i){return Ge(!!i,49232),Se.fromTimestamp(function(t){const s=vs(t);return new st(s.seconds,s.nanos)}(i))}function Kg(i,e){return Zp(i,e).canonicalString()}function Zp(i,e){const t=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?t:t.child(e)}function iA(i){const e=tt.fromString(i);return Ge(uA(e),10190,{key:e.toString()}),e}function Jp(i,e){return Kg(i.databaseId,e.path)}function Ap(i,e){const t=iA(e);if(t.get(1)!==i.databaseId.projectId)throw new re(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new re(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new me(sA(t))}function rA(i,e){return Kg(i.databaseId,e)}function Bx(i){const e=iA(i);return e.length===4?tt.emptyPath():sA(e)}function eg(i){return new tt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function sA(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function mT(i,e,t){return{name:Jp(i,e),fields:t.value.mapValue.fields}}function qx(i,e){let t;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ee(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,_){return g.useProto3Json?(Ge(_===void 0||typeof _=="string",58123),Jt.fromBase64String(_||"")):(Ge(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array,16193),Jt.fromUint8Array(_||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const _=g.code===void 0?Q.UNKNOWN:Jb(g.code);return new re(_,g.message||"")}(h);t=new tA(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Ap(i,s.document.name),u=Li(s.document.updateTime),h=s.document.createTime?Li(s.document.createTime):Se.min(),m=new An({mapValue:{fields:s.document.fields}}),p=an.newFoundDocument(o,u,h,m),g=s.targetIds||[],_=s.removedTargetIds||[];t=new nf(g,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Ap(i,s.document),u=s.readTime?Li(s.readTime):Se.min(),h=an.newNoDocument(o,u),m=s.removedTargetIds||[];t=new nf([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Ap(i,s.document),u=s.removedTargetIds||[];t=new nf([],u,o,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new xx(o,u),m=s.targetId;t=new eA(m,h)}}return t}function Hx(i,e){let t;if(e instanceof ic)t={update:mT(i,e.key,e.value)};else if(e instanceof Yf)t={delete:Jp(i,e.key)};else if(e instanceof Cs)t={update:mT(i,e.key,e.data),updateMask:Zx(e.fieldMask)};else{if(!(e instanceof Ix))return Ee(16599,{Vt:e.type});t={verify:Jp(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof qu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Hu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Fu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Gu)return{fieldPath:h.field.canonicalString(),increment:m.Ae};throw Ee(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:zx(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee(27497)}(i,e.precondition)),t}function Fx(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(t=>function(o,u){let h=o.updateTime?Li(o.updateTime):Li(u);return h.isEqual(Se.min())&&(h=Li(u)),new wx(h,o.transformResults||[])}(t,e))):[]}function Gx(i,e){return{documents:[rA(i,e.path)]}}function aA(i,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=rA(i,o);const u=function(g){if(g.length!==0)return lA(li.create(g,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(_=>function(T){return{field:us(T.field),direction:Yx(T.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const m=Wp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ft:t,parent:o}}function $x(i,e,t,s){const{ft:o,parent:u}=aA(i,e),h={},m=[];let p=0;return t.forEach(g=>{const _="aggregate_"+p++;h[_]=g.alias,g.aggregateType==="count"?m.push({alias:_,count:{}}):g.aggregateType==="avg"?m.push({alias:_,avg:{field:us(g.fieldPath)}}):g.aggregateType==="sum"&&m.push({alias:_,sum:{field:us(g.fieldPath)}})}),{request:{structuredAggregationQuery:{aggregations:m,structuredQuery:o.structuredQuery},parent:o.parent},gt:h,parent:u}}function Kx(i){let e=Bx(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const _=t.from[0];_.allDescendants?o=_.collectionId:e=e.child(_.collectionId)}let u=[];t.where&&(u=function(A){const T=oA(A);return T instanceof li&&Mb(T)?T.getFilters():[T]}(t.where));let h=[];t.orderBy&&(h=function(A){return A.map(T=>function(L){return new Bu(xo(L.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(T))}(t.orderBy));let m=null;t.limit&&(m=function(A){let T;return T=typeof A=="object"?A.value:A,Bf(T)?null:T}(t.limit));let p=null;t.startAt&&(p=function(A){const T=!!A.before,D=A.values||[];return new Ho(D,T)}(t.startAt));let g=null;return t.endAt&&(g=function(A){const T=!A.before,D=A.values||[];return new Ho(D,T)}(t.endAt)),fx(e,o,h,u,m,"F",p,g)}function Qx(i,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:o})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function oA(i){return i.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=xo(t.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=xo(t.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=xo(t.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=xo(t.unaryFilter.field);return Nt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}}(i):i.fieldFilter!==void 0?function(t){return Nt.create(xo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(t){return li.create(t.compositeFilter.filters.map(s=>oA(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}}(t.compositeFilter.op))}(i):Ee(30097,{filter:i})}function Yx(i){return Vx[i]}function Xx(i){return Lx[i]}function Wx(i){return Ux[i]}function us(i){return{fieldPath:i.canonicalString()}}function xo(i){return Wt.fromServerFormat(i.fieldPath)}function lA(i){return i instanceof Nt?function(t){if(t.op==="=="){if(tT(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NAN"}};if(eT(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tT(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NOT_NAN"}};if(eT(t.value))return{unaryFilter:{field:us(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(t.field),op:Xx(t.op),value:t.value}}}(i):i instanceof li?function(t){const s=t.getFilters().map(o=>lA(o));return s.length===1?s[0]:{compositeFilter:{op:Wx(t.op),filters:s}}}(i):Ee(54877,{filter:i})}function Zx(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uA(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,t,s,o,u=Se.min(),h=Se.min(),m=Jt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(e){this.yt=e}}function eO(i){const e=Kx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tO{constructor(){this.Cn=new nO}addToCollectionParentIndex(e,t){return this.Cn.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(_s.min())}updateCollectionGroup(e,t,s){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class nO{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new Vt(tt.comparator),u=!o.has(s);return this.index[t]=o.add(s),u}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cA=41943040;class Tn{static withCacheSize(e){return new Tn(e,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(cA,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Fo(0)}static cr(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="LruGarbageCollector",hA=1048576;function yT([i,e],[t,s]){const o=Ve(i,t);return o===0?Ve(e,s):o}class iO{constructor(e){this.Ir=e,this.buffer=new Vt(yT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();yT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rO{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(gT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?ue(gT,"Ignoring IndexedDB error during garbage collection: ",t):await Wo(t)}await this.Vr(3e5)})}}class sO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(zf.ce);const s=new iO(t);return this.mr.forEachTarget(e,o=>s.Ar(o.sequenceNumber)).next(()=>this.mr.pr(e,o=>s.Ar(o))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(pT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),pT):this.yr(e,t))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,o,u,h,m,p,g;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,h=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,t))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(g=Date.now(),No()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(g-p)+`ms
Total Duration: ${g-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function aO(i,e){return new sO(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oO{constructor(){this.changes=new Da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,an.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?ee.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(s!==null&&Cu(s.mutation,o,kn.empty(),st.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Le()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Le()){const o=ga();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,s).next(u=>{let h=Eu();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const s=ga();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Le()))}populateOverlays(e,t,s){const o=[];return s.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{t.set(h,m)})})}computeViews(e,t,s,o){let u=Ir();const h=Iu(),m=function(){return Iu()}();return t.forEach((p,g)=>{const _=s.get(g.key);o.has(g.key)&&(_===void 0||_.mutation instanceof Cs)?u=u.insert(g.key,g):_!==void 0?(h.set(g.key,_.mutation.getFieldMask()),Cu(_.mutation,g,_.mutation.getFieldMask(),st.now())):h.set(g.key,kn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,_)=>h.set(g,_)),t.forEach((g,_)=>m.set(g,new lO(_,h.get(g)??null))),m))}recalculateAndSaveOverlays(e,t){const s=Iu();let o=new ft((h,m)=>h-m),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=t.get(p);if(g===null)return;let _=s.get(p)||kn.empty();_=m.applyToLocalView(g,_),s.set(p,_);const A=(o.get(m.batchId)||Le()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,_=p.value,A=Hb();_.forEach(T=>{if(!u.has(T)){const D=Wb(t.get(T),s.get(T));D!==null&&A.set(T,D),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,A))}return ee.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s,o){return function(h){return me.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Hg(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-u.size):ee.resolve(ga());let m=Vu,p=u;return h.next(g=>ee.forEach(g,(_,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(T=>{p=p.insert(_,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Le())).next(_=>({batchId:m,changes:qb(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new me(t)).next(s=>{let o=Eu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const u=t.collectionGroup;let h=Eu();return this.indexManager.getCollectionParents(e,u).next(m=>ee.forEach(m,p=>{const g=function(A,T){return new Is(T,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(_=>{_.forEach((A,T)=>{h=h.insert(A,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,u,o))).next(h=>{u.forEach((p,g)=>{const _=g.getKey();h.get(_)===null&&(h=h.insert(_,an.newInvalidDocument(_)))});let m=Eu();return h.forEach((p,g)=>{const _=u.get(p);_!==void 0&&Cu(_.mutation,g,kn.empty(),st.now()),$f(t,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return ee.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(o){return{name:o.name,query:eO(o.bundledQuery),readTime:Li(o.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.overlays=new ft(me.comparator),this.qr=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const s=ga();return ee.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((o,u)=>{this.St(e,t,u)}),ee.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,t,s){const o=ga(),u=t.length+1,h=new me(t.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return ee.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let u=new ft((g,_)=>g-_);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>s){let _=u.get(g.largestBatchId);_===null&&(_=ga(),u=u.insert(g.largestBatchId,_)),_.set(g.getKey(),g)}}const m=ga(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,_)=>m.set(g,_)),!(m.size()>=o)););return ee.resolve(m)}St(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new Nx(t,s));let u=this.qr.get(t);u===void 0&&(u=Le(),this.qr.set(t,u)),this.qr.set(t,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Qr=new Vt(Ht.$r),this.Ur=new Vt(Ht.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Ht(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.Gr(new Ht(e,t))}zr(e,t){e.forEach(s=>this.removeReference(s,t))}jr(e){const t=new me(new tt([])),s=new Ht(t,e),o=new Ht(t,e+1),u=[];return this.Ur.forEachInRange([s,o],h=>{this.Gr(h),u.push(h.key)}),u}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new me(new tt([])),s=new Ht(t,e),o=new Ht(t,e+1);let u=Le();return this.Ur.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const t=new Ht(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Ht{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return me.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(Ht.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new Cx(u,t,s,o);this.mutationQueue.push(h);for(const m of o)this.Zr=this.Zr.add(new Ht(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.ei(s),u=o<0?0:o;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?jg:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Ht(t,0),o=new Ht(t,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],h=>{const m=this.Xr(h.Yr);u.push(m)}),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Vt(Ve);return t.forEach(o=>{const u=new Ht(o,0),h=new Ht(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,h],m=>{s=s.add(m.Yr)})}),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let u=s;me.isDocumentKey(u)||(u=u.child(""));const h=new Ht(new me(u),0);let m=new Vt(Ve);return this.Zr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Yr)),!0)},h),ee.resolve(this.ti(m))}ti(e){const t=[];return e.forEach(s=>{const o=this.Xr(s);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ge(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(t.mutations,o=>{const u=new Ht(o.key,t.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,t){const s=new Ht(t,0),o=this.Zr.firstAfterOrEqual(s);return ee.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.ri=e,this.docs=function(){return new ft(me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),u=o?o.size:0,h=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return ee.resolve(s?s.document.mutableCopy():an.newInvalidDocument(t))}getEntries(e,t){let s=Ir();return t.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():an.newInvalidDocument(o))}),ee.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let u=Ir();const h=t.path,m=new me(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:_}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||HD(qD(_),s)<=0||(o.has(_.key)||$f(t,_))&&(u=u.insert(_.key,_.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,t,s,o){Ee(9500)}ii(e,t){return ee.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new pO(this)}getSize(e){return ee.resolve(this.size)}}class pO extends oO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?t.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)}),ee.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.persistence=e,this.si=new Da(t=>Bg(t),qg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new Qg,this.targetCount=0,this.ai=Fo.ur()}forEachTarget(e,t){return this.si.forEach((s,o)=>t(o)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),ee.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Pr(t),ee.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,s){let o=0;const u=[];return this.si.forEach((h,m)=>{m.sequenceNumber<=t&&s.get(m.targetId)===null&&(this.si.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),ee.waitFor(u).next(()=>o)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return ee.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),ee.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),ee.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return ee.resolve(s)}containsKey(e,t){return ee.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e,t){this.ui={},this.overlays={},this.ci=new zf(0),this.li=!1,this.li=!0,this.hi=new fO,this.referenceDelegate=e(this),this.Pi=new gO(this),this.indexManager=new tO,this.remoteDocumentCache=function(o){return new mO(o)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new Jx(t),this.Ii=new cO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new hO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new dO(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ue("MemoryPersistence","Starting transaction:",e);const o=new yO(this.ci.next());return this.referenceDelegate.Ei(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ai(e,t){return ee.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,t)))}}class yO extends GD{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.Ri=new Qg,this.Vi=null}static mi(e){return new Yg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach(o=>this.fi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.fi.add(u.toString()))}).next(()=>s.removeTargetData(e,t))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,s=>{const o=me.fromPath(s);return this.gi(e,o).next(u=>{u||t.removeEntry(o,Se.min())})}).next(()=>(this.Vi=null,t.apply(e)))}updateLimboDocument(e,t){return this.gi(e,t).next(s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())})}Ti(e){return 0}gi(e,t){return ee.or([()=>ee.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class vf{constructor(e,t){this.persistence=e,this.pi=new Da(s=>QD(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=aO(this,t)}static mi(e,t){return new vf(e,t)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>t.next(o=>s+o))}wr(e){let t=0;return this.pr(e,s=>{t++}).next(()=>t)}pr(e,t){return ee.forEach(this.pi,(s,o)=>this.br(e,s,o).next(u=>u?ee.resolve():t(o)))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,h=>this.br(e,h,t).next(m=>{m||(s++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),ee.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Jh(e.data.value)),t}br(e,t,s){return ee.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.pi.get(t);return ee.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=o}static As(e,t){let s=Le(),o=Le();for(const u of t.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Xg(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return QI()?8:$D(on())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,o){const u={result:null};return this.ys(e,t).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ws(e,t,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new _O;return this.Ss(e,t,h).next(m=>{if(u.result=m,this.Vs)return this.bs(e,t,h,m.size)})}).next(()=>u.result)}bs(e,t,s,o){return s.documentReadCount<this.fs?(No()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",Do(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(No()<=Pe.DEBUG&&ue("QueryEngine","Query:",Do(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(No()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",Do(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vi(t))):ee.resolve())}ys(e,t){if(sT(t))return ee.resolve(null);let s=Vi(t);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=yf(t,null,"F"),s=Vi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Le(...u);return this.ps.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.Ds(t,m);return this.Cs(t,g,h,p.readTime)?this.ys(e,yf(t,null,"F")):this.vs(e,g,t,p)}))})))}ws(e,t,s,o){return sT(t)||o.isEqual(Se.min())?ee.resolve(null):this.ps.getDocuments(e,s).next(u=>{const h=this.Ds(t,u);return this.Cs(t,h,s,o)?ee.resolve(null):(No()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Do(t)),this.vs(e,h,t,BD(o,Vu)).next(m=>m))})}Ds(e,t){let s=new Vt(zb(e));return t.forEach((o,u)=>{$f(e,u)&&(s=s.add(u))}),s}Cs(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,t,s){return No()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",Do(t)),this.ps.getDocumentsMatchingQuery(e,t,_s.min(),s)}vs(e,t,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next(u=>(t.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wg="LocalStore",EO=3e8;class TO{constructor(e,t,s,o){this.persistence=e,this.Fs=t,this.serializer=o,this.Ms=new ft(Ve),this.xs=new Da(u=>Bg(u),qg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ms))}}function bO(i,e,t,s){return new TO(i,e,t,s)}async function dA(i,e){const t=we(i);return await t.persistence.runTransaction("Handle user change","readonly",s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,t.Bs(e),t.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=Le();for(const g of o){h.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}for(const g of u){m.push(g.batchId);for(const _ of g.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(s,p).next(g=>({Ls:g,removedBatchIds:h,addedBatchIds:m}))})})}function AO(i,e){const t=we(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=t.Ns.newChangeBuffer({trackRemovals:!0});return function(m,p,g,_){const A=g.batch,T=A.keys();let D=ee.resolve();return T.forEach(L=>{D=D.next(()=>_.getEntry(p,L)).next($=>{const q=g.docVersions.get(L);Ge(q!==null,48541),$.version.compareTo(q)<0&&(A.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),_.addEntry($)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(t,s,e,u).next(()=>u.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>t.localDocuments.getDocuments(s,o))})}function mA(i){const e=we(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Pi.getLastRemoteSnapshotVersion(t))}function wO(i,e){const t=we(i),s=e.snapshotVersion;let o=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=t.Ns.newChangeBuffer({trackRemovals:!0});o=t.Ms;const m=[];e.targetChanges.forEach((_,A)=>{const T=o.get(A);if(!T)return;m.push(t.Pi.removeMatchingKeys(u,_.removedDocuments,A).next(()=>t.Pi.addMatchingKeys(u,_.addedDocuments,A)));let D=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?D=D.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):_.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(_.resumeToken,s)),o=o.insert(A,D),function($,q,Y){return $.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=EO?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(T,D,_)&&m.push(t.Pi.updateTargetData(u,D))});let p=Ir(),g=Le();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,_))}),m.push(SO(u,h,e.documentUpdates).next(_=>{p=_.ks,g=_.qs})),!s.isEqual(Se.min())){const _=t.Pi.getLastRemoteSnapshotVersion(u).next(A=>t.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(_)}return ee.waitFor(m).next(()=>h.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(t.Ms=o,u))}function SO(i,e,t){let s=Le(),o=Le();return t.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=Ir();return t.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ue(Wg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{ks:h,qs:o}})}function RO(i,e){const t=we(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=jg),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function IO(i,e){const t=we(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return t.Pi.getTargetData(s,e).next(u=>u?(o=u,ee.resolve(o)):t.Pi.allocateTargetId(s).next(h=>(o=new hs(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=t.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s})}async function tg(i,e,t){const s=we(i),o=s.Ms.get(e),u=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Zo(h))throw h;ue(Wg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function _T(i,e,t){const s=we(i);let o=Se.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,_){const A=we(p),T=A.xs.get(_);return T!==void 0?ee.resolve(A.Ms.get(T)):A.Pi.getTargetData(g,_)}(s,h,Vi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Fs.getDocumentsMatchingQuery(h,e,t?o:Se.min(),t?u:Le())).next(m=>(CO(s,mx(e),m),{documents:m,Qs:u})))}function CO(i,e,t){let s=i.Os.get(e)||Se.min();t.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Os.set(e,s)}class vT{constructor(){this.activeTargetIds=Ex()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NO{constructor(){this.Mo=new vT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new vT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="ConnectivityMonitor";class TT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(ET,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(ET,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qh=null;function ng(){return qh===null?qh=function(){return 268435456+Math.round(2147483648*Math.random())}():qh++,"0x"+qh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="RestConnection",xO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===Uu?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,t,s,o,u){const h=ng(),m=this.zo(e,t.toUriEncodedString());ue(wp,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:g}=new URL(m),_=Nr(g);return this.Jo(e,m,p,s,_).then(A=>(ue(wp,`Received RPC '${e}' ${h}: `,A),A),A=>{throw jo(wp,`RPC '${e}' ${h} failed with error: `,A,"url: ",m,"request:",s),A})}Ho(e,t,s,o,u,h){return this.Go(e,t,s,o,u)}jo(e,t,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}zo(e,t){const s=xO[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn="WebChannelConnection";class MO extends OO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,o,u){const h=ng();return new Promise((m,p)=>{const g=new mb;g.setWithCredentials(!0),g.listenOnce(pb.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Zh.NO_ERROR:const A=g.getResponseJson();ue(rn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),m(A);break;case Zh.TIMEOUT:ue(rn,`RPC '${e}' ${h} timed out`),p(new re(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Zh.HTTP_ERROR:const T=g.getStatus();if(ue(rn,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let D=g.getResponseJson();Array.isArray(D)&&(D=D[0]);const L=D?.error;if(L&&L.status&&L.message){const $=function(Y){const se=Y.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(se)>=0?se:Q.UNKNOWN}(L.status);p(new re($,L.message))}else p(new re(Q.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new re(Q.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:h,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{ue(rn,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(o);ue(rn,`RPC '${e}' ${h} sending request:`,o),g.send(t,"POST",_,s,15)})}T_(e,t,s){const o=ng(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=_b(),m=yb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const _=u.join("");ue(rn,`Creating RPC '${e}' stream ${o}: ${_}`,p);const A=h.createWebChannel(_,p);this.I_(A);let T=!1,D=!1;const L=new kO({Yo:q=>{D?ue(rn,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(T||(ue(rn,`Opening RPC '${e}' stream ${o} transport.`),A.open(),T=!0),ue(rn,`RPC '${e}' stream ${o} sending:`,q),A.send(q))},Zo:()=>A.close()}),$=(q,Y,se)=>{q.listen(Y,ne=>{try{se(ne)}catch(fe){setTimeout(()=>{throw fe},0)}})};return $(A,vu.EventType.OPEN,()=>{D||(ue(rn,`RPC '${e}' stream ${o} transport opened.`),L.o_())}),$(A,vu.EventType.CLOSE,()=>{D||(D=!0,ue(rn,`RPC '${e}' stream ${o} transport closed`),L.a_(),this.E_(A))}),$(A,vu.EventType.ERROR,q=>{D||(D=!0,jo(rn,`RPC '${e}' stream ${o} transport errored. Name:`,q.name,"Message:",q.message),L.a_(new re(Q.UNAVAILABLE,"The operation could not be completed")))}),$(A,vu.EventType.MESSAGE,q=>{if(!D){const Y=q.data[0];Ge(!!Y,16349);const se=Y,ne=se?.error||se[0]?.error;if(ne){ue(rn,`RPC '${e}' stream ${o} received error:`,ne);const fe=ne.status;let ce=function(R){const I=Ct[R];if(I!==void 0)return Jb(I)}(fe),Re=ne.message;ce===void 0&&(ce=Q.INTERNAL,Re="Unknown error status: "+fe+" with message "+ne.message),D=!0,L.a_(new re(ce,Re)),A.close()}else ue(rn,`RPC '${e}' stream ${o} received:`,Y),L.u_(Y)}}),$(m,gb.STAT_EVENT,q=>{q.stat===Hp.PROXY?ue(rn,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Hp.NOPROXY&&ue(rn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.__()},0),L}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(t=>t===e)}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wf(i){return new jx(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,t,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,t-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="PersistentStream";class gA{constructor(e,t,s,o,u,h,m,p){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new pA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Rr(t.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.D_===t&&this.G_(s,o)},s=>{e(()=>{const o=new re(Q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)})})}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(o=>{s(()=>this.z_(o))}),this.stream.onMessage(o=>{s(()=>++this.F_==1?this.J_(o):this.onNext(o))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ue(bT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget(()=>this.D_===e?t():(ue(bT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PO extends gA{constructor(e,t,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=qx(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?Li(h.readTime):Se.min()}(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=eg(this.serializer),t.addTarget=function(u,h){let m;const p=h.target;if(m=Yp(p)?{documents:Gx(u,p)}:{query:aA(u,p).ft},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=nA(u,h.resumeToken);const g=Wp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){m.readTime=_f(u,h.snapshotVersion.toTimestamp());const g=Wp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Qx(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=eg(this.serializer),t.removeTarget=e,this.q_(t)}}class VO extends gA{constructor(e,t,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Fx(e.writeResults,e.commitTime),s=Li(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=eg(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>Hx(this.serializer,s))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{}class UO extends LO{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new re(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Go(e,Zp(t,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new re(Q.UNKNOWN,u.toString())})}Ho(e,t,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Ho(e,Zp(t,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new re(Q.UNKNOWN,h.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class jO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rr(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ra="RemoteStore";class zO{constructor(e,t,s,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo(h=>{s.enqueueAndForget(async()=>{xa(this)&&(ue(Ra,"Restarting streams for network reachability change."),await async function(p){const g=we(p);g.Ea.add(4),await sc(g),g.Ra.set("Unknown"),g.Ea.delete(4),await Zf(g)}(this))})}),this.Ra=new jO(s,o)}}async function Zf(i){if(xa(i))for(const e of i.da)await e(!0)}async function sc(i){for(const e of i.da)await e(!1)}function yA(i,e){const t=we(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ty(t)?ey(t):Jo(t).O_()&&Jg(t,e))}function Zg(i,e){const t=we(i),s=Jo(t);t.Ia.delete(e),s.O_()&&_A(t,e),t.Ia.size===0&&(s.O_()?s.L_():xa(t)&&t.Ra.set("Unknown"))}function Jg(i,e){if(i.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Jo(i).Y_(e)}function _A(i,e){i.Va.Ue(e),Jo(i).Z_(e)}function ey(i){i.Va=new Px({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Jo(i).start(),i.Ra.ua()}function ty(i){return xa(i)&&!Jo(i).x_()&&i.Ia.size>0}function xa(i){return we(i).Ea.size===0}function vA(i){i.Va=void 0}async function BO(i){i.Ra.set("Online")}async function qO(i){i.Ia.forEach((e,t)=>{Jg(i,e)})}async function HO(i,e){vA(i),ty(i)?(i.Ra.ha(e),ey(i)):i.Ra.set("Unknown")}async function FO(i,e,t){if(i.Ra.set("Online"),e instanceof tA&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ia.delete(m),o.Va.removeTarget(m))}(i,e)}catch(s){ue(Ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ef(i,s)}else if(e instanceof nf?i.Va.Ze(e):e instanceof eA?i.Va.st(e):i.Va.tt(e),!t.isEqual(Se.min()))try{const s=await mA(i.localStore);t.compareTo(s)>=0&&await function(u,h){const m=u.Va.Tt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const _=u.Ia.get(g);_&&u.Ia.set(g,_.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const _=u.Ia.get(p);if(!_)return;u.Ia.set(p,_.withResumeToken(Jt.EMPTY_BYTE_STRING,_.snapshotVersion)),_A(u,p);const A=new hs(_.target,p,g,_.sequenceNumber);Jg(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(i,t)}catch(s){ue(Ra,"Failed to raise snapshot:",s),await Ef(i,s)}}async function Ef(i,e,t){if(!Zo(e))throw e;i.Ea.add(1),await sc(i),i.Ra.set("Offline"),t||(t=()=>mA(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ue(Ra,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await Zf(i)})}function EA(i,e){return e().catch(t=>Ef(i,t,e))}async function Jf(i){const e=we(i),t=bs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:jg;for(;GO(e);)try{const o=await RO(e.localStore,s);if(o===null){e.Ta.length===0&&t.L_();break}s=o.batchId,$O(e,o)}catch(o){await Ef(e,o)}TA(e)&&bA(e)}function GO(i){return xa(i)&&i.Ta.length<10}function $O(i,e){i.Ta.push(e);const t=bs(i);t.O_()&&t.X_&&t.ea(e.mutations)}function TA(i){return xa(i)&&!bs(i).x_()&&i.Ta.length>0}function bA(i){bs(i).start()}async function KO(i){bs(i).ra()}async function QO(i){const e=bs(i);for(const t of i.Ta)e.ea(t.mutations)}async function YO(i,e,t){const s=i.Ta.shift(),o=Gg.from(s,e,t);await EA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await Jf(i)}async function XO(i,e){e&&bs(i).X_&&await async function(s,o){if(function(h){return Ox(h)&&h!==Q.ABORTED}(o.code)){const u=s.Ta.shift();bs(s).B_(),await EA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Jf(s)}}(i,e),TA(i)&&bA(i)}async function AT(i,e){const t=we(i);t.asyncQueue.verifyOperationInProgress(),ue(Ra,"RemoteStore received new credentials");const s=xa(t);t.Ea.add(3),await sc(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Zf(t)}async function WO(i,e){const t=we(i);e?(t.Ea.delete(2),await Zf(t)):e||(t.Ea.add(2),await sc(t),t.Ra.set("Unknown"))}function Jo(i){return i.ma||(i.ma=function(t,s,o){const u=we(t);return u.sa(),new PO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:BO.bind(null,i),t_:qO.bind(null,i),r_:HO.bind(null,i),H_:FO.bind(null,i)}),i.da.push(async e=>{e?(i.ma.B_(),ty(i)?ey(i):i.Ra.set("Unknown")):(await i.ma.stop(),vA(i))})),i.ma}function bs(i){return i.fa||(i.fa=function(t,s,o){const u=we(t);return u.sa(),new VO(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Xo:()=>Promise.resolve(),t_:KO.bind(null,i),r_:XO.bind(null,i),ta:QO.bind(null,i),na:YO.bind(null,i)}),i.da.push(async e=>{e?(i.fa.B_(),await Jf(i)):(await i.fa.stop(),i.Ta.length>0&&(ue(Ra,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))})),i.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(e,t,s,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,u){const h=Date.now()+s,m=new ny(e,t,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new re(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(i,e){if(Rr("AsyncQueue",`${e}: ${i}`),Zo(i))return new re(Q.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||me.comparator(t.key,s.key):(t,s)=>me.comparator(t.key,s.key),this.keyedMap=Eu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.ga=new ft(me.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,s)=>{e.push(s)}),e}}class Go{constructor(e,t,s,o,u,h,m,p,g){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,t,s,o,u){const h=[];return t.forEach(m=>{h.push({type:0,doc:m})}),new Go(e,t,Lo.emptySet(t),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class JO{constructor(){this.queries=ST(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const o=we(t),u=o.queries;o.queries=ST(),u.forEach((h,m)=>{for(const p of m.Sa)p.onError(s)})})(this,new re(Q.ABORTED,"Firestore shutting down"))}}function ST(){return new Da(i=>jb(i),Gf)}async function ry(i,e){const t=we(i);let s=3;const o=e.query;let u=t.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new ZO,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await t.onListen(o,!0);break;case 1:u.wa=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const m=iy(h,`Initialization of query '${Do(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,u),u.Sa.push(e),e.va(t.onlineState),u.wa&&e.Fa(u.wa)&&ay(t)}async function sy(i,e){const t=we(i),s=e.query;let o=3;const u=t.queries.get(s);if(u){const h=u.Sa.indexOf(e);h>=0&&(u.Sa.splice(h,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function ek(i,e){const t=we(i);let s=!1;for(const o of e){const u=o.query,h=t.queries.get(u);if(h){for(const m of h.Sa)m.Fa(o)&&(s=!0);h.wa=o}}s&&ay(t)}function tk(i,e,t){const s=we(i),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(t);s.queries.delete(e)}function ay(i){i.Ca.forEach(e=>{e.next()})}var ig,RT;(RT=ig||(ig={})).Ma="default",RT.Cache="cache";class oy{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Go(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Go.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ig.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e){this.key=e}}class wA{constructor(e){this.key=e}}class nk{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=zb(e),this.tu=new Lo(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new wT,o=t?t.tu:this.tu;let u=t?t.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((_,A)=>{const T=o.get(_),D=$f(this.query,A)?A:null,L=!!T&&this.mutatedKeys.has(T.key),$=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let q=!1;T&&D?T.data.isEqual(D.data)?L!==$&&(s.track({type:3,doc:D}),q=!0):this.su(T,D)||(s.track({type:2,doc:D}),q=!0,(p&&this.eu(D,p)>0||g&&this.eu(D,g)<0)&&(m=!0)):!T&&D?(s.track({type:0,doc:D}),q=!0):T&&!D&&(s.track({type:1,doc:T}),q=!0,(p||g)&&(m=!0)),q&&(D?(h=h.add(D),u=$?u.add(_):u.delete(_)):(h=h.delete(_),u=u.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),u=u.delete(_.key),s.track({type:1,doc:_})}return{tu:h,iu:s,Cs:m,mutatedKeys:u}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const h=e.iu.ya();h.sort((_,A)=>function(D,L){const $=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:q})}};return $(D)-$(L)}(_.type,A.type)||this.eu(_.doc,A.doc)),this.ou(s),o=o??!1;const m=t&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,g=p!==this.Za;return this.Za=p,h.length!==0||g?{snapshot:new Go(this.query,e.tu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new wT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(t=>this.Ya=this.Ya.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ya=this.Ya.delete(t)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const t=[];return e.forEach(s=>{this.Xa.has(s)||t.push(new wA(s))}),this.Xa.forEach(s=>{e.has(s)||t.push(new AA(s))}),t}cu(e){this.Ya=e.Qs,this.Xa=Le();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Go.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ly="SyncEngine";class ik{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class rk{constructor(e){this.key=e,this.hu=!1}}class sk{constructor(e,t,s,o,u,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Pu={},this.Tu=new Da(m=>jb(m),Gf),this.Iu=new Map,this.Eu=new Set,this.du=new ft(me.comparator),this.Au=new Map,this.Ru=new Qg,this.Vu={},this.mu=new Map,this.fu=Fo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ak(i,e,t=!0){const s=DA(i);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await SA(s,e,t,!0),o}async function ok(i,e){const t=DA(i);await SA(t,e,!0,!1)}async function SA(i,e,t,s){const o=await IO(i.localStore,Vi(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,t);let m;return s&&(m=await lk(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&t&&yA(i.remoteStore,o),m}async function lk(i,e,t,s,o){i.pu=(A,T,D)=>async function($,q,Y,se){let ne=q.view.ru(Y);ne.Cs&&(ne=await _T($.localStore,q.query,!1).then(({documents:V})=>q.view.ru(V,ne)));const fe=se&&se.targetChanges.get(q.targetId),ce=se&&se.targetMismatches.get(q.targetId)!=null,Re=q.view.applyChanges(ne,$.isPrimaryClient,fe,ce);return CT($,q.targetId,Re.au),Re.snapshot}(i,A,T,D);const u=await _T(i.localStore,e,!0),h=new nk(e,u.Qs),m=h.ru(u.documents),p=rc.createSynthesizedTargetChangeForCurrentChange(t,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);CT(i,t,g.au);const _=new ik(e,t,h);return i.Tu.set(e,_),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),g.snapshot}async function uk(i,e,t){const s=we(i),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter(h=>!Gf(h,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await tg(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),t&&Zg(s.remoteStore,o.targetId),rg(s,o.targetId)}).catch(Wo)):(rg(s,o.targetId),await tg(s.localStore,o.targetId,!0))}async function ck(i,e){const t=we(i),s=t.Tu.get(e),o=t.Iu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),Zg(t.remoteStore,s.targetId))}async function hk(i,e,t){const s=_k(i);try{const o=await function(h,m){const p=we(h),g=st.now(),_=m.reduce((D,L)=>D.add(L.key),Le());let A,T;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let L=Ir(),$=Le();return p.Ns.getEntries(D,_).next(q=>{L=q,L.forEach((Y,se)=>{se.isValidDocument()||($=$.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,L)).next(q=>{A=q;const Y=[];for(const se of m){const ne=Rx(se,A.get(se.key).overlayedDocument);ne!=null&&Y.push(new Cs(se.key,ne,xb(ne.value.mapValue),yn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,Y,m)}).next(q=>{T=q;const Y=q.applyToLocalDocumentSet(A,$);return p.documentOverlayCache.saveOverlays(D,q.batchId,Y)})}).then(()=>({batchId:T.batchId,changes:qb(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Vu[h.currentUser.toKey()];g||(g=new ft(Ve)),g=g.insert(m,p),h.Vu[h.currentUser.toKey()]=g}(s,o.batchId,t),await ac(s,o.changes),await Jf(s.remoteStore)}catch(o){const u=iy(o,"Failed to persist write");t.reject(u)}}async function RA(i,e){const t=we(i);try{const s=await wO(t.localStore,e);e.targetChanges.forEach((o,u)=>{const h=t.Au.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.hu=!0:o.modifiedDocuments.size>0?Ge(h.hu,14607):o.removedDocuments.size>0&&(Ge(h.hu,42227),h.hu=!1))}),await ac(t,s,e)}catch(s){await Wo(s)}}function IT(i,e,t){const s=we(i);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Tu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=we(h);p.onlineState=m;let g=!1;p.queries.forEach((_,A)=>{for(const T of A.Sa)T.va(m)&&(g=!0)}),g&&ay(p)}(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function fk(i,e,t){const s=we(i);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Au.get(e),u=o&&o.key;if(u){let h=new ft(me.comparator);h=h.insert(u,an.newNoDocument(u,Se.min()));const m=Le().add(u),p=new Xf(Se.min(),new Map,new ft(Ve),h,m);await RA(s,p),s.du=s.du.remove(u),s.Au.delete(e),uy(s)}else await tg(s.localStore,e,!1).then(()=>rg(s,e,t)).catch(Wo)}async function dk(i,e){const t=we(i),s=e.batch.batchId;try{const o=await AO(t.localStore,e);CA(t,s,null),IA(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await ac(t,o)}catch(o){await Wo(o)}}async function mk(i,e,t){const s=we(i);try{const o=await function(h,m){const p=we(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let _;return p.mutationQueue.lookupMutationBatch(g,m).next(A=>(Ge(A!==null,37113),_=A.keys(),p.mutationQueue.removeMutationBatch(g,A))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,_,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,_)).next(()=>p.localDocuments.getDocuments(g,_))})}(s.localStore,e);CA(s,e,t),IA(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await ac(s,o)}catch(o){await Wo(o)}}function IA(i,e){(i.mu.get(e)||[]).forEach(t=>{t.resolve()}),i.mu.delete(e)}function CA(i,e,t){const s=we(i);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function rg(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Iu.get(e))i.Tu.delete(s),t&&i.Pu.yu(s,t);i.Iu.delete(e),i.isPrimaryClient&&i.Ru.jr(e).forEach(s=>{i.Ru.containsKey(s)||NA(i,s)})}function NA(i,e){i.Eu.delete(e.path.canonicalString());const t=i.du.get(e);t!==null&&(Zg(i.remoteStore,t),i.du=i.du.remove(e),i.Au.delete(t),uy(i))}function CT(i,e,t){for(const s of t)s instanceof AA?(i.Ru.addReference(s.key,e),pk(i,s)):s instanceof wA?(ue(ly,"Document no longer in limbo: "+s.key),i.Ru.removeReference(s.key,e),i.Ru.containsKey(s.key)||NA(i,s.key)):Ee(19791,{wu:s})}function pk(i,e){const t=e.key,s=t.path.canonicalString();i.du.get(t)||i.Eu.has(s)||(ue(ly,"New document in limbo: "+t),i.Eu.add(s),uy(i))}function uy(i){for(;i.Eu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new me(tt.fromString(e)),s=i.fu.next();i.Au.set(s,new rk(t)),i.du=i.du.insert(t,s),yA(i.remoteStore,new hs(Vi(Ff(t.path)),s,"TargetPurposeLimboResolution",zf.ce))}}async function ac(i,e,t){const s=we(i),o=[],u=[],h=[];s.Tu.isEmpty()||(s.Tu.forEach((m,p)=>{h.push(s.pu(p,e,t).then(g=>{if((g||t)&&s.isPrimaryClient){const _=g?!g.fromCache:t?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,_?"current":"not-current")}if(g){o.push(g);const _=Xg.As(p.targetId,g);u.push(_)}}))}),await Promise.all(h),s.Pu.H_(o),await async function(p,g){const _=we(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>ee.forEach(g,T=>ee.forEach(T.Es,D=>_.persistence.referenceDelegate.addReference(A,T.targetId,D)).next(()=>ee.forEach(T.ds,D=>_.persistence.referenceDelegate.removeReference(A,T.targetId,D)))))}catch(A){if(!Zo(A))throw A;ue(Wg,"Failed to update sequence numbers: "+A)}for(const A of g){const T=A.targetId;if(!A.fromCache){const D=_.Ms.get(T),L=D.snapshotVersion,$=D.withLastLimboFreeSnapshotVersion(L);_.Ms=_.Ms.insert(T,$)}}}(s.localStore,u))}async function gk(i,e){const t=we(i);if(!t.currentUser.isEqual(e)){ue(ly,"User change. New user:",e.toKey());const s=await dA(t.localStore,e);t.currentUser=e,function(u,h){u.mu.forEach(m=>{m.forEach(p=>{p.reject(new re(Q.CANCELLED,h))})}),u.mu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ac(t,s.Ls)}}function yk(i,e){const t=we(i),s=t.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let o=Le();const u=t.Iu.get(e);if(!u)return o;for(const h of u){const m=t.Tu.get(h);o=o.unionWith(m.view.nu)}return o}}function DA(i){const e=we(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=RA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=fk.bind(null,e),e.Pu.H_=ek.bind(null,e.eventManager),e.Pu.yu=tk.bind(null,e.eventManager),e}function _k(i){const e=we(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=mk.bind(null,e),e}class Tf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return bO(this.persistence,new vO,e.initialUser,this.serializer)}Cu(e){return new fA(Yg.mi,this.serializer)}Du(e){return new NO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tf.provider={build:()=>new Tf};class vk extends Tf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){Ge(this.persistence.referenceDelegate instanceof vf,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new rO(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new fA(s=>vf.mi(s,t),this.serializer)}}class sg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>IT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=gk.bind(null,this.syncEngine),await WO(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new JO}()}createDatastore(e){const t=Wf(e.databaseInfo.databaseId),s=function(u){return new MO(u)}(e.databaseInfo);return function(u,h,m,p){return new UO(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return function(s,o,u,h,m){return new zO(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,t=>IT(this.syncEngine,t,0),function(){return TT.v()?new TT:new DO}())}createSyncEngine(e,t){return function(o,u,h,m,p,g,_){const A=new sk(o,u,h,m,p,g);return _&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(t){const s=we(t);ue(Ra,"RemoteStore shutting down."),s.Ea.add(5),await sc(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}sg.provider={build:()=>new sg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="FirestoreClient";class Ek{constructor(e,t,s,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=sn.UNAUTHENTICATED,this.clientId=Lg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ue(As,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ue(As,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=iy(t,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Rp(i,e){i.asyncQueue.verifyOperationInProgress(),ue(As,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await dA(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function NT(i,e){i.asyncQueue.verifyOperationInProgress();const t=await Tk(i);ue(As,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener(s=>AT(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>AT(e.remoteStore,o)),i._onlineComponents=e}async function Tk(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ue(As,"Using user provided OfflineComponentProvider");try{await Rp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;jo("Error using user provided cache. Falling back to memory cache: "+t),await Rp(i,new Tf)}}else ue(As,"Using default OfflineComponentProvider"),await Rp(i,new vk(void 0));return i._offlineComponents}async function hy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ue(As,"Using user provided OnlineComponentProvider"),await NT(i,i._uninitializedComponentsProvider._online)):(ue(As,"Using default OnlineComponentProvider"),await NT(i,new sg))),i._onlineComponents}function bk(i){return hy(i).then(e=>e.syncEngine)}function Ak(i){return hy(i).then(e=>e.datastore)}async function bf(i){const e=await hy(i),t=e.eventManager;return t.onListen=ak.bind(null,e.syncEngine),t.onUnlisten=uk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ok.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=ck.bind(null,e.syncEngine),t}function wk(i,e,t={}){const s=new Pi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new cy({next:T=>{_.Nu(),h.enqueueAndForget(()=>sy(u,A));const D=T.docs.has(m);!D&&T.fromCache?g.reject(new re(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&T.fromCache&&p&&p.source==="server"?g.reject(new re(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(T)},error:T=>g.reject(T)}),A=new oy(Ff(m.path),_,{includeMetadataChanges:!0,qa:!0});return ry(u,A)}(await bf(i),i.asyncQueue,e,t,s)),s.promise}function Sk(i,e,t={}){const s=new Pi;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const _=new cy({next:T=>{_.Nu(),h.enqueueAndForget(()=>sy(u,A)),T.fromCache&&p.source==="server"?g.reject(new re(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),A=new oy(m,_,{includeMetadataChanges:!0,qa:!0});return ry(u,A)}(await bf(i),i.asyncQueue,e,t,s)),s.promise}function Rk(i,e,t){const s=new Pi;return i.asyncQueue.enqueueAndForget(async()=>{try{const o=await Ak(i);s.resolve(async function(h,m,p){const g=we(h),{request:_,gt:A,parent:T}=$x(g.serializer,dx(m),p);g.connection.$o||delete _.parent;const D=(await g.Ho("RunAggregationQuery",g.serializer.databaseId,T,_,1)).filter($=>!!$.result);Ge(D.length===1,64727);const L=D[0].result?.aggregateFields;return Object.keys(L).reduce(($,q)=>($[A[q]]=L[q],$),{})}(o,e,t))}catch(o){s.reject(o)}}),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="firestore.googleapis.com",xT=!0;class OT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new re(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=OA,this.ssl=xT}else this.host=e.host,this.ssl=e.ssl??xT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hA)throw new re(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new re(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class oc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new re(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new re(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new ND;switch(s.type){case"firstParty":return new kD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new re(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const s=DT.get(t);s&&(ue("ComponentProvider","Removing Datastore"),DT.delete(t),s.terminate())}(this),Promise.resolve()}}function Ik(i,e,t,s={}){i=Zt(i,oc);const o=Nr(e),u=i._getSettings(),h={...u,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;o&&(kf(`https://${m}`),Ag("Firestore",!0)),u.host!==OA&&u.host!==m&&jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:o,emulatorOptions:s};if(!gs(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=sn.MOCK_USER;else{g=w1(s.mockUserToken,i._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new re(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new sn(A)}i._authCredentials=new DD(new Eb(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new hi(this.firestore,e,this._query)}}class _t{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new _t(this.firestore,e,this._key)}toJSON(){return{type:_t._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(nc(t,_t._jsonSchema))return new _t(e,s||null,new me(tt.fromString(t.referencePath)))}}_t._jsonSchemaVersion="firestore/documentReference/1.0",_t._jsonSchema={type:Dt("string",_t._jsonSchemaVersion),referencePath:Dt("string")};class ps extends hi{constructor(e,t,s){super(e,t,Ff(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new _t(this.firestore,null,new me(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function S6(i,e,...t){if(i=Ke(i),Ug("collection","path",e),i instanceof oc){const s=tt.fromString(e,...t);return $0(s),new ps(i,null,s)}{if(!(i instanceof _t||i instanceof ps))throw new re(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return $0(s),new ps(i.firestore,null,s)}}function R6(i,e){if(i=Zt(i,oc),Ug("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new re(Q.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hi(i,null,function(s){return new Is(tt.emptyPath(),s)}(e))}function Af(i,e,...t){if(i=Ke(i),arguments.length===1&&(e=Lg.newId()),Ug("doc","path",e),i instanceof oc){const s=tt.fromString(e,...t);return G0(s),new _t(i,null,new me(s))}{if(!(i instanceof _t||i instanceof ps))throw new re(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(tt.fromString(e,...t));return G0(s),new _t(i.firestore,i instanceof ps?i.converter:null,new me(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new pA(this,"async_queue_retry"),this._c=()=>{const s=Sp();s&&ue(kT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Sp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Sp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const t=new Pi;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Zo(e))throw e;ue(kT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const t=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Rr("INTERNAL UNHANDLED ERROR: ",PT(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const o=ny.createAndSchedule(this,e,t,s,u=>this.hc(u));return this.tc.push(o),o}uc(){this.nc&&Ee(47125,{Pc:PT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function PT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(i){return function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class ui extends oc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new MT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function Ck(i,e,t){t||(t=Uu);const s=Xu(i,"firestore");if(s.isInitialized(t)){const o=s.getImmediate({identifier:t}),u=s.getOptions(t);if(gs(u,e))return o;throw new re(Q.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new re(Q.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hA)throw new re(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return e.host&&Nr(e.host)&&kf(e.host),s.initialize({options:e,instanceIdentifier:t})}function Nk(i,e){const t=typeof i=="object"?i:Mf(),s=typeof i=="string"?i:Uu,o=Xu(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=T1("firestore");u&&Ik(o,...u)}return o}function el(i){if(i._terminated)throw new re(Q.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Dk(i),i._firestoreClient}function Dk(i){const e=i._freezeSettings(),t=function(o,u,h,m){return new ZD(o,u,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,xA(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(i._databaseId,i._app?.options.appId||"",i._persistenceKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new Ek(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Ok{constructor(e,t,s){this._userDataWriter=t,this._data=s,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Jt.fromBase64String(e))}catch(t){throw new re(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(nc(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Dt("string",Kn._jsonSchemaVersion),bytes:Dt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new re(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function I6(){return new tl(Gp)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new re(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new re(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(e){if(nc(e,Ui._jsonSchema))return new Ui(e.latitude,e.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Dt("string",Ui._jsonSchemaVersion),latitude:Dt("number"),longitude:Dt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:ji._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(nc(e,ji._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new ji(e.vectorValues);throw new re(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ji._jsonSchemaVersion="firestore/vectorValue/1.0",ji._jsonSchema={type:Dt("string",ji._jsonSchemaVersion),vectorValues:Dt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=/^__.*__$/;class Mk{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms):new ic(e,this.data,t,this.fieldTransforms)}}class kA{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Cs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function MA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:i})}}class fy{constructor(e,t,s,o,u,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new fy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){const t=this.path?.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return wf(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(MA(this.Ac)&&kk.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Pk{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Wf(e)}Cc(e,t,s,o=!1){return new fy({Ac:e,methodName:t,Dc:s,path:Wt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nl(i){const e=i._freezeSettings(),t=Wf(i._databaseId);return new Pk(i._databaseId,!!e.ignoreUndefinedProperties,t)}function dy(i,e,t,s,o,u={}){const h=i.Cc(u.merge||u.mergeFields?2:0,e,t,o);gy("Data must be an object, but it was:",h,s);const m=UA(s,h);let p,g;if(u.merge)p=new kn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const _=[];for(const A of u.mergeFields){const T=ag(e,A,t);if(!h.contains(T))throw new re(Q.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);zA(_,T)||_.push(T)}p=new kn(_),g=h.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,g=h.fieldTransforms;return new Mk(new An(m),p,g)}class ed extends lc{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ed}}class my extends lc{_toFieldTransform(e){return new Xb(e.path,new qu)}isEqual(e){return e instanceof my}}class py extends lc{constructor(e,t){super(e),this.Fc=t}_toFieldTransform(e){const t=new Gu(e.serializer,Gb(e.serializer,this.Fc));return new Xb(e.path,t)}isEqual(e){return e instanceof py&&this.Fc===e.Fc}}function PA(i,e,t,s){const o=i.Cc(1,e,t);gy("Data must be an object, but it was:",o,s);const u=[],h=An.empty();Rs(s,(p,g)=>{const _=yy(e,p,t);g=Ke(g);const A=o.yc(_);if(g instanceof ed)u.push(_);else{const T=uc(g,A);T!=null&&(u.push(_),h.set(_,T))}});const m=new kn(u);return new kA(h,m,o.fieldTransforms)}function VA(i,e,t,s,o,u){const h=i.Cc(1,e,t),m=[ag(e,s,t)],p=[o];if(u.length%2!=0)throw new re(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(ag(e,u[T])),p.push(u[T+1]);const g=[],_=An.empty();for(let T=m.length-1;T>=0;--T)if(!zA(g,m[T])){const D=m[T];let L=p[T];L=Ke(L);const $=h.yc(D);if(L instanceof ed)g.push(D);else{const q=uc(L,$);q!=null&&(g.push(D),_.set(D,q))}}const A=new kn(g);return new kA(_,A,h.fieldTransforms)}function LA(i,e,t,s=!1){return uc(t,i.Cc(s?4:3,e))}function uc(i,e){if(jA(i=Ke(i)))return gy("Unsupported field value:",e,i),UA(i,e);if(i instanceof lc)return function(s,o){if(!MA(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=uc(m,o.wc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Ke(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Gb(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:_f(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:_f(o.serializer,u)}}if(s instanceof Ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Kn)return{bytesValue:nA(o.serializer,s._byteString)};if(s instanceof _t){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Sc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Kg(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof ji)return function(h,m){return{mapValue:{fields:{[Nb]:{stringValue:Db},[pf]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Fg(m.serializer,g)})}}}}}}(s,o);throw o.Sc(`Unsupported field value: ${jf(s)}`)}(i,e)}function UA(i,e){const t={};return Ab(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rs(i,(s,o)=>{const u=uc(o,e.mc(s));u!=null&&(t[s]=u)}),{mapValue:{fields:t}}}function jA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof Ui||i instanceof Kn||i instanceof _t||i instanceof lc||i instanceof ji)}function gy(i,e,t){if(!jA(t)||!Tb(t)){const s=jf(t);throw s==="an object"?e.Sc(i+" a custom object"):e.Sc(i+" "+s)}}function ag(i,e,t){if((e=Ke(e))instanceof tl)return e._internalPath;if(typeof e=="string")return yy(i,e);throw wf("Field path arguments must be of type string or ",i,!1,void 0,t)}const Vk=new RegExp("[~\\*/\\[\\]]");function yy(i,e,t){if(e.search(Vk)>=0)throw wf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new tl(...e.split("."))._internalPath}catch{throw wf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function wf(i,e,t,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new re(Q.INVALID_ARGUMENT,m+i+p)}function zA(i,e){return i.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t,s,o,u){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new _t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(td("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Lk extends _y{data(){return super.data()}}function td(i,e){return typeof e=="string"?yy(i,e):e instanceof tl?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new re(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class vy{}class nd extends vy{}function C6(i,e,...t){let s=[];e instanceof vy&&s.push(e),s=s.concat(t),function(u){const h=u.filter(p=>p instanceof Ey).length,m=u.filter(p=>p instanceof id).length;if(h>1||h>0&&m>0)throw new re(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class id extends nd{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new id(e,t,s)}_apply(e){const t=this._parse(e);return qA(e._query,t),new hi(e.firestore,e.converter,Xp(e._query,t))}_parse(e){const t=nl(e.firestore);return function(u,h,m,p,g,_,A){let T;if(g.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new re(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){UT(A,_);const L=[];for(const $ of A)L.push(LT(p,u,$));T={arrayValue:{values:L}}}else T=LT(p,u,A)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||UT(A,_),T=LA(m,h,A,_==="in"||_==="not-in");return Nt.create(g,_,T)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function N6(i,e,t){const s=e,o=td("where",i);return id._create(o,s,t)}class Ey extends vy{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Ey(e,t)}_parse(e){const t=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return t.length===1?t[0]:li.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let h=o;const m=u.getFlattenedFilters();for(const p of m)qA(h,p),h=Xp(h,p)}(e._query,t),new hi(e.firestore,e.converter,Xp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ty extends nd{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ty(e,t)}_apply(e){const t=function(o,u,h){if(o.startAt!==null)throw new re(Q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new re(Q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bu(u,h)}(e._query,this._field,this._direction);return new hi(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Is(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function D6(i,e="asc"){const t=e,s=td("orderBy",i);return Ty._create(s,t)}class by extends nd{constructor(e,t,s){super(),this.type=e,this._limit=t,this._limitType=s}static _create(e,t,s){return new by(e,t,s)}_apply(e){return new hi(e.firestore,e.converter,yf(e._query,this._limit,this._limitType))}}function x6(i){return zD("limit",i),by._create("limit",i,"F")}class Ay extends nd{constructor(e,t,s){super(),this.type=e,this._docOrFields=t,this._inclusive=s}static _create(e,t,s){return new Ay(e,t,s)}_apply(e){const t=Uk(e,this.type,this._docOrFields,this._inclusive);return new hi(e.firestore,e.converter,function(o,u){return new Is(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)}(e._query,t))}}function O6(...i){return Ay._create("startAfter",i,!1)}function Uk(i,e,t,s){if(t[0]=Ke(t[0]),t[0]instanceof _y)return function(u,h,m,p,g){if(!p)throw new re(Q.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const _=[];for(const A of Vo(u))if(A.field.isKeyField())_.push(gf(h,p.key));else{const T=p.data.field(A.field);if(qf(T))throw new re(Q.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(T===null){const D=A.field.canonicalString();throw new re(Q.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${D}' (used as the orderBy) does not exist.`)}_.push(T)}return new Ho(_,g)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const o=nl(i.firestore);return function(h,m,p,g,_,A){const T=h.explicitOrderBy;if(_.length>T.length)throw new re(Q.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const D=[];for(let L=0;L<_.length;L++){const $=_[L];if(T[L].field.isKeyField()){if(typeof $!="string")throw new re(Q.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof $}`);if(!Hg(h)&&$.indexOf("/")!==-1)throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${$}' contains a slash.`);const q=h.path.child(tt.fromString($));if(!me.isDocumentKey(q))throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${q}' is not because it contains an odd number of segments.`);const Y=new me(q);D.push(gf(m,Y))}else{const q=LA(p,g,$);D.push(q)}}return new Ho(D,A)}(i._query,i.firestore._databaseId,o,e,t,s)}}function LT(i,e,t){if(typeof(t=Ke(t))=="string"){if(t==="")throw new re(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hg(e)&&t.indexOf("/")!==-1)throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!me.isDocumentKey(s))throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return gf(i,new me(s))}if(t instanceof _t)return gf(i,t._key);throw new re(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(t)}.`)}function UT(i,e){if(!Array.isArray(i)||i.length===0)throw new re(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function qA(i,e){const t=function(o,u){for(const h of o)for(const m of h.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new re(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new re(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class jk{convertValue(e,t="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Rs(e,(o,u)=>{s[o]=this.convertValue(u,t)}),s}convertVectorValue(e){const t=e.fields?.[pf].arrayValue?.values?.map(s=>bt(s.doubleValue));return new ji(t)}convertGeoPoint(e){return new Ui(bt(e.latitude),bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=Hf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const t=vs(e);return new st(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Ge(uA(s),9688,{name:e});const o=new ju(s.get(1),s.get(3)),u=new me(s.popFirst(5));return o.isEqual(t)||Rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}function zk(){return new xk("count")}class bu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _a extends _y{constructor(e,t,s,o,u,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(td("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=_a._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}_a._jsonSchemaVersion="firestore/documentSnapshot/1.0",_a._jsonSchema={type:Dt("string",_a._jsonSchemaVersion),bundleSource:Dt("string","DocumentSnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class rf extends _a{data(e={}){return super.data(e)}}class va{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new bu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new rf(this._firestore,this._userDataWriter,s.key,s,new bu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new re(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new rf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new rf(o._firestore,o._userDataWriter,m.doc.key,m.doc,new bu(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,_=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),_=h.indexOf(m.doc.key)),{type:Bk(m.type),doc:p,oldIndex:g,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new re(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=va._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Lg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(t.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Bk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:i})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(i){i=Zt(i,_t);const e=Zt(i.firestore,ui);return wk(el(e),i._key).then(t=>HA(e,i,t))}va._jsonSchemaVersion="firestore/querySnapshot/1.0",va._jsonSchema={type:Dt("string",va._jsonSchemaVersion),bundleSource:Dt("string","QuerySnapshot"),bundleName:Dt("string"),bundle:Dt("string")};class rd extends jk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new _t(this.firestore,null,t)}}function k6(i){i=Zt(i,hi);const e=Zt(i.firestore,ui),t=el(e),s=new rd(e);return BA(i._query),Sk(t,i._query).then(o=>new va(e,s,i,o))}function Hk(i,e,t){i=Zt(i,_t);const s=Zt(i.firestore,ui),o=wy(i.converter,e,t);return cc(s,[dy(nl(s),"setDoc",i._key,o,i.converter!==null,t).toMutation(i._key,yn.none())])}function M6(i,e,t,...s){i=Zt(i,_t);const o=Zt(i.firestore,ui),u=nl(o);let h;return h=typeof(e=Ke(e))=="string"||e instanceof tl?VA(u,"updateDoc",i._key,e,t,s):PA(u,"updateDoc",i._key,e),cc(o,[h.toMutation(i._key,yn.exists(!0))])}function P6(i){return cc(Zt(i.firestore,ui),[new Yf(i._key,yn.none())])}function V6(i,e){const t=Zt(i.firestore,ui),s=Af(i),o=wy(i.converter,e);return cc(t,[dy(nl(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,yn.exists(!1))]).then(()=>s)}function Fk(i,...e){i=Ke(i);let t={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||VT(e[s])||(t=e[s++]);const o={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(VT(e[s])){const p=e[s];e[s]=p.next?.bind(p),e[s+1]=p.error?.bind(p),e[s+2]=p.complete?.bind(p)}let u,h,m;if(i instanceof _t)h=Zt(i.firestore,ui),m=Ff(i._key.path),u={next:p=>{e[s]&&e[s](HA(h,i,p))},error:e[s+1],complete:e[s+2]};else{const p=Zt(i,hi);h=Zt(p.firestore,ui),m=p._query;const g=new rd(h);u={next:_=>{e[s]&&e[s](new va(h,g,p,_))},error:e[s+1],complete:e[s+2]},BA(i._query)}return function(g,_,A,T){const D=new cy(T),L=new oy(_,D,A);return g.asyncQueue.enqueueAndForget(async()=>ry(await bf(g),L)),()=>{D.Nu(),g.asyncQueue.enqueueAndForget(async()=>sy(await bf(g),L))}}(el(h),m,o,u)}function cc(i,e){return function(s,o){const u=new Pi;return s.asyncQueue.enqueueAndForget(async()=>hk(await bk(s),o,u)),u.promise}(el(i),e)}function HA(i,e,t){const s=t.docs.get(e._key),o=new rd(i);return new _a(i,o,e._key,s,new bu(t.hasPendingWrites,t.fromCache),e.converter)}function L6(i){return Gk(i,{count:zk()})}function Gk(i,e){const t=Zt(i.firestore,ui),s=el(t),o=XD(e,(u,h)=>new Dx(h,u.aggregateType,u._internalFieldPath));return Rk(s,i._query,o).then(u=>function(m,p,g){const _=new rd(m);return new Ok(p,_,g)}(t,i,u))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=nl(e)}set(e,t,s){this._verifyNotCommitted();const o=Ip(e,this._firestore),u=wy(o.converter,t,s),h=dy(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,s);return this._mutations.push(h.toMutation(o._key,yn.none())),this}update(e,t,s,...o){this._verifyNotCommitted();const u=Ip(e,this._firestore);let h;return h=typeof(t=Ke(t))=="string"||t instanceof tl?VA(this._dataReader,"WriteBatch.update",u._key,t,s,o):PA(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(h.toMutation(u._key,yn.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Ip(e,this._firestore);return this._mutations=this._mutations.concat(new Yf(t._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new re(Q.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ip(i,e){if((i=Ke(i)).firestore!==e)throw new re(Q.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function U6(){return new my("serverTimestamp")}function j6(i){return new py("increment",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(i){return el(i=Zt(i,ui)),new $k(i,e=>cc(i,e))}(function(e,t=!0){(function(o){Xo=o})(Na),ba(new ys("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new ui(new xD(s.getProvider("auth-internal")),new MD(h,s.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new re(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ju(g.options.projectId,_)}(h,o),h);return u={useFetchStreams:t,...u},m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Oi(q0,H0,e),Oi(q0,H0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA="firebasestorage.googleapis.com",GA="storageBucket",Kk=120*1e3,Qk=600*1e3,Yk=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt extends qi{constructor(e,t,s=0){super(Cp(e),`Firebase Storage: ${t} (${Cp(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Cp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var at;(function(i){i.UNKNOWN="unknown",i.OBJECT_NOT_FOUND="object-not-found",i.BUCKET_NOT_FOUND="bucket-not-found",i.PROJECT_NOT_FOUND="project-not-found",i.QUOTA_EXCEEDED="quota-exceeded",i.UNAUTHENTICATED="unauthenticated",i.UNAUTHORIZED="unauthorized",i.UNAUTHORIZED_APP="unauthorized-app",i.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",i.INVALID_CHECKSUM="invalid-checksum",i.CANCELED="canceled",i.INVALID_EVENT_NAME="invalid-event-name",i.INVALID_URL="invalid-url",i.INVALID_DEFAULT_BUCKET="invalid-default-bucket",i.NO_DEFAULT_BUCKET="no-default-bucket",i.CANNOT_SLICE_BLOB="cannot-slice-blob",i.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",i.NO_DOWNLOAD_URL="no-download-url",i.INVALID_ARGUMENT="invalid-argument",i.INVALID_ARGUMENT_COUNT="invalid-argument-count",i.APP_DELETED="app-deleted",i.INVALID_ROOT_OPERATION="invalid-root-operation",i.INVALID_FORMAT="invalid-format",i.INTERNAL_ERROR="internal-error",i.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(at||(at={}));function Cp(i){return"storage/"+i}function Sy(){const i="An unknown error occurred, please check the error payload for server response.";return new dt(at.UNKNOWN,i)}function Xk(i){return new dt(at.OBJECT_NOT_FOUND,"Object '"+i+"' does not exist.")}function Wk(i){return new dt(at.QUOTA_EXCEEDED,"Quota for bucket '"+i+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function Zk(){const i="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dt(at.UNAUTHENTICATED,i)}function Jk(){return new dt(at.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function e4(i){return new dt(at.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")}function $A(){return new dt(at.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KA(){return new dt(at.CANCELED,"User canceled the upload/download.")}function t4(i){return new dt(at.INVALID_URL,"Invalid URL '"+i+"'.")}function n4(i){return new dt(at.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+i+"'.")}function i4(){return new dt(at.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+GA+"' property when initializing the app?")}function QA(){return new dt(at.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function r4(){return new dt(at.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function s4(){return new dt(at.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function a4(i){return new dt(at.UNSUPPORTED_ENVIRONMENT,`${i} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function og(i){return new dt(at.INVALID_ARGUMENT,i)}function YA(){return new dt(at.APP_DELETED,"The Firebase app was deleted.")}function o4(i){return new dt(at.INVALID_ROOT_OPERATION,"The operation '"+i+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nu(i,e){return new dt(at.INVALID_FORMAT,"String does not match format '"+i+"': "+e)}function pu(i){throw new dt(at.INTERNAL_ERROR,"Internal error: "+i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let s;try{s=gn.makeFromUrl(e,t)}catch{return new gn(e,"")}if(s.path==="")return s;throw n4(e)}static makeFromUrl(e,t){let s=null;const o="([A-Za-z0-9.\\-_]+)";function u(fe){fe.path.charAt(fe.path.length-1)==="/"&&(fe.path_=fe.path_.slice(0,-1))}const h="(/(.*))?$",m=new RegExp("^gs://"+o+h,"i"),p={bucket:1,path:3};function g(fe){fe.path_=decodeURIComponent(fe.path)}const _="v[A-Za-z0-9_]+",A=t.replace(/[.]/g,"\\."),T="(/([^?#]*).*)?$",D=new RegExp(`^https?://${A}/${_}/b/${o}/o${T}`,"i"),L={bucket:1,path:3},$=t===FA?"(?:storage.googleapis.com|storage.cloud.google.com)":t,q="([^?#]*)",Y=new RegExp(`^https?://${$}/${o}/${q}`,"i"),ne=[{regex:m,indices:p,postModify:u},{regex:D,indices:L,postModify:g},{regex:Y,indices:{bucket:1,path:2},postModify:g}];for(let fe=0;fe<ne.length;fe++){const ce=ne[fe],Re=ce.regex.exec(e);if(Re){const V=Re[ce.indices.bucket];let R=Re[ce.indices.path];R||(R=""),s=new gn(V,R),ce.postModify(s);break}}if(s==null)throw t4(e);return s}}class l4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(i,e,t){let s=1,o=null,u=null,h=!1,m=0;function p(){return m===2}let g=!1;function _(...q){g||(g=!0,e.apply(null,q))}function A(q){o=setTimeout(()=>{o=null,i(D,p())},q)}function T(){u&&clearTimeout(u)}function D(q,...Y){if(g){T();return}if(q){T(),_.call(null,q,...Y);return}if(p()||h){T(),_.call(null,q,...Y);return}s<64&&(s*=2);let ne;m===1?(m=2,ne=0):ne=(s+Math.random())*1e3,A(ne)}let L=!1;function $(q){L||(L=!0,T(),!g&&(o!==null?(q||(m=2),clearTimeout(o),A(0)):q||(m=1)))}return A(0),u=setTimeout(()=>{h=!0,$(!0)},t),$}function c4(i){i(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(i){return i!==void 0}function f4(i){return typeof i=="function"}function d4(i){return typeof i=="object"&&!Array.isArray(i)}function sd(i){return typeof i=="string"||i instanceof String}function jT(i){return Ry()&&i instanceof Blob}function Ry(){return typeof Blob<"u"}function lg(i,e,t,s){if(s<e)throw og(`Invalid value for '${i}'. Expected ${e} or greater.`);if(s>t)throw og(`Invalid value for '${i}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(i,e,t){let s=e;return t==null&&(s=`https://${e}`),`${t}://${s}/v0${i}`}function XA(i){const e=encodeURIComponent;let t="?";for(const s in i)if(i.hasOwnProperty(s)){const o=e(s)+"="+e(i[s]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ea;(function(i){i[i.NO_ERROR=0]="NO_ERROR",i[i.NETWORK_ERROR=1]="NETWORK_ERROR",i[i.ABORT=2]="ABORT"})(Ea||(Ea={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WA(i,e){const t=i>=500&&i<600,o=[408,429].indexOf(i)!==-1,u=e.indexOf(i)!==-1;return t||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,t,s,o,u,h,m,p,g,_,A,T=!0,D=!1){this.url_=e,this.method_=t,this.headers_=s,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=h,this.callback_=m,this.errorCallback_=p,this.timeout_=g,this.progressCallback_=_,this.connectionFactory_=A,this.retry=T,this.isUsingEmulator=D,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,$)=>{this.resolve_=L,this.reject_=$,this.start_()})}start_(){const e=(s,o)=>{if(o){s(!1,new Hh(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const h=m=>{const p=m.loaded,g=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,g)};this.progressCallback_!==null&&u.addUploadProgressListener(h),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(h),this.pendingConnection_=null;const m=u.getErrorCode()===Ea.NO_ERROR,p=u.getStatus();if(!m||WA(p,this.additionalRetryCodes_)&&this.retry){const _=u.getErrorCode()===Ea.ABORT;s(!1,new Hh(!1,null,_));return}const g=this.successCodes_.indexOf(p)!==-1;s(!0,new Hh(g,u))})},t=(s,o)=>{const u=this.resolve_,h=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());h4(p)?u(p):u()}catch(p){h(p)}else if(m!==null){const p=Sy();p.serverResponse=m.getErrorText(),this.errorCallback_?h(this.errorCallback_(m,p)):h(p)}else if(o.canceled){const p=this.appDelete_?YA():KA();h(p)}else{const p=$A();h(p)}};this.canceled_?t(!1,new Hh(!1,null,!0)):this.backoffId_=u4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&c4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hh{constructor(e,t,s){this.wasSuccessCode=e,this.connection=t,this.canceled=!!s}}function p4(i,e){e!==null&&e.length>0&&(i.Authorization="Firebase "+e)}function g4(i,e){i["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function y4(i,e){e&&(i["X-Firebase-GMPID"]=e)}function _4(i,e){e!==null&&(i["X-Firebase-AppCheck"]=e)}function v4(i,e,t,s,o,u,h=!0,m=!1){const p=XA(i.urlParams),g=i.url+p,_=Object.assign({},i.headers);return y4(_,e),p4(_,t),g4(_,u),_4(_,s),new m4(g,i.method,_,i.body,i.successCodes,i.additionalRetryCodes,i.handler,i.errorHandler,i.timeout,i.progressCallback,o,h,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function T4(...i){const e=E4();if(e!==void 0){const t=new e;for(let s=0;s<i.length;s++)t.append(i[s]);return t.getBlob()}else{if(Ry())return new Blob(i);throw new dt(at.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function b4(i,e,t){return i.webkitSlice?i.webkitSlice(e,t):i.mozSlice?i.mozSlice(e,t):i.slice?i.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A4(i){if(typeof atob>"u")throw a4("base-64");return atob(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Np{constructor(e,t){this.data=e,this.contentType=t||null}}function w4(i,e){switch(i){case xi.RAW:return new Np(ZA(e));case xi.BASE64:case xi.BASE64URL:return new Np(JA(i,e));case xi.DATA_URL:return new Np(R4(e),I4(e))}throw Sy()}function ZA(i){const e=[];for(let t=0;t<i.length;t++){let s=i.charCodeAt(t);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(t<i.length-1&&(i.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const u=s,h=i.charCodeAt(++t);s=65536|(u&1023)<<10|h&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function S4(i){let e;try{e=decodeURIComponent(i)}catch{throw Nu(xi.DATA_URL,"Malformed data URL.")}return ZA(e)}function JA(i,e){switch(i){case xi.BASE64:{const o=e.indexOf("-")!==-1,u=e.indexOf("_")!==-1;if(o||u)throw Nu(i,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case xi.BASE64URL:{const o=e.indexOf("+")!==-1,u=e.indexOf("/")!==-1;if(o||u)throw Nu(i,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=A4(e)}catch(o){throw o.message.includes("polyfill")?o:Nu(i,"Invalid character found")}const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s}class ew{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Nu(xi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=t[1]||null;s!=null&&(this.base64=C4(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function R4(i){const e=new ew(i);return e.base64?JA(xi.BASE64,e.rest):S4(e.rest)}function I4(i){return new ew(i).contentType}function C4(i,e){return i.length>=e.length?i.substring(i.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,t){let s=0,o="";jT(e)?(this.data_=e,s=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(jT(this.data_)){const s=this.data_,o=b4(s,e,t);return o===null?null:new _r(o)}else{const s=new Uint8Array(this.data_.buffer,e,t-e);return new _r(s,!0)}}static getBlob(...e){if(Ry()){const t=e.map(s=>s instanceof _r?s.data_:s);return new _r(T4.apply(null,t))}else{const t=e.map(h=>sd(h)?w4(xi.RAW,h).data:h.data_);let s=0;t.forEach(h=>{s+=h.byteLength});const o=new Uint8Array(s);let u=0;return t.forEach(h=>{for(let m=0;m<h.length;m++)o[u++]=h[m]}),new _r(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iy(i){let e;try{e=JSON.parse(i)}catch{return null}return d4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N4(i){if(i.length===0)return null;const e=i.lastIndexOf("/");return e===-1?"":i.slice(0,e)}function D4(i,e){const t=e.split("/").filter(s=>s.length>0).join("/");return i.length===0?t:i+"/"+t}function tw(i){const e=i.lastIndexOf("/",i.length-2);return e===-1?i:i.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x4(i,e){return e}class dn{constructor(e,t,s,o){this.server=e,this.local=t||e,this.writable=!!s,this.xform=o||x4}}let Fh=null;function O4(i){return!sd(i)||i.length<2?i:tw(i)}function Cy(){if(Fh)return Fh;const i=[];i.push(new dn("bucket")),i.push(new dn("generation")),i.push(new dn("metageneration")),i.push(new dn("name","fullPath",!0));function e(u,h){return O4(h)}const t=new dn("name");t.xform=e,i.push(t);function s(u,h){return h!==void 0?Number(h):h}const o=new dn("size");return o.xform=s,i.push(o),i.push(new dn("timeCreated")),i.push(new dn("updated")),i.push(new dn("md5Hash",null,!0)),i.push(new dn("cacheControl",null,!0)),i.push(new dn("contentDisposition",null,!0)),i.push(new dn("contentEncoding",null,!0)),i.push(new dn("contentLanguage",null,!0)),i.push(new dn("contentType",null,!0)),i.push(new dn("metadata","customMetadata",!0)),Fh=i,Fh}function k4(i,e){function t(){const s=i.bucket,o=i.fullPath,u=new gn(s,o);return e._makeStorageReference(u)}Object.defineProperty(i,"ref",{get:t})}function M4(i,e,t){const s={};s.type="file";const o=t.length;for(let u=0;u<o;u++){const h=t[u];s[h.local]=h.xform(s,e[h.server])}return k4(s,i),s}function nw(i,e,t){const s=Iy(e);return s===null?null:M4(i,s,t)}function P4(i,e,t,s){const o=Iy(e);if(o===null||!sd(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const h=encodeURIComponent;return u.split(",").map(g=>{const _=i.bucket,A=i.fullPath,T="/b/"+h(_)+"/o/"+h(A),D=Oa(T,t,s),L=XA({alt:"media",token:g});return D+L})[0]}function iw(i,e){const t={},s=e.length;for(let o=0;o<s;o++){const u=e[o];u.writable&&(t[u.server]=i[u.local])}return JSON.stringify(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="prefixes",BT="items";function V4(i,e,t){const s={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[zT])for(const o of t[zT]){const u=o.replace(/\/$/,""),h=i._makeStorageReference(new gn(e,u));s.prefixes.push(h)}if(t[BT])for(const o of t[BT]){const u=i._makeStorageReference(new gn(e,o.name));s.items.push(u)}return s}function L4(i,e,t){const s=Iy(t);return s===null?null:V4(i,e,s)}class Ns{constructor(e,t,s,o){this.url=e,this.method=t,this.handler=s,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(i){if(!i)throw Sy()}function Ny(i,e){function t(s,o){const u=nw(i,o,e);return zi(u!==null),u}return t}function U4(i,e){function t(s,o){const u=L4(i,e,o);return zi(u!==null),u}return t}function j4(i,e){function t(s,o){const u=nw(i,o,e);return zi(u!==null),P4(u,o,i.host,i._protocol)}return t}function il(i){function e(t,s){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=Jk():o=Zk():t.getStatus()===402?o=Wk(i.bucket):t.getStatus()===403?o=e4(i.path):o=s,o.status=t.getStatus(),o.serverResponse=s.serverResponse,o}return e}function Dy(i){const e=il(i);function t(s,o){let u=e(s,o);return s.getStatus()===404&&(u=Xk(i.path)),u.serverResponse=o.serverResponse,u}return t}function z4(i,e,t){const s=e.fullServerUrl(),o=Oa(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Ns(o,u,Ny(i,t),h);return m.errorHandler=Dy(e),m}function B4(i,e,t,s,o){const u={};e.isRoot?u.prefix="":u.prefix=e.path+"/",t.length>0&&(u.delimiter=t),s&&(u.pageToken=s),o&&(u.maxResults=o);const h=e.bucketOnlyServerUrl(),m=Oa(h,i.host,i._protocol),p="GET",g=i.maxOperationRetryTime,_=new Ns(m,p,U4(i,e.bucket),g);return _.urlParams=u,_.errorHandler=il(e),_}function q4(i,e,t){const s=e.fullServerUrl(),o=Oa(s,i.host,i._protocol),u="GET",h=i.maxOperationRetryTime,m=new Ns(o,u,j4(i,t),h);return m.errorHandler=Dy(e),m}function H4(i,e){const t=e.fullServerUrl(),s=Oa(t,i.host,i._protocol),o="DELETE",u=i.maxOperationRetryTime;function h(p,g){}const m=new Ns(s,o,h,u);return m.successCodes=[200,204],m.errorHandler=Dy(e),m}function F4(i,e){return i&&i.contentType||e&&e.type()||"application/octet-stream"}function rw(i,e,t){const s=Object.assign({},t);return s.fullPath=i.path,s.size=e.size(),s.contentType||(s.contentType=F4(null,e)),s}function sw(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h={"X-Goog-Upload-Protocol":"multipart"};function m(){let ne="";for(let fe=0;fe<2;fe++)ne=ne+Math.random().toString().slice(2);return ne}const p=m();h["Content-Type"]="multipart/related; boundary="+p;const g=rw(e,s,o),_=iw(g,t),A="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+p+`\r
Content-Type: `+g.contentType+`\r
\r
`,T=`\r
--`+p+"--",D=_r.getBlob(A,s,T);if(D===null)throw QA();const L={name:g.fullPath},$=Oa(u,i.host,i._protocol),q="POST",Y=i.maxUploadRetryTime,se=new Ns($,q,Ny(i,t),Y);return se.urlParams=L,se.headers=h,se.body=D.uploadData(),se.errorHandler=il(e),se}class Sf{constructor(e,t,s,o){this.current=e,this.total=t,this.finalized=!!s,this.metadata=o||null}}function xy(i,e){let t=null;try{t=i.getResponseHeader("X-Goog-Upload-Status")}catch{zi(!1)}return zi(!!t&&(e||["active"]).indexOf(t)!==-1),t}function G4(i,e,t,s,o){const u=e.bucketOnlyServerUrl(),h=rw(e,s,o),m={name:h.fullPath},p=Oa(u,i.host,i._protocol),g="POST",_={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":h.contentType,"Content-Type":"application/json; charset=utf-8"},A=iw(h,t),T=i.maxUploadRetryTime;function D($){xy($);let q;try{q=$.getResponseHeader("X-Goog-Upload-URL")}catch{zi(!1)}return zi(sd(q)),q}const L=new Ns(p,g,D,T);return L.urlParams=m,L.headers=_,L.body=A,L.errorHandler=il(e),L}function $4(i,e,t,s){const o={"X-Goog-Upload-Command":"query"};function u(g){const _=xy(g,["active","final"]);let A=null;try{A=g.getResponseHeader("X-Goog-Upload-Size-Received")}catch{zi(!1)}A||zi(!1);const T=Number(A);return zi(!isNaN(T)),new Sf(T,s.size(),_==="final")}const h="POST",m=i.maxUploadRetryTime,p=new Ns(t,h,u,m);return p.headers=o,p.errorHandler=il(e),p}const qT=256*1024;function K4(i,e,t,s,o,u,h,m){const p=new Sf(0,0);if(h?(p.current=h.current,p.total=h.total):(p.current=0,p.total=s.size()),s.size()!==p.total)throw r4();const g=p.total-p.current;let _=g;o>0&&(_=Math.min(_,o));const A=p.current,T=A+_;let D="";_===0?D="finalize":g===_?D="upload, finalize":D="upload";const L={"X-Goog-Upload-Command":D,"X-Goog-Upload-Offset":`${p.current}`},$=s.slice(A,T);if($===null)throw QA();function q(fe,ce){const Re=xy(fe,["active","final"]),V=p.current+_,R=s.size();let I;return Re==="final"?I=Ny(e,u)(fe,ce):I=null,new Sf(V,R,Re==="final",I)}const Y="POST",se=e.maxUploadRetryTime,ne=new Ns(t,Y,q,se);return ne.headers=L,ne.body=$.uploadData(),ne.progressCallback=m||null,ne.errorHandler=il(i),ne}const bn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Dp(i){switch(i){case"running":case"pausing":case"canceling":return bn.RUNNING;case"paused":return bn.PAUSED;case"success":return bn.SUCCESS;case"canceled":return bn.CANCELED;case"error":return bn.ERROR;default:return bn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,t,s){if(f4(e)||t!=null||s!=null)this.next=e,this.error=t??void 0,this.complete=s??void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(i){return(...e)=>{Promise.resolve().then(()=>i(...e))}}class Y4{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ea.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ea.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ea.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,s,o,u){if(this.sent_)throw pu("cannot .send() more than once");if(Nr(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),u!==void 0)for(const h in u)u.hasOwnProperty(h)&&this.xhr_.setRequestHeader(h,u[h].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw pu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class X4 extends Y4{initXhr(){this.xhr_.responseType="text"}}function vr(){return new X4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,t,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=s,this._mappings=Cy(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=o=>{if(this._request=void 0,this._chunkMultiplier=1,o._codeEquals(at.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const u=this.isExponentialBackoffExpired();if(WA(o.status,[]))if(u)o=$A();else{this.sleepTime=Math.max(this.sleepTime*2,Yk),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=o,this._transition("error")}},this._metadataErrorHandler=o=>{this._request=void 0,o._codeEquals(at.CANCELED)?this.completeTransitions_():(this._error=o,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((o,u)=>{this._resolve=o,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,s])=>{switch(this._state){case"running":e(t,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{const s=G4(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,vr,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,s)=>{const o=$4(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(o,vr,t,s);this._request=u,u.getPromise().then(h=>{h=h,this._request=void 0,this._updateProgress(h.current),this._needToFetchStatus=!1,h.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=qT*this._chunkMultiplier,t=new Sf(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((o,u)=>{let h;try{h=K4(this._ref._location,this._ref.storage,s,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(p){this._error=p,this._transition("error");return}const m=this._ref.storage._makeRequest(h,vr,o,u,!1);this._request=m,m.getPromise().then(p=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(p.current),p.finalized?(this._metadata=p.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){qT*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const s=z4(this._ref.storage,this._ref._location,this._mappings),o=this._ref.storage._makeRequest(s,vr,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const s=sw(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),o=this._ref.storage._makeRequest(s,vr,e,t);this._request=o,o.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=KA(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=Dp(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,s,o){const u=new Q4(t||void 0,s||void 0,o||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(Dp(this._state)){case bn.SUCCESS:Io(this._resolve.bind(null,this.snapshot))();break;case bn.CANCELED:case bn.ERROR:const t=this._reject;Io(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(Dp(this._state)){case bn.RUNNING:case bn.PAUSED:e.next&&Io(e.next.bind(e,this.snapshot))();break;case bn.SUCCESS:e.complete&&Io(e.complete.bind(e))();break;case bn.CANCELED:case bn.ERROR:e.error&&Io(e.error.bind(e,this._error))();break;default:e.error&&Io(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,t){this._service=e,t instanceof gn?this._location=t:this._location=gn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ia(e,t)}get root(){const e=new gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tw(this._location.path)}get storage(){return this._service}get parent(){const e=N4(this._location.path);if(e===null)return null;const t=new gn(this._location.bucket,e);return new Ia(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw o4(e)}}function Z4(i,e,t){i._throwIfRoot("uploadBytes");const s=sw(i.storage,i._location,Cy(),new _r(e,!0),t);return i.storage.makeRequestWithTokens(s,vr).then(o=>({metadata:o,ref:i}))}function J4(i,e,t){return i._throwIfRoot("uploadBytesResumable"),new W4(i,new _r(e),t)}function eM(i,e){e!=null&&typeof e.maxResults=="number"&&lg("options.maxResults",1,1e3,e.maxResults);const t=e||{},s=B4(i.storage,i._location,"/",t.pageToken,t.maxResults);return i.storage.makeRequestWithTokens(s,vr)}function tM(i){i._throwIfRoot("getDownloadURL");const e=q4(i.storage,i._location,Cy());return i.storage.makeRequestWithTokens(e,vr).then(t=>{if(t===null)throw s4();return t})}function nM(i){i._throwIfRoot("deleteObject");const e=H4(i.storage,i._location);return i.storage.makeRequestWithTokens(e,vr)}function iM(i,e){const t=D4(i._location.path,e),s=new gn(i._location.bucket,t);return new Ia(i.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rM(i){return/^[A-Za-z]+:\/\//.test(i)}function sM(i,e){return new Ia(i,e)}function aw(i,e){if(i instanceof Oy){const t=i;if(t._bucket==null)throw i4();const s=new Ia(t,t._bucket);return e!=null?aw(s,e):s}else return e!==void 0?iM(i,e):i}function aM(i,e){if(e&&rM(e)){if(i instanceof Oy)return sM(i,e);throw og("To use ref(service, url), the first argument must be a Storage instance.")}else return aw(i,e)}function HT(i,e){const t=e?.[GA];return t==null?null:gn.makeFromBucketSpec(t,i)}function oM(i,e,t,s={}){i.host=`${e}:${t}`;const o=Nr(e);o&&(kf(`https://${i.host}/b`),Ag("Storage",!0)),i._isUsingEmulator=!0,i._protocol=o?"https":"http";const{mockUserToken:u}=s;u&&(i._overrideAuthToken=typeof u=="string"?u:w1(u,i.app.options.projectId))}class Oy{constructor(e,t,s,o,u,h=!1){this.app=e,this._authProvider=t,this._appCheckProvider=s,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=h,this._bucket=null,this._host=FA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Kk,this._maxUploadRetryTime=Qk,this._requests=new Set,o!=null?this._bucket=gn.makeFromBucketSpec(o,this._host):this._bucket=HT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gn.makeFromBucketSpec(this._url,e):this._bucket=HT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){lg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){lg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(pn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ia(this,e)}_makeRequest(e,t,s,o,u=!0){if(this._deleted)return new l4(YA());{const h=v4(e,this._appId,s,o,t,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(h),h.getPromise().then(()=>this._requests.delete(h),()=>this._requests.delete(h)),h}}async makeRequestWithTokens(e,t){const[s,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,s,o).getPromise()}}const FT="@firebase/storage",GT="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow="storage";function B6(i,e,t){return i=Ke(i),Z4(i,e,t)}function q6(i,e,t){return i=Ke(i),J4(i,e,t)}function H6(i,e){return i=Ke(i),eM(i,e)}function F6(i){return i=Ke(i),tM(i)}function G6(i){return i=Ke(i),nM(i)}function $6(i,e){return i=Ke(i),aM(i,e)}function lM(i=Mf(),e){i=Ke(i);const s=Xu(i,ow).getImmediate({identifier:e}),o=T1("storage");return o&&uM(s,...o),s}function uM(i,e,t,s={}){oM(i,e,t,s)}function cM(i,{instanceIdentifier:e}){const t=i.getProvider("app").getImmediate(),s=i.getProvider("auth-internal"),o=i.getProvider("app-check-internal");return new Oy(t,s,o,e,Na)}function hM(){ba(new ys(ow,cM,"PUBLIC").setMultipleInstances(!0)),Oi(FT,GT,""),Oi(FT,GT,"esm2020")}hM();const fM={apiKey:"AIzaSyDpOFCB3QzPbgzfroeoi8oxgj7rF5hmyHw",authDomain:"styling-admin.firebaseapp.com",projectId:"styling-admin",storageBucket:"styling-admin.firebasestorage.app",messagingSenderId:"390526657916",appId:"1:390526657916:web:2756988e13f45b946070f9"},Rf=nC().length?Mf():I1(fM),Xt=ID(Rf),dM="true".toLowerCase()==="true",ug=dM?Ck(Rf,{experimentalForceLongPolling:!0}):Nk(Rf),K6=lM(Rf);function lw(){return new Promise(i=>{const e=ec(Xt,t=>{e(),i(t||null)},()=>{e(),i(null)})})}lw();let yr=null,ni=["fan"],Au=0,gu=null,$T=0;const mM=300*1e3,pM=60*1e3;function gM(i){return i?i.role==="admin"||i.admin?["admin","creator"]:i.role==="creator"?["creator"]:["fan"]:["fan"]}function uw(i=[]){return i.includes("admin")?"admin":i.includes("creator")?"creator":"fan"}function yM(){return{claims:yr,roles:ni,ts:Au}}async function cw({force:i=!1}={}){const e=Date.now();if(e<$T&&yr)return ni;const t=e-Au<mM;return!i&&t&&yr?ni:gu||(gu=(async()=>{const s=Xt.currentUser;if(!s)return yr=null,ni=["fan"],Au=Date.now(),ni;try{return yr=(await s.getIdTokenResult())?.claims||null,ni=gM(yr),Au=Date.now(),ni}catch(o){const u=o?.code||"";return(u==="auth/quota-exceeded"||u==="auth/network-request-failed")&&($T=Date.now()+pM,yr)||yr||(yr=null,ni=["fan"],Au=Date.now()),ni}finally{gu=null}})(),gu)}const hw=x.createContext({user:null,roles:["guest"],role:"guest",loading:!0,refresh:async()=>{}});function _M({children:i}){const[e,t]=x.useState(null),[s,o]=x.useState(["guest"]),[u,h]=x.useState(!0),m=async(g=Xt.currentUser)=>{const _=g?await cw():["guest"];o(_)};x.useEffect(()=>{let g=ec(Xt,async _=>{t(_),await m(_),h(!1)});return lw().finally(()=>h(!1)),()=>g&&g()},[]);const p={user:e,roles:s,role:uw(s),loading:u,refresh:m};return S.jsx(hw.Provider,{value:p,children:i})}const ky=()=>x.useContext(hw);function xp({children:i}){const{user:e,loading:t}=ky();return t?null:e?i:S.jsx(Oo,{to:"/login",replace:!0})}function vM({children:i}){const{user:e,loading:t}=ky();return t?null:e?S.jsx(Oo,{to:"/home",replace:!0}):i}const My="debug:roleOverride";function EM(){try{return localStorage.getItem(My)||null}catch{return null}}function fw(i){try{localStorage.setItem(My,i)}catch{}window.dispatchEvent(new CustomEvent("role-override",{detail:i}))}function dw(){try{localStorage.removeItem(My)}catch{}window.dispatchEvent(new CustomEvent("role-override",{detail:null}))}function mw(){const[i,e]=x.useState(!0),[t,s]=x.useState(()=>yM().roles||["fan"]),[o,u]=x.useState(!1);x.useEffect(()=>{const _=ec(Xt,async A=>{if(!A){s(["fan"]),u(!1),e(!1);return}const T=await cw();s(T),e(!1);try{const D=Af(ug,`users/${A.uid}/settings/profile`);return Fk(D,L=>{u(!!L.data()?.fanEnabled)})}catch{u(!1)}});return()=>_&&_()},[]);const h=uw(t),m=x.useMemo(()=>h==="admin"?["fan","creator","admin"]:h==="creator"?o?["fan","creator"]:["creator"]:[],[h,o]),[p,g]=x.useState(h);return x.useEffect(()=>{const _=()=>{const T=EM();g(T&&m.includes(T)?T:h)};_();const A=()=>_();return window.addEventListener("storage",A),window.addEventListener("role-override",A),()=>{window.removeEventListener("storage",A),window.removeEventListener("role-override",A)}},[h,m]),{loading:i,role:h,isRealAdmin:h==="admin",effectiveRole:p,isAdmin:p==="admin",isCreator:p==="admin"||p==="creator",fanEnabled:o,roleOptions:m,setRoleOverride:fw,clearRoleOverride:dw}}function KT({allow:i=[],children:e}){const{loading:t,effectiveRole:s}=mw();return ln(),t?null:i.includes(s)?e:S.jsx("section",{className:"container",style:{padding:16},children:S.jsxs("div",{className:"dashboard-card",children:[S.jsx("h2",{style:{marginTop:0},children:"Unauthorized"}),S.jsx("p",{children:"You dont have access to this page."})]})})}let TM={data:""},bM=i=>typeof window=="object"?((i?i.querySelector("#_goober"):window._goober)||Object.assign((i||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:i||TM,AM=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,wM=/\/\*[^]*?\*\/|  +/g,QT=/\n+/g,cs=(i,e)=>{let t="",s="",o="";for(let u in i){let h=i[u];u[0]=="@"?u[1]=="i"?t=u+" "+h+";":s+=u[1]=="f"?cs(h,u):u+"{"+cs(h,u[1]=="k"?"":e)+"}":typeof h=="object"?s+=cs(h,e?e.replace(/([^,])+/g,m=>u.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,p=>/&/.test(p)?p.replace(/&/g,m):m?m+" "+p:p)):u):h!=null&&(u=/^--/.test(u)?u:u.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=cs.p?cs.p(u,h):u+":"+h+";")}return t+(e&&o?e+"{"+o+"}":o)+s},gr={},pw=i=>{if(typeof i=="object"){let e="";for(let t in i)e+=t+pw(i[t]);return e}return i},SM=(i,e,t,s,o)=>{let u=pw(i),h=gr[u]||(gr[u]=(p=>{let g=0,_=11;for(;g<p.length;)_=101*_+p.charCodeAt(g++)>>>0;return"go"+_})(u));if(!gr[h]){let p=u!==i?i:(g=>{let _,A,T=[{}];for(;_=AM.exec(g.replace(wM,""));)_[4]?T.shift():_[3]?(A=_[3].replace(QT," ").trim(),T.unshift(T[0][A]=T[0][A]||{})):T[0][_[1]]=_[2].replace(QT," ").trim();return T[0]})(i);gr[h]=cs(o?{["@keyframes "+h]:p}:p,t?"":"."+h)}let m=t&&gr.g?gr.g:null;return t&&(gr.g=gr[h]),((p,g,_,A)=>{A?g.data=g.data.replace(A,p):g.data.indexOf(p)===-1&&(g.data=_?p+g.data:g.data+p)})(gr[h],e,s,m),h},RM=(i,e,t)=>i.reduce((s,o,u)=>{let h=e[u];if(h&&h.call){let m=h(t),p=m&&m.props&&m.props.className||/^go/.test(m)&&m;h=p?"."+p:m&&typeof m=="object"?m.props?"":cs(m,""):m===!1?"":m}return s+o+(h??"")},"");function ad(i){let e=this||{},t=i.call?i(e.p):i;return SM(t.unshift?t.raw?RM(t,[].slice.call(arguments,1),e.p):t.reduce((s,o)=>Object.assign(s,o&&o.call?o(e.p):o),{}):t,bM(e.target),e.g,e.o,e.k)}let gw,cg,hg;ad.bind({g:1});let Cr=ad.bind({k:1});function IM(i,e,t,s){cs.p=e,gw=i,cg=t,hg=s}function Ds(i,e){let t=this||{};return function(){let s=arguments;function o(u,h){let m=Object.assign({},u),p=m.className||o.className;t.p=Object.assign({theme:cg&&cg()},m),t.o=/ *go\d+/.test(p),m.className=ad.apply(t,s)+(p?" "+p:"");let g=i;return i[0]&&(g=m.as||i,delete m.as),hg&&g[0]&&hg(m),gw(g,m)}return o}}var CM=i=>typeof i=="function",If=(i,e)=>CM(i)?i(e):i,NM=(()=>{let i=0;return()=>(++i).toString()})(),yw=(()=>{let i;return()=>{if(i===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");i=!e||e.matches}return i}})(),DM=20,_w=(i,e)=>{switch(e.type){case 0:return{...i,toasts:[e.toast,...i.toasts].slice(0,DM)};case 1:return{...i,toasts:i.toasts.map(u=>u.id===e.toast.id?{...u,...e.toast}:u)};case 2:let{toast:t}=e;return _w(i,{type:i.toasts.find(u=>u.id===t.id)?1:0,toast:t});case 3:let{toastId:s}=e;return{...i,toasts:i.toasts.map(u=>u.id===s||s===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return e.toastId===void 0?{...i,toasts:[]}:{...i,toasts:i.toasts.filter(u=>u.id!==e.toastId)};case 5:return{...i,pausedAt:e.time};case 6:let o=e.time-(i.pausedAt||0);return{...i,pausedAt:void 0,toasts:i.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+o}))}}},sf=[],ya={toasts:[],pausedAt:void 0},ka=i=>{ya=_w(ya,i),sf.forEach(e=>{e(ya)})},xM={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},OM=(i={})=>{let[e,t]=x.useState(ya),s=x.useRef(ya);x.useEffect(()=>(s.current!==ya&&t(ya),sf.push(t),()=>{let u=sf.indexOf(t);u>-1&&sf.splice(u,1)}),[]);let o=e.toasts.map(u=>{var h,m,p;return{...i,...i[u.type],...u,removeDelay:u.removeDelay||((h=i[u.type])==null?void 0:h.removeDelay)||i?.removeDelay,duration:u.duration||((m=i[u.type])==null?void 0:m.duration)||i?.duration||xM[u.type],style:{...i.style,...(p=i[u.type])==null?void 0:p.style,...u.style}}});return{...e,toasts:o}},kM=(i,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:i,pauseDuration:0,...t,id:t?.id||NM()}),hc=i=>(e,t)=>{let s=kM(e,i,t);return ka({type:2,toast:s}),s.id},mn=(i,e)=>hc("blank")(i,e);mn.error=hc("error");mn.success=hc("success");mn.loading=hc("loading");mn.custom=hc("custom");mn.dismiss=i=>{ka({type:3,toastId:i})};mn.remove=i=>ka({type:4,toastId:i});mn.promise=(i,e,t)=>{let s=mn.loading(e.loading,{...t,...t?.loading});return typeof i=="function"&&(i=i()),i.then(o=>{let u=e.success?If(e.success,o):void 0;return u?mn.success(u,{id:s,...t,...t?.success}):mn.dismiss(s),o}).catch(o=>{let u=e.error?If(e.error,o):void 0;u?mn.error(u,{id:s,...t,...t?.error}):mn.dismiss(s)}),i};var MM=(i,e)=>{ka({type:1,toast:{id:i,height:e}})},PM=()=>{ka({type:5,time:Date.now()})},Du=new Map,VM=1e3,LM=(i,e=VM)=>{if(Du.has(i))return;let t=setTimeout(()=>{Du.delete(i),ka({type:4,toastId:i})},e);Du.set(i,t)},UM=i=>{let{toasts:e,pausedAt:t}=OM(i);x.useEffect(()=>{if(t)return;let u=Date.now(),h=e.map(m=>{if(m.duration===1/0)return;let p=(m.duration||0)+m.pauseDuration-(u-m.createdAt);if(p<0){m.visible&&mn.dismiss(m.id);return}return setTimeout(()=>mn.dismiss(m.id),p)});return()=>{h.forEach(m=>m&&clearTimeout(m))}},[e,t]);let s=x.useCallback(()=>{t&&ka({type:6,time:Date.now()})},[t]),o=x.useCallback((u,h)=>{let{reverseOrder:m=!1,gutter:p=8,defaultPosition:g}=h||{},_=e.filter(D=>(D.position||g)===(u.position||g)&&D.height),A=_.findIndex(D=>D.id===u.id),T=_.filter((D,L)=>L<A&&D.visible).length;return _.filter(D=>D.visible).slice(...m?[T+1]:[0,T]).reduce((D,L)=>D+(L.height||0)+p,0)},[e]);return x.useEffect(()=>{e.forEach(u=>{if(u.dismissed)LM(u.id,u.removeDelay);else{let h=Du.get(u.id);h&&(clearTimeout(h),Du.delete(u.id))}})},[e]),{toasts:e,handlers:{updateHeight:MM,startPause:PM,endPause:s,calculateOffset:o}}},jM=Cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zM=Cr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,BM=Cr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qM=Ds("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${jM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zM} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${i=>i.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${BM} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,HM=Cr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,FM=Ds("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${i=>i.secondary||"#e0e0e0"};
  border-right-color: ${i=>i.primary||"#616161"};
  animation: ${HM} 1s linear infinite;
`,GM=Cr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,$M=Cr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,KM=Ds("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${i=>i.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${GM} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${$M} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${i=>i.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,QM=Ds("div")`
  position: absolute;
`,YM=Ds("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,XM=Cr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WM=Ds("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${XM} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,ZM=({toast:i})=>{let{icon:e,type:t,iconTheme:s}=i;return e!==void 0?typeof e=="string"?x.createElement(WM,null,e):e:t==="blank"?null:x.createElement(YM,null,x.createElement(FM,{...s}),t!=="loading"&&x.createElement(QM,null,t==="error"?x.createElement(qM,{...s}):x.createElement(KM,{...s})))},JM=i=>`
0% {transform: translate3d(0,${i*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,eP=i=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${i*-150}%,-1px) scale(.6); opacity:0;}
`,tP="0%{opacity:0;} 100%{opacity:1;}",nP="0%{opacity:1;} 100%{opacity:0;}",iP=Ds("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,rP=Ds("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sP=(i,e)=>{let t=i.includes("top")?1:-1,[s,o]=yw()?[tP,nP]:[JM(t),eP(t)];return{animation:e?`${Cr(s)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Cr(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},aP=x.memo(({toast:i,position:e,style:t,children:s})=>{let o=i.height?sP(i.position||e||"top-center",i.visible):{opacity:0},u=x.createElement(ZM,{toast:i}),h=x.createElement(rP,{...i.ariaProps},If(i.message,i));return x.createElement(iP,{className:i.className,style:{...o,...t,...i.style}},typeof s=="function"?s({icon:u,message:h}):x.createElement(x.Fragment,null,u,h))});IM(x.createElement);var oP=({id:i,className:e,style:t,onHeightUpdate:s,children:o})=>{let u=x.useCallback(h=>{if(h){let m=()=>{let p=h.getBoundingClientRect().height;s(i,p)};m(),new MutationObserver(m).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[i,s]);return x.createElement("div",{ref:u,className:e,style:t},o)},lP=(i,e)=>{let t=i.includes("top"),s=t?{top:0}:{bottom:0},o=i.includes("center")?{justifyContent:"center"}:i.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:yw()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...s,...o}},uP=ad`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gh=16,cP=({reverseOrder:i,position:e="top-center",toastOptions:t,gutter:s,children:o,containerStyle:u,containerClassName:h})=>{let{toasts:m,handlers:p}=UM(t);return x.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:Gh,left:Gh,right:Gh,bottom:Gh,pointerEvents:"none",...u},className:h,onMouseEnter:p.startPause,onMouseLeave:p.endPause},m.map(g=>{let _=g.position||e,A=p.calculateOffset(g,{reverseOrder:i,gutter:s,defaultPosition:e}),T=lP(_,A);return x.createElement(oP,{id:g.id,key:g.id,onHeightUpdate:p.updateHeight,className:g.visible?uP:"",style:T},g.type==="custom"?If(g.message,g):o?o(g):x.createElement(aP,{toast:g,position:_}))}))},Co=mn;function hP(){const i=ln(),e=Ca(),t=x.useMemo(()=>({"/home":{label:" New",to:"/upload/closet"},"/":{label:" New",to:"/upload/closet"},"/closet":{label:" Add Item",to:"/upload/closet"},"/voice":{label:" New Voice",to:"/upload/voice"},"/episodes":{label:" New Episode",to:"/upload/episodes"},"/meta":{label:"Open Settings",to:"/settings"},"/manage-panels":{label:"Manage Panels",to:"/manage-panels"}}),[]),s=i.pathname.toLowerCase(),u=(Object.entries(t).find(([h])=>s===h)||Object.entries(t).find(([h])=>s.startsWith(h))||Object.entries(t).find(([h])=>h==="/home"))?.[1]??{label:" New",to:"/upload/closet"};return{label:u.label,onClick:()=>e(u.to)}}function fP(i="themeMode"){const e=()=>{try{return localStorage.getItem(i)||"light"}catch{return"light"}},[t,s]=x.useState(e());return x.useEffect(()=>{const o=h=>s(h?.detail?.mode||e()),u=h=>{h.key===i&&s(h.newValue||"light")};return window.addEventListener("themechange",o),window.addEventListener("storage",u),()=>{window.removeEventListener("themechange",o),window.removeEventListener("storage",u)}},[]),t}const vw="theme";function Cf(){try{return localStorage.getItem(vw)||"auto"}catch{return"auto"}}function dP(i){return i!=="auto"?i:window.matchMedia?.("(prefers-color-scheme: dark)")?.matches?"dark":"light"}function fg(i){const e=i||Cf(),t=dP(e),s=document.documentElement,o=document.body;s.setAttribute("data-theme",t),s.classList.toggle("light",t==="light"),s.classList.toggle("dark",t==="dark"),o.classList.toggle("light",t==="light"),o.classList.toggle("dark",t==="dark");try{window.dispatchEvent(new CustomEvent("themechange",{detail:{mode:e,effective:t}}))}catch{}}function mP(i){try{localStorage.setItem(vw,i)}catch{}fg(i)}function pP(){fg(Cf());const i=window.matchMedia("(prefers-color-scheme: dark)"),e=()=>{Cf()==="auto"&&fg()};i.addEventListener?i.addEventListener("change",e):i.addListener(e)}const Uo={name:"greetingName",last:"lastLoginAt",email:"authEmail",display:"authDisplayName"};function gP(){const i=localStorage;return(i.getItem(Uo.name)||"").trim()||(i.getItem(Uo.display)||"").trim()||(i.getItem(Uo.email)||"").split("@")[0]||"Bestie"}function yP(i){try{localStorage.setItem(Uo.name,i.trim())}catch{}}function _P(){return!!localStorage.getItem(Uo.last)}function vP(){try{localStorage.setItem(Uo.last,new Date().toISOString())}catch{}}function YT(){const i=gP();return _P()?`Bestie, ${i}, Welcome Back!`:`Bestie, ${i}, Welcome!`}const EP={menu:"M3 6h18M3 12h18M3 18h18",search:"M11 19a8 8 0 1 1 5.657-2.343L21 21",bell:"M18 8a6 6 0 10-12 0c0 7-3 7-3 7h18s-3 0-3-7M13.73 21a2 2 0 0 1-3.46 0",user:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2M16 7a4 4 0 1 1-8 0 4 4 0 0 1 8 0",sun:"M12 4v2m0 12v2m8-8h-2M6 12H4m12.95 6.95-1.41-1.41M6.46 6.46 5.05 5.05m12.9 0-1.41 1.41M6.46 17.54 5.05 18.95M12 8a4 4 0 1 1 0 8 4 4 0 0 1 0-8",moon:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z","sun-moon":"M12 3v2m0 14v2m9-9h-2M5 12H3m12.95 6.95-1.41-1.41M6.46 6.46 5.05 5.05M17 12a5 5 0 1 1-10 0 5 5 0 0 1 10 0z"};function Ta({name:i,size:e=18,stroke:t="currentColor",...s}){const o=EP[i];return o?S.jsx("svg",{width:e,height:e,viewBox:"0 0 24 24",stroke:t,fill:"none",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round","aria-hidden":"true",focusable:"false",...s,children:S.jsx("path",{d:o})}):null}function XT({q:i,pending:e,inputRef:t,onChange:s,onSubmit:o}){return S.jsxs("form",{className:`searchbar ${e?"is-pending":""}`,onSubmit:o,role:"search","aria-label":"Site search",children:[S.jsx("span",{className:"search-ico",children:S.jsx(Ta,{name:"search"})}),S.jsx("input",{ref:t,type:"search",placeholder:"Search closet, voice, episodes",value:i,onChange:u=>s(u.target.value)}),!!i&&S.jsx("button",{type:"button",className:"clear-btn","aria-label":"Clear search",onClick:()=>{s(""),t.current?.focus()},children:""}),e&&S.jsx("span",{className:"spinner","aria-hidden":"true"})]})}function TP({status:i,pct:e}){return i?S.jsxs("div",{className:"status-pill","aria-live":"polite",children:[S.jsx("span",{className:"status-dot"}),S.jsx("span",{className:"status-text",children:i}),e!==null&&S.jsx("span",{className:"status-track","aria-hidden":"true",children:S.jsx("span",{className:"status-bar",style:{width:`${e}%`}})})]}):null}function bP({items:i}){return!i||i.length===0?null:S.jsx("nav",{className:"crumbs","aria-label":"Breadcrumb",children:i.map(({path:e,text:t,isLast:s})=>S.jsxs("span",{className:"crumb",children:[s?S.jsx("span",{"aria-current":"page",children:t}):S.jsx(ii,{to:e,children:t}),!s&&S.jsx("span",{className:"crumb-sep",children:"/"})]},e))})}function AP({primary:i}){const[e,t]=x.useState(!1),s=x.useRef(null);return x.useEffect(()=>{const o=u=>{s.current?.contains(u.target)||t(!1)};return document.addEventListener("pointerdown",o),()=>document.removeEventListener("pointerdown",o)},[]),S.jsxs("div",{className:"menu-anchor",ref:s,children:[S.jsx("button",{className:"tb-btn primary hide-sm-on-very-small",type:"button",onClick:()=>t(o=>!o),"aria-expanded":e,"aria-haspopup":"menu",title:"Quick actions",children:"+ New"}),e&&S.jsxs("div",{className:"menu",role:"menu",style:{minWidth:200},children:[S.jsx(ii,{to:"/closet",role:"menuitem",className:"menu-item",children:"Upload Closet Item"}),S.jsx(ii,{to:"/episodes",role:"menuitem",className:"menu-item",children:"New Episode"}),S.jsx(ii,{to:"/voice",role:"menuitem",className:"menu-item",children:"New Voice Clip"}),S.jsx("div",{className:"menu-sep",role:"separator"}),S.jsx("button",{type:"button",className:"menu-item",role:"menuitem",onClick:i.onClick,children:i.label})]})]})}function wP(){const[i,e]=x.useState(!1),t=x.useRef(null);return x.useEffect(()=>{const s=o=>{t.current?.contains(o.target)||e(!1)};return document.addEventListener("pointerdown",s),()=>document.removeEventListener("pointerdown",s)},[]),S.jsxs("div",{className:"menu-anchor",ref:t,children:[S.jsx("button",{className:"icon-btn","aria-label":"Notifications",title:"Notifications",onClick:()=>e(s=>!s),children:S.jsx(Ta,{name:"bell"})}),i&&S.jsx("div",{className:"menu",role:"menu",style:{minWidth:280},children:S.jsx("div",{className:"menu-item",role:"menuitem",tabIndex:-1,style:{opacity:.8},children:"No new notifications."})})]})}async function SP(){try{await fetch("/sessionLogout",{method:"POST",credentials:"include"})}catch(i){console.warn("[logout] sessionLogout failed:",i)}finally{try{await yN(Xt)}catch{}}}function RP(){const[i,e]=x.useState(!1),t=x.useRef(null),s=Ca(),{role:o}=ky?.()??{role:"fan"};x.useEffect(()=>{const h=m=>{t.current?.contains(m.target)||e(!1)};return document.addEventListener("pointerdown",h),()=>document.removeEventListener("pointerdown",h)},[]);const u=async()=>{try{await SP()}finally{s("/login",{replace:!0})}};return S.jsxs("div",{className:"avatar-wrap menu-anchor",ref:t,children:[S.jsx("button",{className:"avatar-btn","aria-haspopup":"menu","aria-expanded":i,onClick:()=>e(h=>!h),title:"Account menu",children:S.jsx(Ta,{name:"user"})}),i&&S.jsxs("div",{className:"menu",role:"menu",children:[S.jsx(ii,{to:"/profile",role:"menuitem",className:"menu-item",children:"Profile"}),S.jsx(ii,{to:"/settings",role:"menuitem",className:"menu-item",children:"Settings"}),S.jsx(ii,{to:"/billing",role:"menuitem",className:"menu-item",children:"Payments"}),o==="admin"&&S.jsx(ii,{to:"/admin",role:"menuitem",className:"menu-item",children:"Admin Console"}),o==="creator"&&S.jsx(ii,{to:"/creator",role:"menuitem",className:"menu-item",children:"Creator Console"}),S.jsx("a",{href:"https://help.example.com",target:"_blank",rel:"noreferrer",role:"menuitem",className:"menu-item",children:"Help"}),S.jsx("div",{className:"menu-sep",role:"separator"}),S.jsx("button",{type:"button",className:"menu-item danger",role:"menuitem",onClick:u,children:" Logout"})]})]})}function IP({compact:i=!1}){const e=Xt.currentUser?.uid||null,[t,s]=x.useState(!1),[o,u]=x.useState(!0),[h,m]=x.useState(!1);x.useEffect(()=>{let g=!0;async function _(){if(!e){u(!1);return}try{const A=await qk(Af(ug,`users/${e}/settings/profile`));g&&s(!!A.data()?.fanEnabled)}catch{}g&&u(!1)}return _(),()=>{g=!1}},[e]);async function p(){if(!(!e||h)){m(!0);try{const g=!t;await Hk(Af(ug,`users/${e}/settings/profile`),{fanEnabled:g,updatedAt:new Date},{merge:!0}),s(g)}finally{m(!1)}}}return e?i?S.jsx("button",{className:"icon-btn",onClick:p,disabled:o||h,title:t?"Fan Mode: ON":"Fan Mode: OFF","aria-pressed":t,"aria-label":"Enable Fan Mode",children:S.jsx(Ta,{name:t?"heart":"heart-outline"})}):S.jsxs("label",{style:CP,children:[S.jsx("span",{children:"Enable Fan Mode"}),S.jsx("input",{type:"checkbox",checked:t,onChange:p,disabled:o||h,"aria-label":"Enable Fan Mode"})]}):null}const CP={display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",border:"1px solid #eee",borderRadius:8,background:"#fff"};function NP(){const i=Ca(),e=ln(),{role:t,effectiveRole:s,roleOptions:o}=mw();if(!o.length)return null;const u=x.useMemo(()=>{const _={admin:"Admin (full)",creator:"View as: Creator",fan:"View as: Fan"};return[...o].sort((T,D)=>(T==="admin")-(D==="admin")).map(T=>({value:T===t?"":T,label:_[T]||T,role:T}))},[o,t]),h=s===t?"":s,m=x.useMemo(()=>({"":t==="admin"?"/admin/home":t==="creator"?"/creator/home":"/home",admin:"/admin/home",creator:"/creator/home",fan:"/home"}),[t]),p=_=>_.startsWith("/admin")?"admin":_.startsWith("/creator")?"creator":"fan",g=x.useCallback(_=>{const A=_.target.value;if(A===h)return;A?fw(A):dw();const T=m[A||""]||"/home",D=A||t||"fan";p(e.pathname)!==D&&setTimeout(()=>i(T,{replace:!0}),0)},[h,m,e.pathname,i,t]);return S.jsxs("label",{className:"role-switcher",title:`Role: ${s}`,children:[S.jsx("span",{className:"sr-only",children:"Switch role view"}),S.jsx("select",{className:"select",value:h,onChange:g,"aria-label":"Switch role view",children:u.map(_=>S.jsx("option",{value:_.value,children:_.label},`${_.role}-${_.value||"default"}`))})]})}function DP(i){return x.useMemo(()=>{const e=i.split("/").filter(Boolean);if(e.length===0||e[0]==="home")return{items:null,hasItems:!1};let s="";return{items:e.map((u,h)=>{s+=`/${u}`;const m=u.replace(/-/g," "),p=m.charAt(0).toUpperCase()+m.slice(1),g=h===e.length-1;return{path:s,text:p,isLast:g}}),hasItems:!0}},[i])}function xP({searchInputRef:i,primary:e}){x.useEffect(()=>{const t=s=>{const o=s.target,u=o?.tagName?.toLowerCase(),h=u==="input"||u==="textarea"||o?.isContentEditable;!h&&s.key==="/"&&!s.metaKey&&!s.ctrlKey&&!s.altKey&&(s.preventDefault(),i.current?.focus()),!h&&s.key?.toLowerCase()==="k"&&(s.metaKey||s.ctrlKey)&&(s.preventDefault(),i.current?.focus()),s.key==="Escape"&&document.activeElement===i.current&&i.current?.blur(),!h&&s.key?.toLowerCase()==="n"&&!s.metaKey&&!s.ctrlKey&&!s.altKey&&(s.preventDefault(),e.onClick())};return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t)},[i,e])}function Py({status:i,className:e="",rightAccessory:t=null}){const s=ln(),o=Ca(),u=hP(),h=fP(),[,m]=x.useState(YT());x.useEffect(()=>{const O=ec(Xt,U=>{if(U){const N=U.displayName||(U.email?U.email.split("@")[0]:"");N&&yP(N),vP();const At=document.getElementById("sidebar-greeting");At&&(At.textContent=`Bestie, ${N||"Bestie"}, Welcome Back!`,m(YT()))}});return()=>O()},[]);const[p,g]=x.useState(!1);x.useEffect(()=>{g(!!document.querySelector(".page-title"))},[s.pathname]);const{items:_,hasItems:A}=DP(s.pathname),[T,D]=x.useState(""),[L,$]=x.useState(!1),[q,Y]=x.useState(!1),se=x.useRef(null);function ne(O){O.preventDefault();const U=T.trim();U&&($(!0),o(`/search?q=${encodeURIComponent(U)}`),Y(!1))}x.useEffect(()=>{L&&$(!1)},[s.pathname]),xP({searchInputRef:se,primary:u});const fe=x.useMemo(()=>{if(!i)return null;const O=i.match(/(\d{1,3})\s*%/),U=O?Math.max(0,Math.min(100,parseInt(O[1],10))):null;return Number.isFinite(U)?U:null},[i]),ce=()=>{const O=Cf();mP(O==="auto"?"light":O==="light"?"dark":"auto")},Re=h==="dark"?"sun":h==="light"?"moon":"sun-moon",[V,R]=x.useState(!1);x.useEffect(()=>{const O=()=>R(window.scrollY>8);return O(),window.addEventListener("scroll",O,{passive:!0}),()=>window.removeEventListener("scroll",O)},[]);const I=()=>{const O=document.querySelector(".app-shell"),U=O?.getAttribute("data-sidebar")==="open";O?.setAttribute("data-sidebar",U?"":"open"),document.body.classList.toggle("body-lock",!U)};async function P(){try{const O=Xt.currentUser;if(!O){Co.error("Not signed in.");return}Co.loading("Refreshing role",{id:"refresh-role"}),await O.getIdToken(!0),Co.dismiss("refresh-role"),Co.success("Role refreshed!"),await fetch("/whoami",{credentials:"include"}).catch(()=>{}),setTimeout(()=>window.location.reload(),250)}catch{Co.dismiss("refresh-role"),Co.error("Couldnt refresh role.")}}return S.jsxs("header",{id:"topbar",className:`topbar ${V?"is-compact":""} ${e||""}`,role:"banner",children:[S.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to content"}),S.jsx("div",{className:"container",children:S.jsxs("div",{className:"topbar__inner topbar--3col",children:[S.jsx("div",{className:"topbar__left",children:!p&&A&&S.jsx(bP,{items:_})}),S.jsx("div",{className:"topbar__center",children:i?S.jsx(TP,{status:i,pct:fe}):S.jsx(XT,{q:T,pending:L,inputRef:se,onChange:D,onSubmit:ne})}),S.jsxs("div",{className:"topbar__right",children:[t,!i&&S.jsxs(S.Fragment,{children:[S.jsx("button",{className:"icon-btn show-on-mobile","aria-label":"Open menu",title:"Menu",onClick:I,children:S.jsx(Ta,{name:"menu"})}),S.jsx(AP,{primary:u}),S.jsx("button",{className:"icon-btn show-on-mobile","aria-label":"Open search",onClick:()=>Y(O=>!O),title:"Search",children:S.jsx(Ta,{name:"search"})})]}),S.jsx(NP,{}),S.jsx("button",{className:"btn sm ghost hide-on-mobile",type:"button",onClick:P,title:"Force-refresh your role claims",style:{marginLeft:6},children:"Refresh role"}),S.jsx("button",{className:"icon-btn","aria-label":`Theme: ${h}`,title:`Theme: ${h}`,onClick:ce,children:S.jsx(Ta,{name:Re})}),S.jsx(IP,{compact:!0}),S.jsx(wP,{}),S.jsx(RP,{})]})]})}),!i&&q&&S.jsx("div",{className:"mobile-search",children:S.jsx(XT,{q:T,pending:L,inputRef:se,onChange:D,onSubmit:ne})})]})}/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kP=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),WT=i=>{const e=kP(i);return e.charAt(0).toUpperCase()+e.slice(1)},Ew=(...i)=>i.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),MP=i=>{for(const e in i)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var PP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=x.forwardRef(({color:i="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:h,...m},p)=>x.createElement("svg",{ref:p,...PP,width:e,height:e,stroke:i,strokeWidth:s?Number(t)*24/Number(e):t,className:Ew("lucide",o),...!u&&!MP(m)&&{"aria-hidden":"true"},...m},[...h.map(([g,_])=>x.createElement(g,_)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ot=(i,e)=>{const t=x.forwardRef(({className:s,...o},u)=>x.createElement(VP,{ref:u,iconNode:e,className:Ew(`lucide-${OP(WT(i))}`,`lucide-${i}`,s),...o}));return t.displayName=WT(i),t};/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],dg=ot("calendar-days",LP);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],jP=ot("chart-column",UP);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M12 16v5",key:"zza2cw"}],["path",{d:"M16 14v7",key:"1g90b9"}],["path",{d:"M20 10v11",key:"1iqoj0"}],["path",{d:"m22 3-8.646 8.646a.5.5 0 0 1-.708 0L9.354 8.354a.5.5 0 0 0-.707 0L2 15",key:"1fw8x9"}],["path",{d:"M4 18v3",key:"1yp0dc"}],["path",{d:"M8 14v7",key:"n3cwzv"}]],BP=ot("chart-no-axes-combined",zP);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],HP=ot("database",qP);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FP=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],GP=ot("film",FP);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]],KP=ot("ghost",$P);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Tw=ot("house",QP);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YP=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],XP=ot("instagram",YP);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],bw=ot("layers",WP);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],JP=ot("layout-dashboard",ZP);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eV=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Aw=ot("message-circle",eV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],nV=ot("message-square",tV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],rV=ot("palette",iV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],aV=ot("panels-top-left",sV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["path",{d:"M12 17v5",key:"bb1du9"}],["path",{d:"M9 10.76a2 2 0 0 1-1.11 1.79l-1.78.9A2 2 0 0 0 5 15.24V16a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-.76a2 2 0 0 0-1.11-1.79l-1.78-.9A2 2 0 0 1 15 10.76V7a1 1 0 0 1 1-1 2 2 0 0 0 0-4H8a2 2 0 0 0 0 4 1 1 0 0 1 1 1z",key:"1nkz8b"}]],lV=ot("pin",oV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z",key:"1wgbhj"}]],cV=ot("shirt",uV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],ZT=ot("sparkles",hV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],dV=ot("star",fV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],pV=ot("timer",mV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],yV=ot("trophy",gV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vV=ot("user-cog",_V);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EV=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],TV=ot("video",EV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],AV=ot("wand-sparkles",bV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],SV=ot("wrench",wV);/**
 * @license lucide-react v0.541.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],IV=ot("youtube",RV);function CV({collapsed:i=!1}){const e=[{to:"/home",label:"Home",icon:Tw},{to:"/closet",label:"Closet",icon:cV},{to:"/boards",label:"Boards",icon:aV},{to:"/outfits/builder",label:"Outfit Builder",icon:AV},{to:"/planner",label:"Planner",icon:dg},{to:"/community/spotlights",label:"Top Picks",icon:ZT},{to:"/community/forum",label:"Forum",icon:Aw},{to:"/community/confessions",label:"Confessions",icon:KP},{to:"/community/challenges",label:"Challenges",icon:yV},{to:"/vip",label:"VIP",icon:dV},{to:"/calendar",label:"Calendar",icon:dg},{to:"/the-bestie-lounge",label:"The Bestie Lounge",icon:ZT}];return S.jsx("nav",{className:`sidebar-nav ${i?"is-collapsed":""}`,"aria-label":"Fan navigation",children:S.jsx("ul",{className:"sidebar-list",role:"list",children:e.map(({to:t,label:s,icon:o})=>S.jsx("li",{children:S.jsxs(xf,{to:t,className:({isActive:u})=>`sidebar-link ${u?"is-active":""}`,children:[S.jsx(o,{size:18}),S.jsx("span",{className:"sidebar-label",children:s})]})},t))})})}class Vy extends x.Component{state={hasError:!1};static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,t){console.error("ErrorBoundary:",e,t)}render(){return this.state.hasError?S.jsx("div",{className:"panel",children:"Something went wrong."}):this.props.children}}function Ly(i="#main-content"){const e=ln();x.useEffect(()=>{const t=document.querySelector(i);t&&requestAnimationFrame(()=>{t.setAttribute("tabindex","-1"),t.focus()})},[e.pathname,i])}function NV(){Ly();const i=ln(),[e,t]=x.useState(()=>sessionStorage.getItem("fanSidebarCollapsed")==="1");return x.useEffect(()=>{sessionStorage.setItem("fanSidebarCollapsed",e?"1":"0")},[e]),S.jsxs("div",{className:"app-shell",children:[S.jsx(Py,{className:"app-topbar",rightAccessory:S.jsxs("button",{className:"sidebar-toggle",onClick:()=>t(s=>!s),"aria-pressed":e,"aria-controls":"fan-sidebar",title:e?"Expand sidebar":"Collapse sidebar",children:[" ",e?"Open":"Hide"]})}),S.jsxs("div",{className:"app-shell__body",children:[S.jsx("aside",{id:"fan-sidebar",className:`app-sidebar ${e?"is-collapsed":""}`,"aria-label":"Fan navigation",children:S.jsx(CV,{collapsed:e,currentPath:i.pathname})}),S.jsx("main",{id:"main-content",className:"app-main",role:"main","aria-live":"polite",children:S.jsx(Vy,{children:S.jsx(Eg,{})})})]})]})}function DV({collapsed:i=!1}){const e=[{title:"Creator Studio",items:[{to:"/creator/home",label:"Homepage",icon:Tw},{to:"/creator/calendar",label:"Content Calendar",icon:dg},{to:"/creator/spaces",label:"Spaces",icon:bw},{to:"/creator/insights",label:"Insights",icon:BP}]},{title:"Social",items:[{to:"/creator/pinterest",label:"Pinterest",icon:lV},{to:"/creator/instagram",label:"Instagram",icon:XP},{to:"/creator/youtube",label:"Youtube",icon:IV},{to:"/creator/money-chat",label:"Money Chat",icon:Aw},{to:"/creator/post-later",label:"Post Me Later",icon:pV}]}];return S.jsx("nav",{className:`sidebar-nav ${i?"is-collapsed":""}`,"aria-label":"Creator navigation",children:e.map(t=>S.jsxs("div",{children:[!i&&S.jsx("div",{className:"sidebar-section-title",children:t.title}),S.jsx("ul",{className:"sidebar-list",role:"list",children:t.items.map(({to:s,label:o,icon:u})=>S.jsx("li",{children:S.jsxs(xf,{to:s,className:({isActive:h})=>`sidebar-link ${h?"is-active":""}`,children:[S.jsx(u,{size:18}),S.jsx("span",{className:"sidebar-label",children:o})]})},s))})]},t.title))})}function xV(){Ly();const i=ln(),[e,t]=x.useState(()=>sessionStorage.getItem("creatorSidebarCollapsed")==="1");return x.useEffect(()=>{sessionStorage.setItem("creatorSidebarCollapsed",e?"1":"0")},[e]),S.jsxs("div",{className:"app-shell",children:[S.jsx(Py,{className:"app-topbar",rightAccessory:S.jsxs("button",{className:"sidebar-toggle",onClick:()=>t(s=>!s),"aria-pressed":e,"aria-controls":"creator-sidebar",title:e?"Expand sidebar":"Collapse sidebar",children:[" ",e?"Open":"Hide"]})}),S.jsxs("div",{className:"app-shell__body",children:[S.jsx("aside",{id:"creator-sidebar",className:`app-sidebar ${e?"is-collapsed":""}`,"aria-label":"Creator navigation",children:S.jsx(DV,{collapsed:e,currentPath:i.pathname})}),S.jsx("main",{id:"main-content",className:"app-main",role:"main","aria-live":"polite",children:S.jsx(Vy,{children:S.jsx(Eg,{})})})]})]})}function OV({collapsed:i=!1}){const e=[{title:"Admin",items:[{to:"/admin/home",label:"Dashboard",icon:JP},{to:"/admin/users",label:"Users (Roles)",icon:vV},{to:"/admin/boards",label:"Boards",icon:jP},{to:"/admin/themes",label:"Themes",icon:rV},{to:"/admin/chat",label:"Chat Manager",icon:nV}]},{title:"Content",items:[{to:"/admin/spaces",label:"Spaces (All creators)",icon:bw},{to:"/admin/content/episodes",label:"Episodes",icon:GP},{to:"/admin/content/clips",label:"Clips",icon:TV}]},{title:"Tools",items:[{to:"/meta",label:"Meta & Tools",icon:SV},{to:"/storage-smoke",label:"Storage Smoke",icon:HP}]}];return S.jsx("nav",{className:`sidebar-nav ${i?"is-collapsed":""}`,"aria-label":"Admin navigation",children:e.map(t=>S.jsxs("div",{className:"sidebar-section",children:[!i&&S.jsx("div",{className:"sidebar-section-title","aria-hidden":!0,children:t.title}),S.jsx("ul",{className:"sidebar-list",role:"list",children:t.items.map(({to:s,label:o,icon:u})=>S.jsx("li",{children:S.jsxs(xf,{to:s,className:({isActive:h})=>`sidebar-link ${h?"is-active":""}`,children:[S.jsx(u,{size:18,className:"sidebar-link__icon","aria-hidden":!0}),S.jsx("span",{className:"sidebar-label",children:o})]})},s))})]},t.title))})}function kV(){Ly();const i=ln(),[e,t]=x.useState(()=>sessionStorage.getItem("adminSidebarCollapsed")==="1");x.useEffect(()=>{sessionStorage.setItem("adminSidebarCollapsed",e?"1":"0")},[e]);const s=x.useMemo(()=>S.jsxs("button",{className:"sidebar-toggle",onClick:()=>t(o=>!o),"aria-pressed":e,"aria-controls":"admin-sidebar",title:e?"Expand sidebar":"Collapse sidebar",children:[" ",e?"Open":"Hide"]}),[e]);return S.jsxs("div",{className:"app-shell",children:[S.jsx(Py,{className:"app-topbar",rightAccessory:S.jsx("div",{style:{display:"flex",gap:8,alignItems:"center"},children:s})}),S.jsxs("div",{className:"app-shell__body",children:[S.jsx("aside",{id:"admin-sidebar",className:`app-sidebar ${e?"is-collapsed":""}`,"aria-label":"Admin navigation",children:S.jsx(OV,{collapsed:e,currentPath:i.pathname})}),S.jsx("main",{id:"main-content",className:"app-main",role:"main","aria-live":"polite",tabIndex:-1,children:S.jsx(Vy,{children:S.jsx(Ce.Suspense,{fallback:S.jsxs("section",{className:"container",style:{padding:16},children:[S.jsxs("div",{className:"dashboard-card",role:"status","aria-live":"polite",style:{display:"flex",gap:12,alignItems:"center"},children:[S.jsx("div",{style:{width:16,height:16,borderRadius:"50%",border:"2px solid #ccc",borderTopColor:"#7c3aed",animation:"spin .9s linear infinite"}}),S.jsx("span",{children:"Loading"})]}),S.jsx("style",{children:"@keyframes spin{to{transform:rotate(360deg)}}"})]}),children:S.jsx(Eg,{})})})})]})]})}const JT={adminSpaces:"/admin/spaces"};function MV(){return S.jsx(cP,{position:"top-center",gutter:10,toastOptions:{style:{borderRadius:"12px",padding:"10px 12px",background:"var(--surface, #0f1220)",color:"var(--text, #fff)",border:"1px solid rgba(255,255,255,.08)",boxShadow:"0 8px 24px rgba(0,0,0,.25)"},duration:3500,success:{duration:2800,iconTheme:{primary:"#7c3aed",secondary:"#ffffff"},style:{borderColor:"rgba(124,58,237,.45)"}},error:{duration:4200,iconTheme:{primary:"#ef4444",secondary:"#ffffff"},style:{borderColor:"rgba(239,68,68,.45)",background:"rgba(239,68,68,.08)"}}}})}function PV(){const i=Ca(),[e,t]=x.useState(""),[s,o]=x.useState(""),[u,h]=x.useState(!1),[m,p]=x.useState("");x.useEffect(()=>p(""),[e,s]),x.useEffect(()=>{mN(Xt,tb).catch(T=>console.warn("[auth] setPersistence failed",T))},[]),x.useEffect(()=>{(async()=>{try{(await HN(Xt))?.user&&i("/home",{replace:!0})}catch(T){console.warn("[auth] getRedirectResult error",T)}})()},[i]),x.useEffect(()=>ec(Xt,D=>{D&&i("/home",{replace:!0})}),[i]);async function g(){p(""),h(!0);const T=(D="")=>{const L=String(D||"");return["auth/popup-blocked","auth/popup-closed-by-user","auth/cancelled-popup-request","auth/network-request-failed","auth/internal-error"].some($=>L.includes($))};try{const D=new ri;D.setCustomParameters({prompt:"select_account"}),await VN(Xt,D)}catch(D){if(console.warn("[auth] popup failed",D?.code,D?.message),T(D?.code))try{const L=new ri;L.setCustomParameters({prompt:"select_account"}),await k0(Xt,L);return}catch(L){console.warn("[auth] redirect failed",L?.code,L?.message),p("Google sign-in failed. Please reload and try again.")}else try{const L=new ri;L.setCustomParameters({prompt:"select_account"}),await k0(Xt,L);return}catch{p(D?.message||"Google sign-in failed.")}}finally{h(!1)}}async function _(T){T.preventDefault(),p(""),h(!0);try{await dN(Xt,e.trim(),s)}catch(D){const L=D?.code==="auth/invalid-credential"?"Invalid email or password":D?.code==="auth/too-many-requests"?"Too many attempts. Try again later.":D?.message||"Login failed.";p(L)}finally{h(!1)}}async function A(){p(""),h(!0);try{await fN(Xt,e.trim(),s)}catch(T){const D=T?.code==="auth/weak-password"?"Please choose a stronger password.":T?.code==="auth/email-already-in-use"?"Email already in use.":T?.message||"Signup failed.";p(D)}finally{h(!1)}}return S.jsx("div",{className:"login-wrap",style:Ni.wrap,children:S.jsxs("div",{style:Ni.card,children:[S.jsx("h2",{style:Ni.title,children:"Welcome Back "}),S.jsxs("button",{onClick:g,style:Ni.googleBtn,disabled:u,children:[S.jsxs("svg",{width:"18",height:"18",viewBox:"0 0 48 48",style:{marginRight:8},children:[S.jsx("path",{fill:"#FFC107",d:"M43.6 20.5H42V20H24v8h11.3C33.7 32.3 29.3 36 24 36c-6.6 0-12-5.4-12-12s5.4-12 12-12c3 0 5.7 1.1 7.7 3l5.7-5.7C33.6 6.1 29 4 24 4 12.9 4 4 12.9 4 24s8.9 20 20 20c10.4 0 19-7.5 19-20 0-1.2-.1-2.3-.4-3.5z"}),S.jsx("path",{fill:"#FF3D00",d:"M6.3 14.7l6.6 4.8C14.4 16.2 18.8 12 24 12c3 0 5.7 1.1 7.7 3l5.7-5.7C33.6 6.1 29 4 24 4 16.1 4 9.2 8.5 6.3 14.7z"}),S.jsx("path",{fill:"#4CAF50",d:"M24 44c5.2 0 9.9-2 13.3-5.3l-6.1-5c-2 1.5-4.6 2.4-7.2 2.4-5.3 0-9.7-3.7-11.3-8.7l-6.5 5C9.2 39.5 16.1 44 24 44z"}),S.jsx("path",{fill:"#1976D2",d:"M43.6 20.5H42V20H24v8h11.3c-1.3 3.9-5.1 8-11.3 8-5.3 0-9.7-3.7-11.3-8.7l-6.5 5C9.2 39.5 16.1 44 24 44c10.4 0 19-7.5 19-20 0-1.2-.1-2.3-.4-3.5z"})]}),u?"Working":"Continue with Google"]}),S.jsx("div",{style:Ni.divider,children:S.jsx("span",{children:"or"})}),S.jsxs("form",{onSubmit:_,children:[S.jsx("input",{type:"email",placeholder:"Email",value:e,autoComplete:"email",onChange:T=>t(T.target.value),style:Ni.input,disabled:u}),S.jsx("input",{type:"password",placeholder:"Password",value:s,autoComplete:"current-password",onChange:T=>o(T.target.value),style:Ni.input,disabled:u}),S.jsx("button",{type:"submit",style:Ni.primaryBtn,disabled:u,children:u?"Working":"Login"})]}),S.jsx("button",{onClick:A,style:Ni.linkBtn,disabled:u,children:"Dont have an account? Sign up"}),!!m&&S.jsx("div",{style:Ni.err,role:"alert",children:m})]})})}const Ni={wrap:{minHeight:"100vh",display:"grid",placeItems:"center"},card:{width:420,padding:24,borderRadius:16,background:"#1f1b24",color:"#fff",boxShadow:"0 8px 24px rgba(0,0,0,.35)"},title:{margin:"0 0 16px"},input:{width:"100%",padding:"12px 14px",borderRadius:10,border:"1px solid #3a3442",background:"#2b2630",color:"#fff",marginBottom:10},primaryBtn:{width:"100%",padding:"12px 14px",borderRadius:10,border:0,background:"#a855f7",color:"#fff",fontWeight:600,marginTop:4,cursor:"pointer"},googleBtn:{width:"100%",padding:"12px 14px",borderRadius:10,border:"1px solid #3a3442",background:"#2b2630",color:"#fff",fontWeight:600,display:"flex",alignItems:"center",justifyContent:"center",gap:8,cursor:"pointer"},divider:{display:"grid",placeItems:"center",margin:"14px 0",color:"#bfb6c9"},linkBtn:{marginTop:8,color:"#c4b5fd",background:"transparent",border:0,cursor:"pointer"},err:{marginTop:10,color:"#ff9aa2",fontSize:14}},VV=Ce.lazy(()=>Me(()=>import("./HomeSwitcher-DBkigiYO.js"),__vite__mapDeps([0,1]))),LV=Ce.lazy(()=>Me(()=>import("./UploadClosetPage-Cx0ULQbU.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10]))),UV=Ce.lazy(()=>Me(()=>import("./UploadVoicePage-BXwQwM7M.js"),__vite__mapDeps([11,3,4,5,6,7,8,9]))),jV=Ce.lazy(()=>Me(()=>import("./UploadEpisodePage-tifiiNrV.js"),__vite__mapDeps([12,3,4,5,6,7,8,9]))),zV=Ce.lazy(()=>Me(()=>import("./MetaPage-cwaX3arj.js"),[])),BV=Ce.lazy(()=>Me(()=>import("./StorageSmoke-kTxmdQZ4.js"),[])),qV=Ce.lazy(()=>Me(()=>import("./ForumThreadPage-KXV1vixP.js"),[])),HV=Ce.lazy(()=>Me(()=>import("./OutfitBuilderPage-DwXJoE_I.js"),[])),FV=Ce.lazy(()=>Me(()=>import("./PlannerPage-BsCrL-mS.js"),[])),GV=Ce.lazy(()=>Me(()=>import("./SpotlightsPage-CgtqKiwV.js"),[])),e1=Ce.lazy(()=>Me(()=>import("./ForumPage-BnEkT94O.js"),__vite__mapDeps([13,14]))),$V=Ce.lazy(()=>Me(()=>import("./ConfessionsPage-wbNXEIqw.js"),[])),KV=Ce.lazy(()=>Me(()=>import("./ChallengesPage-BXMy9oBJ.js"),[])),QV=Ce.lazy(()=>Me(()=>import("./VipPage-DLrQGRrd.js"),[])),YV=Ce.lazy(()=>Me(()=>import("./CalendarPage-BGYt-MfO.js"),[])),XV=Ce.lazy(()=>Me(()=>import("./BoardsPage-C2N0bRyA.js"),__vite__mapDeps([15,8]))),WV=Ce.lazy(()=>Me(()=>import("./PublicBoardPage-C8fK7yMA.js"),[])),ZV=Ce.lazy(()=>Me(()=>import("./AdminBoardsAnalytics-CDcbF0Mi.js"),__vite__mapDeps([16,17]))),JV=Ce.lazy(()=>Me(()=>import("./ChatManager-C88jI_BE.js"),[]));Ce.lazy(()=>Me(()=>import("./ContentEditor-ByfTjdfA.js"),[]));const e6=Ce.lazy(()=>Me(()=>import("./ThemesAdmin-B9wayaVN.js"),__vite__mapDeps([18,7]))),t6=Ce.lazy(()=>Me(()=>import("./AdminUsers-CXw35Tqj.js"),__vite__mapDeps([19,6]))),n6=Ce.lazy(()=>Me(()=>import("./AdminContentCloset-eaTok-xb.js"),__vite__mapDeps([20,2,3,4,5,6,7,8,9,10]))),i6=Ce.lazy(()=>Me(()=>import("./AdminContentEpisodes-CIxkrkTX.js"),__vite__mapDeps([21,12,3,4,5,6,7,8,9]))),r6=Ce.lazy(()=>Me(()=>import("./AdminContentClips-DDPPsOXe.js"),[])),s6=Ce.lazy(()=>Me(()=>import("./AdminSpacesDashboard-nlcQHi2V.js"),[])),a6=Ce.lazy(()=>Me(()=>import("./AdminHome-Da3CBWpy.js"),[])),o6=Ce.lazy(()=>Me(()=>import("./CreatorHome-DcwVg0i6.js"),[])),l6=Ce.lazy(()=>Me(()=>import("./CreatorPinterestPage-Cw2u82Yy.js"),[])),u6=Ce.lazy(()=>Me(()=>import("./CreatorInstagramPage-Cn8kfF2E.js"),[])),c6=Ce.lazy(()=>Me(()=>import("./CreatorYoutubePage-BpuipTqz.js"),[])),h6=Ce.lazy(()=>Me(()=>import("./CreatorBoardsAnalytics-CCalL9dD.js"),__vite__mapDeps([22,17]))),f6=Ce.lazy(()=>Me(()=>import("./CreatorCalendarPage-BTxIOkAw.js"),[])),d6=Ce.lazy(()=>Me(()=>import("./CreatorPostLaterPage-BFb5v-dq.js"),[])),m6=Ce.lazy(()=>Me(()=>import("./CreatorSpacesIndex-CkySZeK0.js"),__vite__mapDeps([23,10,4]))),p6=Ce.lazy(()=>Me(()=>import("./CreatorSpaceDetail-BFCIm73v.js"),__vite__mapDeps([24,4,25,5,6,7,26]))),g6=Ce.lazy(()=>Me(()=>import("./SpaceUpload-DFWjTq71.js"),__vite__mapDeps([25,5,6,7,4]))),y6=()=>S.jsxs("section",{className:"container",style:{padding:16},children:[S.jsxs("div",{className:"dashboard-card",role:"status","aria-live":"polite",style:{display:"flex",gap:12,alignItems:"center"},children:[S.jsx("div",{style:{width:16,height:16,borderRadius:"50%",border:"2px solid #ccc",borderTopColor:"#7c3aed",animation:"spin .9s linear infinite"}}),S.jsx("span",{children:"Loading"})]}),S.jsx("style",{children:"@keyframes spin{to{transform:rotate(360deg)}}"})]}),_6=()=>S.jsx("section",{className:"container",style:{padding:16},children:S.jsxs("div",{className:"dashboard-card",children:[S.jsx("h1",{style:{margin:0},children:"404  Page not found"}),S.jsx("p",{style:{marginTop:8},children:S.jsx("a",{href:"/home",children:"Go to Home"})})]})}),v6=()=>S.jsx("section",{className:"container",style:{padding:16},children:S.jsxs("div",{className:"dashboard-card",children:[S.jsx("h1",{style:{margin:0},children:"Unauthorized"}),S.jsx("p",{style:{marginTop:8},children:"You dont have access to that page."})]})});function E6(){return S.jsxs(S.Fragment,{children:[S.jsx(MV,{}),S.jsx(x.Suspense,{fallback:S.jsx(y6,{}),children:S.jsxs(JR,{children:[S.jsx(be,{path:"/",element:S.jsx(Oo,{to:"/home",replace:!0})}),S.jsx(be,{path:"/login",element:S.jsx(vM,{children:S.jsx(PV,{})})}),S.jsx(be,{path:"/b/:uid/:boardId",element:S.jsx(WV,{})}),S.jsxs(be,{element:S.jsx(xp,{children:S.jsx(NV,{})}),children:[S.jsx(be,{path:"/home",element:S.jsx(VV,{})}),S.jsx(be,{path:"/closet",element:S.jsx(LV,{})}),S.jsx(be,{path:"/boards",element:S.jsx(XV,{})}),S.jsx(be,{path:"/outfits/builder",element:S.jsx(HV,{})}),S.jsx(be,{path:"/planner",element:S.jsx(FV,{})}),S.jsx(be,{path:"/community/spotlights",element:S.jsx(GV,{})}),S.jsx(be,{path:"/community/forum",element:S.jsx(e1,{})}),S.jsx(be,{path:"/community/confessions",element:S.jsx($V,{})}),S.jsx(be,{path:"/community/challenges",element:S.jsx(KV,{})}),S.jsx(be,{path:"/vip",element:S.jsx(QV,{})}),S.jsx(be,{path:"/calendar",element:S.jsx(YV,{})}),S.jsx(be,{path:"/community/forum/:id",element:S.jsx(qV,{})})]}),S.jsxs(be,{element:S.jsx(xp,{children:S.jsx(KT,{allow:["creator","admin"],children:S.jsx(xV,{})})}),children:[S.jsx(be,{path:"/creator/home",element:S.jsx(o6,{})}),S.jsx(be,{path:"/creator/calendar",element:S.jsx(f6,{})}),S.jsx(be,{path:"/creator/pinterest",element:S.jsx(l6,{})}),S.jsx(be,{path:"/creator/instagram",element:S.jsx(u6,{})}),S.jsx(be,{path:"/creator/youtube",element:S.jsx(c6,{})}),S.jsx(be,{path:"/creator/money-chat",element:S.jsx(e1,{})}),S.jsx(be,{path:"/creator/post-later",element:S.jsx(d6,{})}),S.jsx(be,{path:"/creator/spaces",element:S.jsx(m6,{})}),S.jsx(be,{path:"/creator/spaces/:spaceId",element:S.jsx(p6,{})}),S.jsx(be,{path:"/creator/spaces/:spaceId/upload",element:S.jsx(g6,{})}),S.jsx(be,{path:"/voice",element:S.jsx(UV,{})}),S.jsx(be,{path:"/episodes",element:S.jsx(jV,{})}),S.jsx(be,{path:"/creator/insights",element:S.jsx(h6,{})})]}),S.jsxs(be,{element:S.jsx(xp,{children:S.jsx(KT,{allow:["admin"],children:S.jsx(kV,{})})}),children:[S.jsx(be,{path:"/admin/home",element:S.jsx(a6,{})}),S.jsx(be,{path:"/admin/users",element:S.jsx(t6,{})}),S.jsx(be,{path:"/admin/spaces",element:S.jsx(s6,{})}),S.jsx(be,{path:JT.adminSpaces,element:S.jsx(n6,{})}),S.jsx(be,{path:"/admin/chat",element:S.jsx(JV,{})}),S.jsx(be,{path:"/admin/boards",element:S.jsx(ZV,{})}),S.jsx(be,{path:"/admin/themes",element:S.jsx(e6,{})}),S.jsx(be,{path:"/admin/content/episodes",element:S.jsx(i6,{})}),S.jsx(be,{path:"/admin/content/clips",element:S.jsx(r6,{})}),S.jsx(be,{path:"/meta",element:S.jsx(zV,{})}),S.jsx(be,{path:"/storage-smoke",element:S.jsx(BV,{})})]}),S.jsx(be,{path:"/admin/content/closet",element:S.jsx(Oo,{to:JT.adminSpaces,replace:!0})}),S.jsx(be,{path:"/closet/upload",element:S.jsx(Oo,{to:"/closet",replace:!0})}),S.jsx(be,{path:"/closet/dashboard",element:S.jsx(Oo,{to:"/closet",replace:!0})}),S.jsx(be,{path:"/unauthorized",element:S.jsx(v6,{})}),S.jsx(be,{path:"*",element:S.jsx(_6,{})})]})})]})}let t1=!1;function T6(){if(t1&&document.documentElement.dataset.a11yReady==="1")return;t1=!0,document.documentElement.dataset.a11yReady="1";let i=document.querySelector(".skip-link");i||(i=document.createElement("a"),i.className="skip-link vh--focusable",i.href="#main-content",i.textContent="Skip to content",document.body.prepend(i));let e=document.getElementById("main-content")||document.querySelector("main#main-content")||document.querySelector('[role="main"]#main-content');if(e)e.hasAttribute("tabindex")||e.setAttribute("tabindex","-1");else{e=document.createElement("main"),e.id="main-content",e.setAttribute("role","main"),e.setAttribute("tabindex","-1");const o=document.body.firstElementChild;o?document.body.insertBefore(e,o.nextSibling):document.body.appendChild(e)}window.__a11yOnSkipClick&&window.removeEventListener("click",window.__a11yOnSkipClick,!0);const t=o=>{o.target.closest(".skip-link")&&(o.preventDefault(),requestAnimationFrame(()=>e&&e.focus()))};window.addEventListener("click",t,!0),window.__a11yOnSkipClick=t,window.__a11yOnHashChange&&window.removeEventListener("hashchange",window.__a11yOnHashChange);const s=()=>{location.hash==="#main-content"&&requestAnimationFrame(()=>e&&e.focus())};window.addEventListener("hashchange",s),window.__a11yOnHashChange=s,s()}pP();T6();sR.createRoot(document.getElementById("root")).render(S.jsx(Ce.StrictMode,{children:S.jsx(bI,{children:S.jsx(_M,{children:S.jsx(E6,{})})})}));export{mn as $,CC as A,q6 as B,Mf as C,Ke as D,T1 as E,Nr as F,kf as G,Ag as H,qi as I,ba as J,ys as K,ii as L,Oi as M,pn as N,cP as O,j6 as P,lM as Q,Ce as R,Rf as S,H6 as T,Ck as U,Co as V,Py as W,Vy as X,Eg as Y,L6 as Z,Xu as _,D6 as a,Ca as a0,mw as a1,ln as a2,Oo as a3,G6 as a4,ot as a5,R6 as a6,O6 as a7,tR as a8,n1 as a9,ji as aA,$k as aB,Lg as aC,Jt as aD,ju as aE,me as aF,ND as aG,Wt as aH,Zt as aI,jo as aJ,jD as aK,Ik as aL,zk as aM,el as aN,cc as aO,Gk as aP,Nk as aQ,mg as aa,b6 as ab,Me as ac,jk as ad,xk as ae,Ok as af,Kn as ag,ps as ah,_t as ai,_a as aj,tl as ak,lc as al,ui as am,re as an,Ui as ao,hi as ap,Ey as aq,nd as ar,rf as as,id as at,by as au,Ty as av,va as aw,Ay as ax,bu as ay,st as az,ug as b,S6 as c,Af as d,V6 as e,Xt as f,qk as g,M6 as h,P6 as i,S as j,I6 as k,x6 as l,k6 as m,$6 as n,Fk as o,K6 as p,C6 as q,x as r,U6 as s,B6 as t,A6 as u,F6 as v,Hk as w,N6 as x,z6 as y,ec as z};
