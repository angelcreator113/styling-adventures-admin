:root{
  --topbar-h: 60px;             /* matches your topbar */
  --sidebar-w: 240px;
  --sidebar-w-sm: 76px;         /* collapsed (icons only) */
}

/* The app layout is 2 rows: topbar + body */
.app-shell{
  min-height: 100dvh;
  background: var(--page, var(--lavender-bg, #f6f1fa));
}

/* Body is a 2-column grid: sidebar | main
   Fixed height so both panes get their own scrollbars. */
.app-shell__body{
  display: grid;
  grid-template-columns: var(--sidebar-w) 1fr;
  height: calc(100dvh - var(--topbar-h));
  border-top: 1px solid var(--border);
}

/* Collapse width when data attr flips */
.app-shell[data-sidebar="collapsed"] .app-shell__body{
  grid-template-columns: var(--sidebar-w-sm) 1fr;
}

/* Sidebar: its own scroller */
.app-sidebar{
  overflow-y: auto;
  border-right: 1px solid var(--border);
  background: var(--surface);
  scrollbar-gutter: stable;
}

/* Main pane: its own scroller */
.app-main{
  overflow-y: auto;
  padding: var(--space-5);
  min-width: 0;
  background: transparent;
}

/* Mobile: sidebar becomes overlay */
@media (max-width: 960px){
  .app-shell__body{
    grid-template-columns: 1fr;  /* hide sidebar column */
  }
  .app-sidebar{
    position: fixed;
    inset: var(--topbar-h) auto 0 0;
    width: min(86vw, 320px);
    transform: translateX(-102%);
    transition: transform .22s ease;
    z-index: 60;
    box-shadow: 0 8px 24px var(--shadow-soft);
  }
  .app-shell[data-sidebar="open"] .app-sidebar{
    transform: translateX(0);
  }
}
/* Decorative overlays should never block clicks */
.app-shell::before,
.app-shell::after,
.app-main::before,
.app-main::after {
  pointer-events: none !important;
}
