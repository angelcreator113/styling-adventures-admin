/* Upload page layout & visuals */
:root{
  --brand-50:#faf5ff;
  --brand-100:#f3e8ff;
  --brand-200:#e9d5ff;
  --brand-300:#d8b4fe;
  --brand-500:#8b5cf6;
  --ink-700:#2a2636;
  --ink-500:#4b4b5a;
  --ink-300:#8a8897;
  --card-bg:#fff;
  --ring:#eadcff;
}

/* overall layout */
.upload-page{ padding: 0 1rem 2rem; }

.upload-page-grid{
  display:grid;
  /* simplified columns as requested */
  grid-template-columns: 420px 1fr;
  gap:1.25rem;
  align-items:start;
}
@media (max-width: 1100px){
  .upload-page-grid{ grid-template-columns:1fr; }
}

/* cards */
.card{
  background:#fff;
  border-radius:14px;
  box-shadow:0 1px 2px rgba(16,24,40,.04);
  border:1px solid #efeaf9;
}
.card__body{ padding:1.25rem; }
.card__title{ margin:0 0 .5rem; font-size:1.25rem; font-weight:800; color:var(--ink-700); }
.muted{ color:#6b7280; margin:0 0 1rem; }

/* drop zone */
.drop-zone{
  width:100%;
  min-height:160px;
  display:flex; align-items:center; justify-content:center;
  border:2px dashed #e4d7ff;
  background:#f6f0ff;
  border-radius:12px;
  color:var(--ink-500);
  text-align:center;
  padding:28px;
  transition:background .15s,border-color .15s, box-shadow .15s;
  margin-bottom:1rem;
}
.drop-zone.drag-over{
  background:#f1e8ff;
  border-color:#8b5cf6;
  box-shadow:0 0 0 3px var(--ring);
}

/* form */
.form-grid{ display:grid; gap:.75rem; }
.form-group{ margin-bottom:.75rem; }
.form-group label{ display:block; font-size:.9rem; color:var(--ink-500); margin-bottom:.35rem; }
.form-group select,
.form-group input[type="text"],
.form-group textarea{
  width:100%;
  border:1px solid #eadffb;
  border-radius:10px;
  padding:.75rem .85rem;
  outline:none;
  font:inherit;
  background:#fff;
}
.form-group select:focus,
.form-group input[type="text"]:focus,
.form-group textarea:focus{
  border-color:var(--brand-300);
  box-shadow:0 0 0 3px var(--ring);
}
.inline{ display:inline-flex; align-items:center; }

/* sticky actions */
.actions{
  display:flex; gap:.5rem; justify-content:flex-end; align-items:center;
  margin-top:.75rem;
}
.actions .primary{
  background:var(--brand-500);
  color:#fff; border:0; border-radius:10px;
  padding:.6rem 1rem; cursor:pointer;
}

/* right card toolbar + grid (top-level helpers) */
.toolbar{ display:flex; gap:.5rem; margin-bottom:.75rem; }
.toolbar > select, .toolbar > input{ flex:1; max-width:260px; }
.dashboard-grid{
  display:grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap:.75rem;
}
.dashboard-grid .empty{ color:#6b7280; font-size:.95rem; }

/* existing scoped dashboard styles (kept for compatibility) */
.dashboard .toolbar{
  display:flex; flex-wrap:wrap; gap:.5rem; align-items:center;
  margin-bottom:.75rem;
}
.dashboard .dashboard-grid{
  display:grid; gap:.75rem;
  grid-template-columns:repeat(auto-fill, minmax(160px,1fr));
}
.dashboard .empty{
  border:1px dashed #eadffb; border-radius:12px;
  padding:1rem; color:var(--ink-300); text-align:center;
}

/* --- kill the legacy 'Upload • Dashboard' strip in the header --- */
.app-main .page-tabs,
.app-main .panel-tabs,
.app-main [data-role="panel-links"],
.app-main .page-header .link-tabs {
  display: none !important;
}

/* --- hide any Upload/Dashboard anchors that might slip into headers --- */
.app-main a[href$="/upload"],
.app-main a[href$="/dashboard"] {
  display: none !important;
}

/* --- hide the sidebar sub-items “: Upload” / “: Dashboard” --- */
.sidebar a[href*="/upload"],
.sidebar a[href*="/dashboard"] {
  display: none !important;
}

/* (optional) if a dot/bullet is inserted between links, hide it too */
.app-main .page-subnav .dot,
.app-main .crumb-sep.dot {
  display: none !important;
}
/* file chip */
.file-row {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: .75rem;
  margin-top: .75rem;
}
.file-pill {
  display: flex;
  align-items: center;
  gap: .75rem;
  padding: .5rem .75rem;
  border: 1px solid #ece7ff;
  background: #faf8ff;
  border-radius: 12px;
}
.file-pill__thumb {
  width: 40px; height: 40px; border-radius: 8px;
  background: #f1edff center/cover no-repeat;
  flex: none;
  position: relative;
}
.file-pill__thumb.is-audio::after,
.file-pill__thumb.is-video::after,
.file-pill__thumb.is-file::after {
  content: "♪";
  position: absolute; inset: 0; display: grid; place-items: center;
  color: #6b46c1; font-weight: 700;
}
.file-pill__thumb.is-video::after { content: "▶"; }
.file-pill__thumb.is-file::after  { content: "⧉"; }
.file-pill__meta { line-height: 1.2; }
.file-pill__name { font-weight: 600; }
.file-pill__sub { font-size: .85rem; color: #6b7280; }
.link { background: none; border: 0; color: #6b46c1; cursor: pointer; }

/* progress bar */
.progress {
  --h: 8px;
  position: relative;
  margin-top: .75rem;
  background: #f4f3ff;
  border-radius: 999px;
  height: var(--h);
}
.progress[aria-hidden="true"] { display: none; }
.progress__bar {
  height: 100%;
  background: linear-gradient(90deg, #8b5cf6, #7c3aed);
  border-radius: 999px;
  transition: width .2s ease;
  width: 0%;
}
.progress__text {
  position: absolute;
  right: .5rem;
  top: 50%;
  transform: translateY(-50%);
  font-size: .75rem;
  color: #6b46c1;
}
