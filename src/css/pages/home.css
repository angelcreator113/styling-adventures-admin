/* =========================================================
   Home (Fan) — Brand Styling  •  CLEAN + FIXED
   Scope this sheet under `.page--fan-home` in your JSX root.
   ========================================================= */

/* ---------------- Brand tokens ---------------- */
:root {
  /* Core palette */
  --pink:       #F97C94;   /* Pop Pink */
  --gold:       #FFC74A;   /* Pixel Gold */
  --sky:        #84D2F6;   /* Sky Blue */
  --navy:       #142136;   /* Deep Navy Shadow */
  --lavender:   #E9D8F2;   /* Lavender Softness */
  --lavender-2: #F6F1FA;   /* Even lighter lavender */
  --cream:      #FFF7E2;   /* Ivory Cream */

  /* Added tokens that were referenced but not defined */
  --blue:       #6CAEF0;
  --blue-200:   #BFD9FA;
  --blue-800:   #0B1A2B;
  --lav-300:    #E8E0F5;
  --line-soft:  rgba(20,33,54,.12);

  --ink:        #1B2433;
  --ink-40:     rgba(27,36,51,.55);
  --shadow:     0 6px 16px rgba(20,33,54,.06);

  --text:       var(--navy);
  /* If color-mix unsupported, the variable resolves to its fallback color */
  --muted:      color-mix(in oklab, var(--navy) 55%, white);
  --ring:       color-mix(in oklab, var(--sky) 55%, white);
}

/* Prefer-reduced-motion support */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; scroll-behavior: auto !important; }
}

/* Optional dark scheme tweaks */
@media (prefers-color-scheme: dark) {
  :root {
    --text: #EAF2FF;
    --muted: color-mix(in oklab, #EAF2FF 55%, #283448);
    --line-soft: rgba(255,255,255,.12);
    --shadow: 0 8px 24px rgba(0,0,0,.22);
    --lavender-2: #1E2230;
    --cream: #1C2230;
  }
}

/* Container scope */
.page--fan-home { color: var(--text); }
.page--fan-home .muted { color: var(--muted); }
.page--fan-home .dot   { display:inline-block; width:6px; height:6px; border-radius:50%; background:var(--pink); margin-right:.5rem; }

/* ---------------- Typography ---------------- */
.page--fan-home .section__title,
.page--fan-home .hero-title {
  color: var(--navy);
  letter-spacing: .2px;
}

/* ---------------- HERO ---------------- */
.page--fan-home .home-hero {
  position: relative;
  display: grid;
  grid-template-columns: 1.2fr .9fr;
  gap: 16px;
  padding: 22px 22px 26px;
  border: 1px solid color-mix(in oklab, var(--navy) 16%, white);
  border-radius: 16px;
  background:
    radial-gradient(1200px 600px at -10% -10%, var(--lavender-2), transparent 60%),
    radial-gradient(800px 500px at 110% 20%, color-mix(in oklab, var(--cream) 70%, white), transparent 55%),
    linear-gradient(180deg, white, var(--lavender-2));
  box-shadow:
    0 6px 24px rgba(20, 33, 54, .06),
    inset 0 0 0 1px rgba(255,255,255,.5);
  overflow: hidden;
}

.page--fan-home .home-hero::after {
  content: "";
  position: absolute;
  inset: -40% -10% auto auto;
  height: 220px; width: 320px;
  background:
    radial-gradient(3px 3px at 15% 35%, var(--gold) 60%, transparent 61%),
    radial-gradient(3px 3px at 35% 55%, color-mix(in oklab, var(--pink) 80%, white) 60%, transparent 61%),
    radial-gradient(3px 3px at 70% 25%, color-mix(in oklab, var(--sky) 85%, white) 60%, transparent 61%),
    radial-gradient(3px 3px at 85% 70%, #fff 60%, transparent 61%);
  filter: blur(.2px) saturate(1.1);
  opacity: .55;
  animation: twinkle 2.4s linear infinite;
}

@keyframes twinkle {
  0%   { transform: translateY(0px) rotate(0deg);   opacity:.35; }
  50%  { transform: translateY(-8px) rotate(8deg); opacity:.7; }
  100% { transform: translateY(0px) rotate(0deg);  opacity:.35; }
}

.page--fan-home .hero-title { font-size: 1.9rem; margin: 6px 0 8px; }
.page--fan-home .hero-sub   { margin: 0 0 14px; color: var(--muted); }
.page--fan-home .hero-actions { display:flex; gap: 10px; flex-wrap: wrap; }

.page--fan-home .stat-row { display:flex; gap:10px; justify-content:flex-end; }
.page--fan-home .stat-pill {
  min-width: 140px;
  display:grid; place-items:center;
  padding: 10px 12px;
  border-radius: 12px;
  border: 1px solid color-mix(in oklab, var(--sky) 40%, white);
  background: linear-gradient(180deg, #fff, var(--cream));
  box-shadow: 0 6px 16px rgba(20,33,54,.05);
}
.page--fan-home .stat-pill .num { font-weight: 800; font-size: 1.15rem; color: var(--navy); }
.page--fan-home .stat-pill .lbl { font-size: .78rem; color: var(--muted); }

/* ---------------- Buttons ---------------- */
.page--fan-home .btn {
  --btn-bg: #fff;
  --btn-fg: var(--navy);
  --btn-bd: color-mix(in oklab, var(--navy) 20%, white);
  padding: .55rem .9rem;
  font-weight: 650;
  border-radius: 10px;
  border: 1px solid var(--btn-bd);
  color: var(--btn-fg);
  background: var(--btn-bg);
  box-shadow: 0 2px 0 rgba(20,33,54,.04);
  transition: transform .08s ease, box-shadow .18s ease, background .18s ease, color .18s ease;
}
.page--fan-home .btn:hover { transform: translateY(-1px); box-shadow: 0 6px 14px rgba(20,33,54,.06); }

.page--fan-home .btn.primary {
  --btn-bg: linear-gradient(180deg, color-mix(in oklab, var(--sky) 92%, white), var(--sky));
  --btn-bd: color-mix(in oklab, var(--sky) 40%, var(--navy) 8%);
  --btn-fg: #0b1a2b;
}
.page--fan-home .btn.primary:hover {
  background: linear-gradient(180deg, color-mix(in oklab, var(--pink) 16%, var(--sky)), var(--sky));
}

.page--fan-home .btn.ghost {
  --btn-bg: transparent;
  --btn-fg: var(--navy);
  --btn-bd: color-mix(in oklab, var(--navy) 22%, white);
  background: linear-gradient(180deg, rgba(20,33,54,.02), rgba(20,33,54,.0));
}
.page--fan-home .btn.ghost:hover {
  background: linear-gradient(180deg, rgba(20,33,54,.04), rgba(20,33,54,.02));
}

.page--fan-home .btn.sm { padding: .4rem .65rem; font-size: .88rem; border-radius: 9px; }

/* ---------------- Sections / Headings ---------------- */
.page--fan-home .section { margin-top: 22px; }
.page--fan-home .section__hd {
  display:flex; align-items:center; justify-content:space-between;
  margin-bottom: 10px;
}
.page--fan-home .section__title {
  font-size: 1.25rem;
  position: relative;
  padding-bottom: 4px;
}
.page--fan-home .section__title::after {
  content:"";
  position:absolute; left:0; right:0; bottom:-2px; height:3px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--lavender), var(--sky), var(--gold));
  opacity:.6;
}

/* ---------------- Cards, chips, badges ---------------- */
.page--fan-home .card {
  border: 1px solid color-mix(in oklab, var(--navy) 12%, white);
  background: #fff;
  border-radius: 14px;
  box-shadow: 0 8px 22px rgba(20,33,54,.04);
}
.page--fan-home .card.wide { display:grid; grid-template-columns: 1.2fr 1fr; gap: 14px; }
.page--fan-home .card__thumb {
  aspect-ratio: 3 / 2;
  border-radius: 12px;
  overflow: hidden;
  background: linear-gradient(180deg, var(--lavender-2), #fff);
  border: 1px solid color-mix(in oklab, var(--lavender) 40%, white);
}
.page--fan-home .card__thumb img { width:100%; height:100%; object-fit: cover; display:block; }
.page--fan-home .card__body { padding: 10px 12px 12px; }
.page--fan-home .card__title { font-weight: 700; color: var(--navy); }

.page--fan-home .chip {
  display:inline-block;
  font-size: .75rem;
  padding: .18rem .55rem;
  border-radius: 999px;
  color: var(--navy);
  border: 1px solid color-mix(in oklab, var(--sky) 55%, white);
  background: linear-gradient(180deg, #fff, color-mix(in oklab, var(--sky) 14%, white));
}

/* Spotlight block layout */
.page--fan-home .spotlight .card.wide .card__thumb { aspect-ratio: 16 / 9; }

/* ---------------- Carousel (Top Picks) ---------------- */
.page--fan-home .carousel {
  display:grid;
  grid-auto-flow: column;
  grid-auto-columns: minmax(240px, 1fr);
  gap: 14px;
  overflow-x: auto;
  scroll-snap-type: x mandatory;
  padding: 4px 4px 10px;
}
.page--fan-home .carousel > .card { scroll-snap-align: start; }
.page--fan-home .carousel::-webkit-scrollbar { height: 10px; }
.page--fan-home .carousel::-webkit-scrollbar-thumb {
  background: linear-gradient(90deg, #e9eefb, #f2f7ff);
  border-radius: 999px;
  border: 2px solid #fff;
}

/* ---------------- CTA Grid (Closet) ---------------- */
.page--fan-home .cta-grid {
  display:grid;
  grid-template-columns: 1.1fr .9fr;
  gap: 14px;
}
.page--fan-home .cta-card {
  border: 1px dashed color-mix(in oklab, var(--pink) 35%, var(--lavender));
  background: linear-gradient(180deg, #fff, var(--lavender-2));
  padding: 16px;
  border-radius: 14px;
}
.page--fan-home .cta-card .row { display:flex; gap:10px; align-items:center; margin-top: 8px; }

.page--fan-home .mini-feed {
  border: 1px solid color-mix(in oklab, var(--navy) 12%, white);
  background: #fff;
  border-radius: 14px;
  padding: 12px 14px;
}
.page--fan-home .mini-feed__title { margin: 0 0 8px; font-size: 1rem; }
.page--fan-home .mini-feed__list { margin: 0; padding-left: 1rem; }
.page--fan-home .mini-feed__list .chip { margin-left: .5rem; }

/* ---------------- Planner teaser & VIP ---------------- */
.page--fan-home .planner-tease,
.page--fan-home .vip {
  border: 1px solid color-mix(in oklab, var(--navy) 12%, white);
  border-radius: 14px;
  background: linear-gradient(180deg, #fff, var(--cream));
  padding: 16px;
  display:flex; align-items:center; justify-content:space-between; gap: 12px;
}

/* ---------------- Thread cards (Bestie Chat) ---------------- */
.page--fan-home .threads { display:grid; grid-template-columns: 1fr; gap: 12px; }
.page--fan-home .thread-card {
  border: 1px solid color-mix(in oklab, var(--navy) 12%, white);
  border-radius: 12px;
  background: linear-gradient(180deg, #fff, var(--lavender-2));
  padding: 12px 14px;
  box-shadow: 0 6px 16px rgba(20,33,54,.06);
}
.page--fan-home .thread-title { margin: 0 0 6px; }

/* ---------------- Skeletons ---------------- */
.page--fan-home .skel {
  width: 100%; height: 100%;
  background: linear-gradient(90deg, #eee 25%, #f6f6f6 37%, #eee 63%);
  background-size: 400% 100%;
  animation: shimmer 1.1s infinite linear;
  border-radius: inherit;
}
@keyframes shimmer { 0% { background-position: 100% 0; } 100% { background-position: 0 0; } }

/* ---------------- Just In thumbnails ---------------- */
.page--fan-home .justin-row {
  display: grid;
  grid-auto-flow: column;
  grid-auto-columns: 110px;
  gap: 10px;
  overflow-x: auto;
  padding: 2px 2px 8px;
  scroll-snap-type: x mandatory;
}
.page--fan-home .justin-card {
  position: relative;
  width: 110px;
  aspect-ratio: 3 / 4;
  border-radius: 12px;
  overflow: hidden;
  background: linear-gradient(180deg, var(--lavender-2), #fff);
  border: 1px solid color-mix(in oklab, var(--sky) 45%, white);
  scroll-snap-align: start;
  box-shadow: 0 3px 10px rgba(20,33,54,.05);
}
.page--fan-home .justin-card img { width: 100%; height: 100%; object-fit: cover; display: block; }
.page--fan-home .justin-badge {
  position: absolute;
  left: 6px; bottom: 6px;
  font-size: 10px;
  padding: 3px 7px;
  border-radius: 999px;
  background: rgba(255,255,255,.85);
  color: var(--navy);
  border: 1px solid color-mix(in oklab, var(--sky) 45%, white);
  backdrop-filter: blur(6px);
}
.page--fan-home .justin-skel { width: 100%; height: 100%; background: linear-gradient(90deg, #eee 25%, #f6f6f6 37%, #eee 63%); background-size: 400% 100%; animation: shimmer 1.1s infinite linear; }

/* ---------------- Bestie Chat (game vibe) ---------------- */
.page--fan-home .chat-peek {
  border-radius: 14px; border:1px solid #ECEAF7; background:#fff; box-shadow: var(--shadow);
  padding: 12px;
}
.page--fan-home .chat-head { display:flex; align-items:center; justify-content:space-between; }
.page--fan-home .chat-tabs { display:flex; gap:6px; }
.page--fan-home .tab {
  padding:.35rem .6rem; border-radius:999px; background: color-mix(in srgb, var(--blue) 18%, #fff);
  border:1px solid color-mix(in srgb, var(--blue) 45%, #fff); font-size:.85rem; color:#082134;
}
.page--fan-home .tab.is-live { background: color-mix(in srgb, var(--pink) 16%, #fff); border-color: color-mix(in srgb, var(--pink) 48%, #fff); }
.page--fan-home .chat-stream { margin-top:10px; display:grid; gap:10px; max-height: 280px; overflow:auto; padding-right:6px; }
.page--fan-home .msg { display:grid; grid-template-columns: 36px 1fr; gap:10px; }
.page--fan-home .avatar { width:36px; height:36px; border-radius:10px; background:#f3f4fb; border:1px solid #eceaf7; position:relative; overflow:hidden; }
.page--fan-home .avatar .dot { position:absolute; right:-2px; bottom:-2px; width:12px; height:12px; border:2px solid #fff; border-radius:50%; background:#22c55e; }
.page--fan-home .bubble {
  background: #fff;
  border:1px solid #eceaf7;
  border-radius:12px;
  padding:8px 10px;
  box-shadow: 0 6px 16px rgba(20,33,54,.06);
  position:relative;
}
.page--fan-home .bubble::after {
  content:""; position:absolute; left:-6px; top:10px; width:10px; height:10px; rotate:45deg;
  background:#fff; border-left:1px solid #eceaf7; border-bottom:1px solid #eceaf7;
}
.page--fan-home .meta { display:flex; gap:8px; align-items:center; font-size:.82rem; color: var(--ink-40); margin-bottom: 3px; }
.page--fan-home .handle { font-weight:700; color: var(--ink); }
.page--fan-home .reacts { margin-left:auto; display:flex; gap:6px; }
.page--fan-home .react { background: #fff; border:1px solid #e8e5f3; border-radius:999px; padding:.15rem .45rem; font-size:.8rem; }

/* ---------------- Bestie Lounge ---------------- */
.page--fan-home .lounge {
  border:1px solid #ECEAF7; border-radius:14px; background: #fff; box-shadow: var(--shadow);
  padding: 14px; display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.page--fan-home .lounge .badge {
  background: linear-gradient(90deg, var(--gold), var(--pink));
  color:#4a2b00; padding:.25rem .6rem; border-radius:999px; font-weight:800; border:1px solid rgba(0,0,0,.06);
}

/* ---------------- Creator ribbon (soft upsell) ---------------- */
.page--fan-home .creator-ribbon {
  display:flex; gap:12px; align-items:center; justify-content:center;
  background: var(--lavender-2);
  border:1px dashed rgba(0,0,0,.08);
  padding: 12px 16px; border-radius: 12px; margin: 32px 0 10px;
}

/* ---------------- Responsive ---------------- */
@media (max-width: 1024px) {
  .page--fan-home .home-hero { grid-template-columns: 1fr; }
  .page--fan-home .stat-row { justify-content:flex-start; }
}
@media (max-width: 720px) {
  .page--fan-home .card.wide { grid-template-columns: 1fr; }
  .page--fan-home .cta-grid   { grid-template-columns: 1fr; }
}
