<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Styling Adventures Admin</title>

<<<<<<< HEAD
    <div class="grid">
      <!-- Episodes Section -->
      <section class="card">
        <details open>
          <summary>üé¨ Episodes</summary>
          <div class="filter-row">
            <input type="search" id="episode-search" placeholder="Search by filename or tag" />
            <select id="episode-filter-subcategory"><option value="">All Parts</option></select>
            <button id="episode-clear-filters">Clear</button>
          </div>
          <input type="file" id="episode-upload" />
          <p id="episode-filename">No file selected</p>
          <label for="episode-category">Category:</label>
          <select id="episode-category"></select>
          <label for="episode-subcategory">Subcategory:</label>
          <select id="episode-subcategory"></select>
          <label for="episode-sub-subcategory">Part:</label>
          <select id="episode-sub-subcategory"></select>
          <button id="episode-edit-btn">‚úèÔ∏è Edit</button>
          <div id="episode-edit-panel" class="edit-panel" style="display: none;">
            <input type="text" id="new-episode-category" placeholder="New Category">
            <button id="add-episode-category">Add Category</button>
            <input type="text" id="new-episode-subcategory" placeholder="New Subcategory">
            <button id="add-episode-subcategory">Add Subcategory</button>
            <input type="text" id="new-episode-sub-subcategory" placeholder="New Part">
            <button id="add-episode-part">Add Part</button>
          </div>
          <button id="episode-upload-btn">üìÑ Upload</button>
          <progress id="episode-progress" value="0" max="100" hidden></progress>
          <ul id="episode-list"></ul>
        </details>
      </section>

      <!-- Voice Files Section -->
      <section class="card">
        <details open>
          <summary>üé§ Voice Files</summary>
          <div class="filter-row">
            <input type="search" id="voice-search" placeholder="Search by filename or tag" />
            <select id="voice-filter-subcategory"><option value="">All Parts</option></select>
            <button id="voice-clear-filters">Clear</button>
          </div>
          <input type="file" id="voice-upload" />
          <p id="voice-filename">No file selected</p>
          <label for="voice-category">Category:</label>
          <select id="voice-category"></select>
          <label for="voice-subcategory">Subcategory:</label>
          <select id="voice-subcategory"></select>
          <label for="voice-sub-subcategory">Part:</label>
          <select id="voice-sub-subcategory"></select>
          <button id="voice-edit-btn">‚úèÔ∏è Edit</button>
          <div id="voice-edit-panel" class="edit-panel" style="display: none;">
            <input type="text" id="new-voice-category" placeholder="New Category">
            <button id="add-voice-category">Add Category</button>
            <input type="text" id="new-voice-subcategory" placeholder="New Subcategory">
            <button id="add-voice-subcategory">Add Subcategory</button>
            <input type="text" id="new-voice-sub-subcategory" placeholder="New Part">
            <button id="add-voice-part">Add Part</button>
          </div>
          <button id="voice-upload-btn">üìÑ Upload</button>
          <progress id="voice-progress" value="0" max="100" hidden></progress>
          <ul id="voice-list"></ul>
        </details>
      </section>

      <!-- Closet Items Section -->
      <section class="card">
        <details open>
          <summary>üëó Closet Items</summary>
          <div class="filter-row">
            <input type="search" id="closet-search" placeholder="Search by filename or tag" />
            <select id="closet-filter-subcategory"><option value="">All Subcategories</option></select>
            <button id="closet-clear-filters">Clear</button>
          </div>
          <input type="file" id="closet-upload" />
          <p id="closet-filename">No file selected</p>
          <label for="closet-category">Category:</label>
          <select id="closet-category"></select>
          <label for="closet-subcategory">Subcategory:</label>
          <select id="closet-subcategory"></select>
          <button id="closet-edit-btn">‚úèÔ∏è Edit</button>
          <div id="closet-edit-panel" class="edit-panel" style="display: none;"></div>
          <button id="closet-upload-btn">üìÑ Upload</button>
          <progress id="closet-progress" value="0" max="100" hidden></progress>
          <ul id="closet-list"></ul>
        </details>
      </section>

      <!-- Closet Dashboard Panel -->
      <section class="card">
        <details open>
          <summary>üóÇ Closet Dashboard</summary>
          <div class="filter-row">
            <label for="closet-view-category">Category:</label>
            <select id="closet-view-category"></select>
            <label for="closet-view-subcategory">Subcategory:</label>
            <select id="closet-view-subcategory"></select>
            <label for="closet-sort">Sort by:</label>
            <select id="closet-sort">
              <option value="name">Name</option>
              <option value="date">Upload Date</option>
            </select>
            <input type="search" id="closet-search" placeholder="Search by filename" />
          </div>
          <div id="closet-dashboard-grid" class="upload-list"></div>
        </details>
      </section>
    </div>
  </div>

  <script type="module">
    import { loadDefaults } from './js/default-loader.js';
    import { toggleEdit, addOption } from './js/shared-ui.js';
    import { setupClosetDropdowns } from './js/closet-dropdown.js';
    import { renderClosetEditPanel } from './js/closet-editor.js';
    import { initClosetDashboard } from './js/closet-dashboard.js';

    document.addEventListener('DOMContentLoaded', () => {
      loadDefaults();
      setupClosetDropdowns();
      renderClosetEditPanel();
      initClosetDashboard();

      document.getElementById('episode-edit-btn')?.addEventListener('click', () => toggleEdit('episode'));
      document.getElementById('add-episode-category')?.addEventListener('click', () => addOption('episode-category', 'new-episode-category'));
      document.getElementById('add-episode-subcategory')?.addEventListener('click', () => addOption('episode-subcategory', 'new-episode-subcategory'));
      document.getElementById('add-episode-part')?.addEventListener('click', () => addOption('episode-sub-subcategory', 'new-episode-sub-subcategory'));

      document.getElementById('voice-edit-btn')?.addEventListener('click', () => toggleEdit('voice'));
      document.getElementById('add-voice-category')?.addEventListener('click', () => addOption('voice-category', 'new-voice-category'));
      document.getElementById('add-voice-subcategory')?.addEventListener('click', () => addOption('voice-subcategory', 'new-voice-subcategory'));
      document.getElementById('add-voice-part')?.addEventListener('click', () => addOption('voice-sub-subcategory', 'new-voice-sub-subcategory'));

      document.getElementById('closet-edit-btn')?.addEventListener('click', () => toggleEdit('closet'));
    });
  </script>
</body>
=======
    <!-- Zero-flash theme bootstrap -->
    <script>
      (function () {
        try {
          var mode = localStorage.getItem('theme') || 'auto';
          var effective = mode === 'auto' ? 'light' : mode;
          var root = document.documentElement;
          root.setAttribute('data-theme', effective);
          root.classList.toggle('light', effective === 'light');
          root.classList.toggle('dark',  effective === 'dark');
          // body might not exist yet in some browsers; this is harmless if it does
          document.addEventListener('DOMContentLoaded', function () {
            document.body.classList.toggle('light', effective === 'light');
            document.body.classList.toggle('dark',  effective === 'dark');
          });
        } catch (_) {}
      })();
    </script>

    <!-- Favicon lives in /public (or whatever your Vite public base is) -->
    <link rel="icon" href="/assets/lala-avatar.png" type="image/png" />

    <!-- üîí Boot-time styles only. Keep tiny. -->
    <style>
      /* Optional: prevent flash of white while React mounts */
      html, body { background: #fbf7ff; }
      body { margin: 0; }
    </style>
  </head>

  <body class="app-body">
    <div id="root"></div>
    <noscript>You need to enable JavaScript to run this app.</noscript>

    <!-- ‚úÖ Vite mounts your React app (which imports all CSS via /src/main.jsx) -->
    <script type="module" src="/src/main.jsx"></script>

    <!-- üõ† Toggle debug class with the "g" key -->
    <script>
      (function () {
        const KEY = "__debug";
        if (localStorage.getItem(KEY) === "1") {
          document.documentElement.classList.add("debug");
        }
        document.addEventListener("keydown", (e) => {
          if (e.key.toLowerCase() === "g") {
            const root = document.documentElement;
            root.classList.toggle("debug");
            localStorage.setItem(KEY, root.classList.contains("debug") ? "1" : "0");
          }
        });
      })();
    </script>
  </body>
>>>>>>> stage
</html>
